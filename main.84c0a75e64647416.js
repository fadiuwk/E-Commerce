"use strict";(self.webpackChunkECOMMERCE=self.webpackChunkECOMMERCE||[]).push([[179],{440:(St,Be,L)=>{L.d(Be,{nm:()=>Pn});var g=L(5813);L(5e3),L(5867);var ue=L(5861),Ce=L(9681),We=L(4859),st=L(2090),et=L(1877);const Ne=new Map,be={activated:!1,tokenObservers:[]},fe={initialized:!1,enabled:!1};function Oe(Ie){return Ne.get(Ie)||be}function Ee(Ie,me){Ne.set(Ie,me)}function rt(){return fe}class Qt{constructor(me,Fe,Ye,ht,Lt){if(this.operation=me,this.retryPolicy=Fe,this.getWaitDuration=Ye,this.lowerBound=ht,this.upperBound=Lt,this.pending=null,this.nextErrorWaitInterval=ht,ht>Lt)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(me){var Fe=this;return(0,ue.Z)(function*(){Fe.stop();try{Fe.pending=new st.BH,yield function Pt(Ie){return new Promise(me=>{setTimeout(me,Ie)})}(Fe.getNextRun(me)),Fe.pending.resolve(),yield Fe.pending.promise,Fe.pending=new st.BH,yield Fe.operation(),Fe.pending.resolve(),yield Fe.pending.promise,Fe.process(!0).catch(()=>{})}catch(Ye){Fe.retryPolicy(Ye)?Fe.process(!1).catch(()=>{}):Fe.stop()}})()}getNextRun(me){if(me)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const Fe=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),Fe}}}const It=new st.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function kt(Ie){if(!Oe(Ie).activated)throw It.create("use-before-activation",{appName:Ie.name})}function Qr(Ie,me){return rr.apply(this,arguments)}function rr(){return(rr=(0,ue.Z)(function*({url:Ie,body:me},Fe){const Ye={"Content-Type":"application/json"},ht=Fe.getImmediate({optional:!0});if(ht){const yi=yield ht.getHeartbeatsHeader();yi&&(Ye["X-Firebase-Client"]=yi)}const Lt={method:"POST",body:JSON.stringify(me),headers:Ye};let Ln,Rr;try{Ln=yield fetch(Ie,Lt)}catch(yi){throw It.create("fetch-network-error",{originalErrorMessage:yi.message})}if(200!==Ln.status)throw It.create("fetch-status-error",{httpStatus:Ln.status});try{Rr=yield Ln.json()}catch(yi){throw It.create("fetch-parse-error",{originalErrorMessage:yi.message})}const Un=Rr.ttl.match(/^([\d.]+)(s)$/);if(!Un||!Un[2]||isNaN(Number(Un[1])))throw It.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${Rr.ttl}`});const mi=1e3*Number(Un[1]),Bi=Date.now();return{token:Rr.attestationToken,expireTimeMillis:Bi+mi,issuedAtTimeMillis:Bi}})).apply(this,arguments)}function xr(Ie,me){const{projectId:Fe,appId:Ye,apiKey:ht}=Ie.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1beta/projects/${Fe}/apps/${Ye}:exchangeDebugToken?key=${ht}`,body:{debug_token:me}}}const Zt="firebase-app-check-store";let tn=null;function Br(){return tn||(tn=new Promise((Ie,me)=>{try{const Fe=indexedDB.open("firebase-app-check-database",1);Fe.onsuccess=Ye=>{Ie(Ye.target.result)},Fe.onerror=Ye=>{var ht;me(It.create("storage-open",{originalErrorMessage:null===(ht=Ye.target.error)||void 0===ht?void 0:ht.message}))},Fe.onupgradeneeded=Ye=>{0===Ye.oldVersion&&Ye.target.result.createObjectStore(Zt,{keyPath:"compositeKey"})}}catch(Fe){me(It.create("storage-open",{originalErrorMessage:Fe.message}))}}),tn)}function wt(){return(wt=(0,ue.Z)(function*(Ie,me){const Ye=(yield Br()).transaction(Zt,"readwrite"),Lt=Ye.objectStore(Zt).put({compositeKey:Ie,value:me});return new Promise((Ln,Rr)=>{Lt.onsuccess=Un=>{Ln()},Ye.onerror=Un=>{var mi;Rr(It.create("storage-set",{originalErrorMessage:null===(mi=Un.target.error)||void 0===mi?void 0:mi.message}))}})})).apply(this,arguments)}const Kr=new et.Yd("@firebase/app-check");function Ir(Ie,me){return(0,st.hl)()?function ur(Ie,me){return function $r(Ie,me){return wt.apply(this,arguments)}(function gr(Ie){return`${Ie.options.appId}-${Ie.name}`}(Ie),me)}(Ie,me).catch(Fe=>{Kr.warn(`Failed to write token to IndexedDB. Error: ${Fe}`)}):Promise.resolve()}function Mr(){return rt().enabled}function wn(){return Mt.apply(this,arguments)}function Mt(){return(Mt=(0,ue.Z)(function*(){const Ie=rt();if(Ie.enabled&&Ie.token)return Ie.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const bt={error:"UNKNOWN_ERROR"};function Ft(Ie){return st.US.encodeString(JSON.stringify(Ie),!1)}function gn(Ie){return qt.apply(this,arguments)}function qt(){return(qt=(0,ue.Z)(function*(Ie,me=!1){const Fe=Ie.app;kt(Fe);const Ye=Oe(Fe);let Lt,ht=Ye.token;if(!ht){const Un=yield Ye.cachedTokenPromise;Un&&yt(Un)&&(ht=Un)}if(!me&&ht&&yt(ht))return{token:ht.token};let Rr,Ln=!1;if(Mr()){Ye.exchangeTokenPromise||(Ye.exchangeTokenPromise=Qr(xr(Fe,yield wn()),Ie.heartbeatServiceProvider).then(mi=>(Ye.exchangeTokenPromise=void 0,mi)),Ln=!0);const Un=yield Ye.exchangeTokenPromise;return yield Ir(Fe,Un),Ee(Fe,Object.assign(Object.assign({},Ye),{token:Un})),{token:Un.token}}try{Ye.exchangeTokenPromise||(Ye.exchangeTokenPromise=Ye.provider.getToken().then(Un=>(Ye.exchangeTokenPromise=void 0,Un)),Ln=!0),ht=yield Ye.exchangeTokenPromise}catch(Un){"appCheck/throttled"===Un.code?Kr.warn(Un.message):Kr.error(Un),Lt=Un}return ht?(Rr={token:ht.token},Ee(Fe,Object.assign(Object.assign({},Ye),{token:ht})),yield Ir(Fe,ht)):Rr=Ht(Lt),Ln&&Re(Fe,Rr),Rr})).apply(this,arguments)}function se(Ie,me){const Fe=Oe(Ie),Ye=Fe.tokenObservers.filter(ht=>ht.next!==me);0===Ye.length&&Fe.tokenRefresher&&Fe.tokenRefresher.isRunning()&&Fe.tokenRefresher.stop(),Ee(Ie,Object.assign(Object.assign({},Fe),{tokenObservers:Ye}))}function ge(Ie){const{app:me}=Ie,Fe=Oe(me);let Ye=Fe.tokenRefresher;Ye||(Ye=function Ve(Ie){const{app:me}=Ie;return new Qt((0,ue.Z)(function*(){let Ye;if(Ye=Oe(me).token?yield gn(Ie,!0):yield gn(Ie),Ye.error)throw Ye.error}),()=>!0,()=>{const Fe=Oe(me);if(Fe.token){let Ye=Fe.token.issuedAtTimeMillis+.5*(Fe.token.expireTimeMillis-Fe.token.issuedAtTimeMillis)+3e5;return Ye=Math.min(Ye,Fe.token.expireTimeMillis-3e5),Math.max(0,Ye-Date.now())}return 0},3e4,96e4)}(Ie),Ee(me,Object.assign(Object.assign({},Fe),{tokenRefresher:Ye}))),!Ye.isRunning()&&Fe.isTokenAutoRefreshEnabled&&Ye.start()}function Re(Ie,me){const Fe=Oe(Ie).tokenObservers;for(const Ye of Fe)try{"EXTERNAL"===Ye.type&&null!=me.error?Ye.error(me.error):Ye.next(me)}catch(ht){}}function yt(Ie){return Ie.expireTimeMillis-Date.now()>0}function Ht(Ie){return{token:Ft(bt),error:Ie}}class In{constructor(me,Fe){this.app=me,this.heartbeatServiceProvider=Fe}_delete(){const{tokenObservers:me}=Oe(this.app);for(const Fe of me)se(this.app,Fe.next);return Promise.resolve()}}const ei="app-check-internal";!function Cr(){(0,Ce._registerComponent)(new We.wA("app-check",Ie=>function Jt(Ie,me){return new In(Ie,me)}(Ie.getProvider("app").getImmediate(),Ie.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((Ie,me,Fe)=>{Ie.getProvider(ei).initialize()})),(0,Ce._registerComponent)(new We.wA(ei,Ie=>function En(Ie){return{getToken:me=>gn(Ie,me),addTokenListener:me=>function he(Ie,me,Fe,Ye){const{app:ht}=Ie,Lt=Oe(ht),Ln={next:Fe,error:Ye,type:me};if(Ee(ht,Object.assign(Object.assign({},Lt),{tokenObservers:[...Lt.tokenObservers,Ln]})),Lt.token&&yt(Lt.token)){const Rr=Lt.token;Promise.resolve().then(()=>{Fe({token:Rr.token}),ge(Ie)}).catch(()=>{})}Lt.cachedTokenPromise.then(()=>ge(Ie))}(Ie,"INTERNAL",me),removeTokenListener:me=>se(Ie.app,me)}}(Ie.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Ce.registerVersion)("@firebase/app-check","0.5.5")}();class Pn{constructor(){return(0,g.vb)("app-check")}}"undefined"!=typeof window&&window},1205:(St,Be,L)=>{L.d(Be,{zQ:()=>Ue,ww:()=>en,rT:()=>fe,f7:()=>Ee,L6:()=>Ne,_Q:()=>be,lh:()=>Oe,Qv:()=>et,nw:()=>rt});var g=L(5e3),p=L(7579),Y=L(9646),pe=L(8306),ce=L(8996),we=L(6451),Te=L(6063);class Ae extends p.x{constructor(sn=1/0,_t=1/0,ct=Te.l){super(),this._bufferSize=sn,this._windowTime=_t,this._timestampProvider=ct,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=_t===1/0,this._bufferSize=Math.max(1,sn),this._windowTime=Math.max(1,_t)}next(sn){const{isStopped:_t,_buffer:ct,_infiniteTimeWindow:Qt,_timestampProvider:Pt,_windowTime:Tn}=this;_t||(ct.push(sn),!Qt&&ct.push(Pt.now()+Tn)),this._trimBuffer(),super.next(sn)}_subscribe(sn){this._throwIfClosed(),this._trimBuffer();const _t=this._innerSubscribe(sn),{_infiniteTimeWindow:ct,_buffer:Qt}=this,Pt=Qt.slice();for(let Tn=0;Tn<Pt.length&&!sn.closed;Tn+=ct?1:2)sn.next(Pt[Tn]);return this._checkFinalizedStatuses(sn),_t}_trimBuffer(){const{_bufferSize:sn,_timestampProvider:_t,_buffer:ct,_infiniteTimeWindow:Qt}=this,Pt=(Qt?1:2)*sn;if(sn<1/0&&Pt<ct.length&&ct.splice(0,ct.length-Pt),!Qt){const Tn=_t.now();let It=0;for(let pn=1;pn<ct.length&&ct[pn]<=Tn;pn+=2)It=pn;It&&ct.splice(0,It+1)}}}var Me=L(3099);function le($t,sn,_t){let ct,Qt=!1;return $t&&"object"==typeof $t?({bufferSize:ct=1/0,windowTime:sn=1/0,refCount:Qt=!1,scheduler:_t}=$t):ct=null!=$t?$t:1/0,(0,Me.B)({connector:()=>new Ae(ct,sn,_t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:Qt})}var ie=L(3900),Se=L(576);function ft($t,sn){return(0,Se.m)(sn)?(0,ie.w)(()=>$t,sn):(0,ie.w)(()=>$t)}var qe=L(5363),Xe=L(4004),at=L(590),Ge=L(9468),Je=L(9300),Tt=L(5813),vt=L(2011),ue=L(9808),Ce=L(440),We=L(127);const et=new g.OlP("angularfire2.auth.use-emulator"),Ne=new g.OlP("angularfire2.auth.settings"),be=new g.OlP("angularfire2.auth.tenant-id"),fe=new g.OlP("angularfire2.auth.langugage-code"),Oe=new g.OlP("angularfire2.auth.use-device-language"),Ee=new g.OlP("angularfire.auth.persistence"),rt=($t,sn,_t,ct,Qt,Pt,Tn,It)=>(0,vt.cc)(`${$t.name}.auth`,"AngularFireAuth",$t.name,()=>{const pn=sn.runOutsideAngular(()=>$t.auth());if(_t&&pn.useEmulator(..._t),ct&&(pn.tenantId=ct),pn.languageCode=Qt,Pt&&pn.useDeviceLanguage(),Tn)for(const[kt,yn]of Object.entries(Tn))pn.settings[kt]=yn;return It&&pn.setPersistence(It),pn},[_t,ct,Qt,Pt,Tn,It]);let Ue=(()=>{class $t{constructor(_t,ct,Qt,Pt,Tn,It,pn,kt,yn,kn,zn,Qr){const rr=new p.x,wr=(0,Y.of)(void 0).pipe((0,qe.Q)(Tn.outsideAngular),(0,ie.w)(()=>Pt.runOutsideAngular(()=>Promise.resolve().then(L.bind(L,4087)))),(0,Xe.U)(()=>(0,vt.on)(_t,Pt,ct)),(0,Xe.U)(Wn=>rt(Wn,Pt,It,kt,yn,kn,pn,zn)),le({bufferSize:1,refCount:!1}));if((0,ue.PM)(Qt))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=(0,Y.of)(null);else{wr.pipe((0,at.P)()).subscribe();const xr=wr.pipe((0,ie.w)(Zt=>Zt.getRedirectResult().then(An=>An,()=>null)),Tt.iC,le({bufferSize:1,refCount:!1})),jn=wr.pipe((0,ie.w)(Zt=>new pe.y(An=>({unsubscribe:Pt.runOutsideAngular(()=>Zt.onAuthStateChanged(tn=>An.next(tn),tn=>An.error(tn),()=>An.complete()))})))),Vt=wr.pipe((0,ie.w)(Zt=>new pe.y(An=>({unsubscribe:Pt.runOutsideAngular(()=>Zt.onIdTokenChanged(tn=>An.next(tn),tn=>An.error(tn),()=>An.complete()))}))));this.authState=xr.pipe(ft(jn),(0,Ge.R)(Tn.outsideAngular),(0,qe.Q)(Tn.insideAngular)),this.user=xr.pipe(ft(Vt),(0,Ge.R)(Tn.outsideAngular),(0,qe.Q)(Tn.insideAngular)),this.idToken=this.user.pipe((0,ie.w)(Zt=>Zt?(0,ce.D)(Zt.getIdToken()):(0,Y.of)(null))),this.idTokenResult=this.user.pipe((0,ie.w)(Zt=>Zt?(0,ce.D)(Zt.getIdTokenResult()):(0,Y.of)(null))),this.credential=(0,we.T)(xr,rr,this.authState.pipe((0,Je.h)(Zt=>!Zt))).pipe((0,Xe.U)(Zt=>(null==Zt?void 0:Zt.user)?Zt:null),(0,Ge.R)(Tn.outsideAngular),(0,qe.Q)(Tn.insideAngular))}return(0,vt.pX)(this,wr,Pt,{spy:{apply:(Wn,xr,jn)=>{(Wn.startsWith("signIn")||Wn.startsWith("createUser"))&&jn.then(Vt=>rr.next(Vt))}}})}}return $t.\u0275fac=function(_t){return new(_t||$t)(g.LFG(vt.Dh),g.LFG(vt.xv,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(Tt.HU),g.LFG(et,8),g.LFG(Ne,8),g.LFG(be,8),g.LFG(fe,8),g.LFG(Oe,8),g.LFG(Ee,8),g.LFG(Ce.nm,8))},$t.\u0275prov=g.Yz7({token:$t,factory:$t.\u0275fac,providedIn:"any"}),$t})(),en=(()=>{class $t{constructor(){We.Z.registerVersion("angularfire",Tt.q4.full,"auth-compat")}}return $t.\u0275fac=function(_t){return new(_t||$t)},$t.\u0275mod=g.oAB({type:$t}),$t.\u0275inj=g.cJS({providers:[Ue]}),$t})()},7566:(St,Be,L)=>{L.d(Be,{ST:()=>bg,yb:()=>Oy});var g=L(5e3),p=L(4986),Y=L(8306),pe=L(8996),ce=L(9646),we=L(5813),Te=L(4482),Ae=L(5403);function Me(){return(0,Te.e)((i,e)=>{let t,o=!1;i.subscribe((0,Ae.x)(e,u=>{const f=t;t=u,o&&e.next([f,u]),o=!0}))})}var le=L(4671);function Se(i,e){return i===e}var fe,ft=L(8675),qe=L(4004),Xe=L(5026),at=L(9300),Ge=L(2011),Je=L(9808),vt=(L(4087),L(3942)),ue=L(5861),Ce=L(9681),We=L(4859),st=L(1877),et=L(2090),Ne="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},be={},Oe=Oe||{},Ee=Ne||self;function rt(){}function Ue(i){var e=typeof i;return"array"==(e="object"!=e?e:i?Array.isArray(i)?"array":e:"null")||"object"==e&&"number"==typeof i.length}function en(i){var e=typeof i;return"object"==e&&null!=i||"function"==e}var sn="closure_uid_"+(1e9*Math.random()>>>0),_t=0;function ct(i,e,t){return i.call.apply(i.bind,arguments)}function Qt(i,e,t){if(!i)throw Error();if(2<arguments.length){var o=Array.prototype.slice.call(arguments,2);return function(){var u=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(u,o),i.apply(e,u)}}return function(){return i.apply(e,arguments)}}function Pt(i,e,t){return(Pt=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?ct:Qt).apply(null,arguments)}function Tn(i,e){var t=Array.prototype.slice.call(arguments,1);return function(){var o=t.slice();return o.push.apply(o,arguments),i.apply(this,o)}}function It(i,e){function t(){}t.prototype=e.prototype,i.Z=e.prototype,i.prototype=new t,i.prototype.constructor=i,i.Vb=function(o,u,f){for(var E=Array(arguments.length-2),T=2;T<arguments.length;T++)E[T-2]=arguments[T];return e.prototype[u].apply(o,E)}}function pn(){this.s=this.s,this.o=this.o}var yn={};pn.prototype.s=!1,pn.prototype.na=function(){if(!this.s&&(this.s=!0,this.M(),0)){var i=function $t(i){return Object.prototype.hasOwnProperty.call(i,sn)&&i[sn]||(i[sn]=++_t)}(this);delete yn[i]}},pn.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const kn=Array.prototype.indexOf?function(i,e){return Array.prototype.indexOf.call(i,e,void 0)}:function(i,e){if("string"==typeof i)return"string"!=typeof e||1!=e.length?-1:i.indexOf(e,0);for(let t=0;t<i.length;t++)if(t in i&&i[t]===e)return t;return-1},zn=Array.prototype.forEach?function(i,e,t){Array.prototype.forEach.call(i,e,t)}:function(i,e,t){const o=i.length,u="string"==typeof i?i.split(""):i;for(let f=0;f<o;f++)f in u&&e.call(t,u[f],f,i)};function rr(i){return Array.prototype.concat.apply([],arguments)}function wr(i){const e=i.length;if(0<e){const t=Array(e);for(let o=0;o<e;o++)t[o]=i[o];return t}return[]}function Wn(i){return/^[\s\xa0]*$/.test(i)}var Zt,xr=String.prototype.trim?function(i){return i.trim()}:function(i){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(i)[1]};function jn(i,e){return-1!=i.indexOf(e)}function Vt(i,e){return i<e?-1:i>e?1:0}e:{var An=Ee.navigator;if(An){var tn=An.userAgent;if(tn){Zt=tn;break e}}Zt=""}function Br(i,e,t){for(const o in i)e.call(t,i[o],o,i)}function bi(i){const e={};for(const t in i)e[t]=i[t];return e}var ur="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Fr(i,e){let t,o;for(let u=1;u<arguments.length;u++){for(t in o=arguments[u],o)i[t]=o[t];for(let f=0;f<ur.length;f++)t=ur[f],Object.prototype.hasOwnProperty.call(o,t)&&(i[t]=o[t])}}function ri(i){return ri[" "](i),i}ri[" "]=rt;var Ir,i,wt=jn(Zt,"Opera"),Nt=jn(Zt,"Trident")||jn(Zt,"MSIE"),Gt=jn(Zt,"Edge"),gr=Gt||Nt,Kr=jn(Zt,"Gecko")&&!(jn(Zt.toLowerCase(),"webkit")&&!jn(Zt,"Edge"))&&!(jn(Zt,"Trident")||jn(Zt,"MSIE"))&&!jn(Zt,"Edge"),fn=jn(Zt.toLowerCase(),"webkit")&&!jn(Zt,"Edge");function Di(){var i=Ee.document;return i?i.documentMode:void 0}e:{var Xn="",Kt=(i=Zt,Kr?/rv:([^\);]+)(\)|;)/.exec(i):Gt?/Edge\/([\d\.]+)/.exec(i):Nt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(i):fn?/WebKit\/(\S+)/.exec(i):wt?/(?:Version)[ \/]?(\S+)/.exec(i):void 0);if(Kt&&(Xn=Kt?Kt[1]:""),Nt){var Mr=Di();if(null!=Mr&&Mr>parseFloat(Xn)){Ir=String(Mr);break e}}Ir=Xn}var wn={};var Ft=Ee.document&&Nt&&(Di()||parseInt(Ir,10))||void 0,gn=function(){if(!Ee.addEventListener||!Object.defineProperty)return!1;var i=!1,e=Object.defineProperty({},"passive",{get:function(){i=!0}});try{Ee.addEventListener("test",rt,e),Ee.removeEventListener("test",rt,e)}catch(t){}return i}();function qt(i,e){this.type=i,this.g=this.target=e,this.defaultPrevented=!1}function he(i,e){if(qt.call(this,i?i.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,i){var t=this.type=i.type,o=i.changedTouches&&i.changedTouches.length?i.changedTouches[0]:null;if(this.target=i.target||i.srcElement,this.g=e,e=i.relatedTarget){if(Kr){e:{try{ri(e.nodeName);var u=!0;break e}catch(f){}u=!1}u||(e=null)}}else"mouseover"==t?e=i.fromElement:"mouseout"==t&&(e=i.toElement);this.relatedTarget=e,o?(this.clientX=void 0!==o.clientX?o.clientX:o.pageX,this.clientY=void 0!==o.clientY?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=i.button,this.key=i.key||"",this.ctrlKey=i.ctrlKey,this.altKey=i.altKey,this.shiftKey=i.shiftKey,this.metaKey=i.metaKey,this.pointerId=i.pointerId||0,this.pointerType="string"==typeof i.pointerType?i.pointerType:se[i.pointerType]||"",this.state=i.state,this.i=i,i.defaultPrevented&&he.Z.h.call(this)}}qt.prototype.h=function(){this.defaultPrevented=!0},It(he,qt);var se={2:"touch",3:"pen",4:"mouse"};he.prototype.h=function(){he.Z.h.call(this);var i=this.i;i.preventDefault?i.preventDefault():i.returnValue=!1};var ge="closure_listenable_"+(1e6*Math.random()|0),Ve=0;function Re(i,e,t,o,u){this.listener=i,this.proxy=null,this.src=e,this.type=t,this.capture=!!o,this.ia=u,this.key=++Ve,this.ca=this.fa=!1}function yt(i){i.ca=!0,i.listener=null,i.proxy=null,i.src=null,i.ia=null}function Ht(i){this.src=i,this.g={},this.h=0}function In(i,e){var t=e.type;if(t in i.g){var f,o=i.g[t],u=kn(o,e);(f=0<=u)&&Array.prototype.splice.call(o,u,1),f&&(yt(e),0==i.g[t].length&&(delete i.g[t],i.h--))}}function Jt(i,e,t,o){for(var u=0;u<i.length;++u){var f=i[u];if(!f.ca&&f.listener==e&&f.capture==!!t&&f.ia==o)return u}return-1}Ht.prototype.add=function(i,e,t,o,u){var f=i.toString();(i=this.g[f])||(i=this.g[f]=[],this.h++);var E=Jt(i,e,o,u);return-1<E?(e=i[E],t||(e.fa=!1)):((e=new Re(e,this.src,f,!!o,u)).fa=t,i.push(e)),e};var En="closure_lm_"+(1e6*Math.random()|0),Rn={};function Xt(i,e,t,o,u){if(o&&o.once)return Bt(i,e,t,o,u);if(Array.isArray(e)){for(var f=0;f<e.length;f++)Xt(i,e[f],t,o,u);return null}return t=ot(t),i&&i[ge]?i.N(e,t,en(o)?!!o.capture:!!o,u):$n(i,e,t,!1,o,u)}function $n(i,e,t,o,u,f){if(!e)throw Error("Invalid event type");var E=en(u)?!!u.capture:!!u,T=pi(i);if(T||(i[En]=T=new Ht(i)),(t=T.add(e,t,o,E,f)).proxy)return t;if(o=function Lr(){var e=ir;return function i(t){return e.call(i.src,i.listener,t)}}(),t.proxy=o,o.src=i,o.listener=t,i.addEventListener)gn||(u=E),void 0===u&&(u=!1),i.addEventListener(e.toString(),o,u);else if(i.attachEvent)i.attachEvent(er(e.toString()),o);else{if(!i.addListener||!i.removeListener)throw Error("addEventListener and attachEvent are unavailable.");i.addListener(o)}return t}function Bt(i,e,t,o,u){if(Array.isArray(e)){for(var f=0;f<e.length;f++)Bt(i,e[f],t,o,u);return null}return t=ot(t),i&&i[ge]?i.O(e,t,en(o)?!!o.capture:!!o,u):$n(i,e,t,!0,o,u)}function as(i,e,t,o,u){if(Array.isArray(e))for(var f=0;f<e.length;f++)as(i,e[f],t,o,u);else o=en(o)?!!o.capture:!!o,t=ot(t),i&&i[ge]?(i=i.i,(e=String(e).toString())in i.g&&-1<(t=Jt(f=i.g[e],t,o,u))&&(yt(f[t]),Array.prototype.splice.call(f,t,1),0==f.length&&(delete i.g[e],i.h--))):i&&(i=pi(i))&&(e=i.g[e.toString()],i=-1,e&&(i=Jt(e,t,o,u)),(t=-1<i?e[i]:null)&&lr(t))}function lr(i){if("number"!=typeof i&&i&&!i.ca){var e=i.src;if(e&&e[ge])In(e.i,i);else{var t=i.type,o=i.proxy;e.removeEventListener?e.removeEventListener(t,o,i.capture):e.detachEvent?e.detachEvent(er(t),o):e.addListener&&e.removeListener&&e.removeListener(o),(t=pi(e))?(In(t,i),0==t.h&&(t.src=null,e[En]=null)):yt(i)}}}function er(i){return i in Rn?Rn[i]:Rn[i]="on"+i}function ir(i,e){if(i.ca)i=!0;else{e=new he(e,this);var t=i.listener,o=i.ia||i.src;i.fa&&lr(i),i=t.call(o,e)}return i}function pi(i){return(i=i[En])instanceof Ht?i:null}var Hr="__closure_events_fn_"+(1e9*Math.random()>>>0);function ot(i){return"function"==typeof i?i:(i[Hr]||(i[Hr]=function(e){return i.handleEvent(e)}),i[Hr])}function Ot(){pn.call(this),this.i=new Ht(this),this.P=this,this.I=null}function on(i,e){var t,o=i.I;if(o)for(t=[];o;o=o.I)t.push(o);if(i=i.P,o=e.type||e,"string"==typeof e)e=new qt(e,i);else if(e instanceof qt)e.target=e.target||i;else{var u=e;Fr(e=new qt(o,i),u)}if(u=!0,t)for(var f=t.length-1;0<=f;f--){var E=e.g=t[f];u=sr(E,o,!0,e)&&u}if(u=sr(E=e.g=i,o,!0,e)&&u,u=sr(E,o,!1,e)&&u,t)for(f=0;f<t.length;f++)u=sr(E=e.g=t[f],o,!1,e)&&u}function sr(i,e,t,o){if(!(e=i.i.g[String(e)]))return!0;e=e.concat();for(var u=!0,f=0;f<e.length;++f){var E=e[f];if(E&&!E.ca&&E.capture==t){var T=E.listener,B=E.ia||E.src;E.fa&&In(i.i,E),u=!1!==T.call(B,o)&&u}}return u&&!o.defaultPrevented}It(Ot,pn),Ot.prototype[ge]=!0,Ot.prototype.removeEventListener=function(i,e,t,o){as(this,i,e,t,o)},Ot.prototype.M=function(){if(Ot.Z.M.call(this),this.i){var e,i=this.i;for(e in i.g){for(var t=i.g[e],o=0;o<t.length;o++)yt(t[o]);delete i.g[e],i.h--}}this.I=null},Ot.prototype.N=function(i,e,t,o){return this.i.add(String(i),e,!1,t,o)},Ot.prototype.O=function(i,e,t,o){return this.i.add(String(i),e,!0,t,o)};var ii=Ee.JSON.stringify;function dr(){var i=ei;let e=null;return i.g&&(e=i.g,i.g=i.g.next,i.g||(i.h=null),e.next=null),e}var jr,On=new class{constructor(i,e){this.i=i,this.j=e,this.h=0,this.g=null}get(){let i;return 0<this.h?(this.h--,i=this.g,this.g=i.next,i.next=null):i=this.i(),i}}(()=>new mr,i=>i.reset());class mr{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function gi(i){Ee.setTimeout(()=>{throw i},0)}function hn(i,e){jr||function xi(){var i=Ee.Promise.resolve(void 0);jr=function(){i.then(Cr)}}(),Mi||(jr(),Mi=!0),ei.add(i,e)}var Mi=!1,ei=new class si{constructor(){this.h=this.g=null}add(e,t){const o=On.get();o.set(e,t),this.h?this.h.next=o:this.g=o,this.h=o}};function Cr(){for(var i;i=dr();){try{i.h.call(i.g)}catch(t){gi(t)}var e=On;e.j(i),100>e.h&&(e.h++,i.next=e.g,e.g=i)}Mi=!1}function cr(i,e){Ot.call(this),this.h=i||1,this.g=e||Ee,this.j=Pt(this.kb,this),this.l=Date.now()}function br(i){i.da=!1,i.S&&(i.g.clearTimeout(i.S),i.S=null)}function Pn(i,e,t){if("function"==typeof i)t&&(i=Pt(i,t));else{if(!i||"function"!=typeof i.handleEvent)throw Error("Invalid listener argument");i=Pt(i.handleEvent,i)}return 2147483647<Number(e)?-1:Ee.setTimeout(i,e||0)}function Fn(i){i.g=Pn(()=>{i.g=null,i.i&&(i.i=!1,Fn(i))},i.j);const e=i.h;i.h=null,i.m.apply(null,e)}It(cr,Ot),(fe=cr.prototype).da=!1,fe.S=null,fe.kb=function(){if(this.da){var i=Date.now()-this.l;0<i&&i<.8*this.h?this.S=this.g.setTimeout(this.j,this.h-i):(this.S&&(this.g.clearTimeout(this.S),this.S=null),on(this,"tick"),this.da&&(br(this),this.start()))}},fe.start=function(){this.da=!0,this.S||(this.S=this.g.setTimeout(this.j,this.h),this.l=Date.now())},fe.M=function(){cr.Z.M.call(this),br(this),delete this.g};class es extends pn{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Fn(this)}M(){super.M(),this.g&&(Ee.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function yr(i){pn.call(this),this.h=i,this.g={}}It(yr,pn);var Gr=[];function ti(i,e,t,o){Array.isArray(t)||(t&&(Gr[0]=t.toString()),t=Gr);for(var u=0;u<t.length;u++){var f=Xt(e,t[u],o||i.handleEvent,!1,i.h||i);if(!f)break;i.g[f.key]=f}}function us(i){Br(i.g,function(e,t){this.g.hasOwnProperty(t)&&lr(e)},i),i.g={}}function _r(){this.g=!0}function Vi(i,e,t,o){i.info(function(){return"XMLHTTP TEXT ("+e+"): "+function _s(i,e){if(!i.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(i=0;i<t.length;i++)if(Array.isArray(t[i])){var o=t[i];if(!(2>o.length)){var u=o[1];if(Array.isArray(u)&&!(1>u.length)){var f=u[0];if("noop"!=f&&"stop"!=f&&"close"!=f)for(var E=1;E<u.length;E++)u[E]=""}}}return ii(t)}catch(T){return e}}(i,t)+(o?" "+o:"")})}yr.prototype.M=function(){yr.Z.M.call(this),us(this)},yr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},_r.prototype.Aa=function(){this.g=!1},_r.prototype.info=function(){};var Sn={},Ss=null;function xs(){return Ss=Ss||new Ot}function Ie(i){qt.call(this,Sn.Ma,i)}function me(i){const e=xs();on(e,new Ie(e,i))}function Fe(i,e){qt.call(this,Sn.STAT_EVENT,i),this.stat=e}function Ye(i){const e=xs();on(e,new Fe(e,i))}function ht(i,e){qt.call(this,Sn.Na,i),this.size=e}function Lt(i,e){if("function"!=typeof i)throw Error("Fn must not be null and must be a function");return Ee.setTimeout(function(){i()},e)}Sn.Ma="serverreachability",It(Ie,qt),Sn.STAT_EVENT="statevent",It(Fe,qt),Sn.Na="timingevent",It(ht,qt);var Ln={NO_ERROR:0,lb:1,yb:2,xb:3,sb:4,wb:5,zb:6,Ja:7,TIMEOUT:8,Cb:9},Rr={qb:"complete",Mb:"success",Ka:"error",Ja:"abort",Eb:"ready",Fb:"readystatechange",TIMEOUT:"timeout",Ab:"incrementaldata",Db:"progress",tb:"downloadprogress",Ub:"uploadprogress"};function Un(){}function Bi(){}Un.prototype.h=null;var Q,yi={OPEN:"a",pb:"b",Ka:"c",Bb:"d"};function Zi(){qt.call(this,"d")}function Ti(){qt.call(this,"c")}function ne(){}function $(i,e,t,o){this.l=i,this.j=e,this.m=t,this.X=o||1,this.V=new yr(this),this.P=De,this.W=new cr(i=gr?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.Y=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.N=-1,this.I=!1,this.O=0,this.L=null,this.aa=this.J=this.$=this.U=!1,this.h=new te}function te(){this.i=null,this.g="",this.h=!1}It(Zi,qt),It(Ti,qt),It(ne,Un),ne.prototype.g=function(){return new XMLHttpRequest},ne.prototype.i=function(){return{}},Q=new ne;var De=45e3,ut={},Yt={};function xn(i,e,t){i.K=1,i.v=Et(H(e)),i.s=t,i.U=!0,Zr(i,null)}function Zr(i,e){i.F=Date.now(),vs(i),i.A=H(i.v);var t=i.A,o=i.X;Array.isArray(o)||(o=[String(o)]),k(t.h,"t",o),i.C=0,t=i.l.H,i.h=new te,i.g=eu(i.l,t?e:null,!i.s),0<i.O&&(i.L=new es(Pt(i.Ia,i,i.g),i.O)),ti(i.V,i.g,"readystatechange",i.gb),e=i.H?bi(i.H):{},i.s?(i.u||(i.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",i.g.ea(i.A,i.u,i.s,e)):(i.u="GET",i.g.ea(i.A,i.u,null,e)),me(1),function ms(i,e,t,o,u,f){i.info(function(){if(i.g)if(f)for(var E="",T=f.split("&"),B=0;B<T.length;B++){var z=T[B].split("=");if(1<z.length){var oe=z[0];z=z[1];var _e=oe.split("_");E=2<=_e.length&&"type"==_e[1]?E+(oe+"=")+z+"&":E+(oe+"=redacted&")}}else E=null;else E=f;return"XMLHTTP REQ ("+o+") [attempt "+u+"]: "+e+"\n"+t+"\n"+E})}(i.j,i.u,i.A,i.m,i.X,i.s)}function ls(i){return!!i.g&&"GET"==i.u&&2!=i.K&&i.l.Ba}function ni(i,e,t){let u,o=!0;for(;!i.I&&i.C<t.length;){if(u=Ri(i,t),u==Yt){4==e&&(i.o=4,Ye(14),o=!1),Vi(i.j,i.m,null,"[Incomplete Response]");break}if(u==ut){i.o=4,Ye(15),Vi(i.j,i.m,t,"[Invalid Chunk]"),o=!1;break}Vi(i.j,i.m,u,null),Ms(i,u)}ls(i)&&u!=Yt&&u!=ut&&(i.h.g="",i.C=0),4!=e||0!=t.length||i.h.h||(i.o=1,Ye(16),o=!1),i.i=i.i&&o,o?0<t.length&&!i.aa&&(i.aa=!0,(e=i.l).g==i&&e.$&&!e.L&&(e.h.info("Great, no buffering proxy detected. Bytes received: "+t.length),Hi(e),e.L=!0,Ye(11))):(Vi(i.j,i.m,t,"[Invalid Chunked Response]"),Oi(i),Ur(i))}function Ri(i,e){var t=i.C,o=e.indexOf("\n",t);return-1==o?Yt:(t=Number(e.substring(t,o)),isNaN(t)?ut:(o+=1)+t>e.length?Yt:(e=e.substr(o,t),i.C=o+t,e))}function vs(i){i.Y=Date.now()+i.P,Vs(i,i.P)}function Vs(i,e){if(null!=i.B)throw Error("WatchDog timer not null");i.B=Lt(Pt(i.eb,i),e)}function ai(i){i.B&&(Ee.clearTimeout(i.B),i.B=null)}function Ur(i){0==i.l.G||i.I||zs(i.l,i)}function Oi(i){ai(i);var e=i.L;e&&"function"==typeof e.na&&e.na(),i.L=null,br(i.W),us(i.V),i.g&&(e=i.g,i.g=null,e.abort(),e.na())}function Ms(i,e){try{var t=i.l;if(0!=t.G&&(t.g==i||Le(t.i,i)))if(t.I=i.N,!i.J&&Le(t.i,i)&&3==t.G){try{var o=t.Ca.g.parse(e)}catch(z){o=null}if(Array.isArray(o)&&3==o.length){var u=o;if(0==u[0])e:if(t.u)t.ta=u[1],0<t.ta-t.U&&37500>u[2]&&t.N&&0==t.A&&!t.v&&(t.v=Lt(Pt(t.ab,t),6e3));else{if(t.g){if(!(t.g.F+3e3<i.F))break e;Cs(t),ca(t)}vi(t),Ye(18)}if(1>=ye(t.i)&&t.ka){try{t.ka()}catch(z){}t.ka=void 0}}else ds(t,11)}else if((i.J||t.g==i)&&Cs(t),!Wn(e))for(u=t.Ca.g.parse(e),e=0;e<u.length;e++){let z=u[e];if(t.U=z[0],z=z[1],2==t.G)if("c"==z[0]){t.J=z[1],t.la=z[2];const oe=z[3];null!=oe&&(t.ma=oe,t.h.info("VER="+t.ma));const _e=z[4];null!=_e&&(t.za=_e,t.h.info("SVER="+t.za));const Ze=z[5];null!=Ze&&"number"==typeof Ze&&0<Ze&&(t.K=o=1.5*Ze,t.h.info("backChannelRequestTimeoutMs_="+o)),o=t;const lt=i.g;if(lt){const pt=lt.g?lt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(pt){var f=o.i;!f.g&&(jn(pt,"spdy")||jn(pt,"quic")||jn(pt,"h2"))&&(f.j=f.l,f.g=new Set,f.h&&(nt(f,f.h),f.h=null))}if(o.D){const ln=lt.g?lt.g.getResponseHeader("X-HTTP-Session-Id"):null;ln&&(o.sa=ln,Ke(o.F,o.D,ln))}}t.G=3,t.j&&t.j.xa(),t.$&&(t.O=Date.now()-i.F,t.h.info("Handshake RTT: "+t.O+"ms"));var E=i;if((o=t).oa=xa(o,o.H?o.la:null,o.W),E.J){Ut(o.i,E);var T=E,B=o.K;B&&T.setTimeout(B),T.B&&(ai(T),vs(T)),o.g=E}else Yo(o);0<t.l.length&&Ko(t)}else"stop"!=z[0]&&"close"!=z[0]||ds(t,7);else 3==t.G&&("stop"==z[0]||"close"==z[0]?"stop"==z[0]?ds(t,7):ci(t):"noop"!=z[0]&&t.j&&t.j.wa(z),t.A=0)}me(4)}catch(z){}}function ws(i,e){if(i.forEach&&"function"==typeof i.forEach)i.forEach(e,void 0);else if(Ue(i)||"string"==typeof i)zn(i,e,void 0);else{if(i.T&&"function"==typeof i.T)var t=i.T();else if(i.R&&"function"==typeof i.R)t=void 0;else if(Ue(i)||"string"==typeof i){t=[];for(var o=i.length,u=0;u<o;u++)t.push(u)}else for(u in t=[],o=0,i)t[o++]=u;o=function Es(i){if(i.R&&"function"==typeof i.R)return i.R();if("string"==typeof i)return i.split("");if(Ue(i)){for(var e=[],t=i.length,o=0;o<t;o++)e.push(i[o]);return e}for(o in e=[],t=0,i)e[t++]=i[o];return e}(i),u=o.length;for(var f=0;f<u;f++)e.call(void 0,o[f],t&&t[f],i)}}function cs(i,e){this.h={},this.g=[],this.i=0;var t=arguments.length;if(1<t){if(t%2)throw Error("Uneven number of arguments");for(var o=0;o<t;o+=2)this.set(arguments[o],arguments[o+1])}else if(i)if(i instanceof cs)for(t=i.T(),o=0;o<t.length;o++)this.set(t[o],i.get(t[o]));else for(o in i)this.set(o,i[o])}function Jr(i){if(i.i!=i.g.length){for(var e=0,t=0;e<i.g.length;){var o=i.g[e];qi(i.h,o)&&(i.g[t++]=o),e++}i.g.length=t}if(i.i!=i.g.length){var u={};for(t=e=0;e<i.g.length;)qi(u,o=i.g[e])||(i.g[t++]=o,u[o]=1),e++;i.g.length=t}}function qi(i,e){return Object.prototype.hasOwnProperty.call(i,e)}(fe=$.prototype).setTimeout=function(i){this.P=i},fe.gb=function(i){i=i.target;const e=this.L;e&&3==qs(i)?e.l():this.Ia(i)},fe.Ia=function(i){try{if(i==this.g)e:{const oe=qs(this.g);var e=this.g.Da();const _e=this.g.ba();if(!(3>oe)&&(3!=oe||gr||this.g&&(this.h.h||this.g.ga()||Po(this.g)))){this.I||4!=oe||7==e||me(8==e||0>=_e?3:2),ai(this);var t=this.g.ba();this.N=t;t:if(ls(this)){var o=Po(this.g);i="";var u=o.length,f=4==qs(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Oi(this),Ur(this);var E="";break t}this.h.i=new Ee.TextDecoder}for(e=0;e<u;e++)this.h.h=!0,i+=this.h.i.decode(o[e],{stream:f&&e==u-1});o.splice(0,u),this.h.g+=i,this.C=0,E=this.h.g}else E=this.g.ga();if(this.i=200==t,function oi(i,e,t,o,u,f,E){i.info(function(){return"XMLHTTP RESP ("+o+") [ attempt "+u+"]: "+e+"\n"+t+"\n"+f+" "+E})}(this.j,this.u,this.A,this.m,this.X,oe,t),this.i){if(this.$&&!this.J){t:{if(this.g){var T,B=this.g;if((T=B.g?B.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Wn(T)){var z=T;break t}}z=null}if(!(t=z)){this.i=!1,this.o=3,Ye(12),Oi(this),Ur(this);break e}Vi(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,Ms(this,t)}this.U?(ni(this,oe,E),gr&&this.i&&3==oe&&(ti(this.V,this.W,"tick",this.fb),this.W.start())):(Vi(this.j,this.m,E,null),Ms(this,E)),4==oe&&Oi(this),this.i&&!this.I&&(4==oe?zs(this.l,this):(this.i=!1,vs(this)))}else 400==t&&0<E.indexOf("Unknown SID")?(this.o=3,Ye(12)):(this.o=0,Ye(13)),Oi(this),Ur(this)}}}catch(oe){}},fe.fb=function(){if(this.g){var i=qs(this.g),e=this.g.ga();this.C<e.length&&(ai(this),ni(this,i,e),this.i&&4!=i&&vs(this))}},fe.cancel=function(){this.I=!0,Oi(this)},fe.eb=function(){this.B=null;const i=Date.now();0<=i-this.Y?(function ys(i,e){i.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(me(3),Ye(17)),Oi(this),this.o=2,Ur(this)):Vs(this,this.Y-i)},(fe=cs.prototype).R=function(){Jr(this);for(var i=[],e=0;e<this.g.length;e++)i.push(this.h[this.g[e]]);return i},fe.T=function(){return Jr(this),this.g.concat()},fe.get=function(i,e){return qi(this.h,i)?this.h[i]:e},fe.set=function(i,e){qi(this.h,i)||(this.i++,this.g.push(i)),this.h[i]=e},fe.forEach=function(i,e){for(var t=this.T(),o=0;o<t.length;o++){var u=t[o],f=this.get(u);i.call(e,f,u,this)}};var ro=/^(?:([^:/?#.]+):)?(?:\/\/(?:([^\\/?#]*)@)?([^\\/?#]*?)(?::([0-9]+))?(?=[\\/?#]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function P(i,e){if(this.i=this.s=this.j="",this.m=null,this.o=this.l="",this.g=!1,i instanceof P){this.g=void 0!==e?e:i.g,O(this,i.j),this.s=i.s,K(this,i.i),de(this,i.m),this.l=i.l,e=i.h;var t=new zi;t.i=e.i,e.g&&(t.g=new cs(e.g),t.h=e.h),ze(this,t),this.o=i.o}else i&&(t=String(i).match(ro))?(this.g=!!e,O(this,t[1]||"",!0),this.s=_n(t[2]||""),K(this,t[3]||"",!0),de(this,t[4]),this.l=_n(t[5]||"",!0),ze(this,t[6]||"",!0),this.o=_n(t[7]||"")):(this.g=!!e,this.h=new zi(null,this.g))}function H(i){return new P(i)}function O(i,e,t){i.j=t?_n(e,!0):e,i.j&&(i.j=i.j.replace(/:$/,""))}function K(i,e,t){i.i=t?_n(e,!0):e}function de(i,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);i.m=e}else i.m=null}function ze(i,e,t){e instanceof zi?(i.h=e,function M(i,e){e&&!i.j&&(Wi(i),i.i=null,i.g.forEach(function(t,o){var u=o.toLowerCase();o!=u&&(Gs(this,o),k(this,u,t))},i)),i.j=e}(i.h,i.g)):(t||(e=bn(e,Xr)),i.h=new zi(e,i.g))}function Ke(i,e,t){i.h.set(e,t)}function Et(i){return Ke(i,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),i}function _n(i,e){return i?e?decodeURI(i.replace(/%25/g,"%2525")):decodeURIComponent(i):""}function bn(i,e,t){return"string"==typeof i?(i=encodeURI(i).replace(e,Or),t&&(i=i.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),i):null}function Or(i){return"%"+((i=i.charCodeAt(0))>>4&15).toString(16)+(15&i).toString(16)}P.prototype.toString=function(){var i=[],e=this.j;e&&i.push(bn(e,ar,!0),":");var t=this.i;return(t||"file"==e)&&(i.push("//"),(e=this.s)&&i.push(bn(e,ar,!0),"@"),i.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&i.push(":",String(t))),(t=this.l)&&(this.i&&"/"!=t.charAt(0)&&i.push("/"),i.push(bn(t,"/"==t.charAt(0)?ji:hr,!0))),(t=this.h.toString())&&i.push("?",t),(t=this.o)&&i.push("#",bn(t,un)),i.join("")};var ar=/[#\/\?@]/g,hr=/[#\?:]/g,ji=/[#\?]/g,Xr=/[#\?@]/g,un=/#/g;function zi(i,e){this.h=this.g=null,this.i=i||null,this.j=!!e}function Wi(i){i.g||(i.g=new cs,i.h=0,i.i&&function vr(i,e){if(i){i=i.split("&");for(var t=0;t<i.length;t++){var o=i[t].indexOf("="),u=null;if(0<=o){var f=i[t].substring(0,o);u=i[t].substring(o+1)}else f=i[t];e(f,u?decodeURIComponent(u.replace(/\+/g," ")):"")}}}(i.i,function(e,t){i.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function Gs(i,e){Wi(i),e=R(i,e),qi(i.g.h,e)&&(i.i=null,i.h-=i.g.get(e).length,qi((i=i.g).h,e)&&(delete i.h[e],i.i--,i.g.length>2*i.i&&Jr(i)))}function Bs(i,e){return Wi(i),e=R(i,e),qi(i.g.h,e)}function k(i,e,t){Gs(i,e),0<t.length&&(i.i=null,i.g.set(R(i,e),wr(t)),i.h+=t.length)}function R(i,e){return e=String(e),i.j&&(e=e.toLowerCase()),e}function D(i){this.l=i||W,i=Ee.PerformanceNavigationTiming?0<(i=Ee.performance.getEntriesByType("navigation")).length&&("hq"==i[0].nextHopProtocol||"h2"==i[0].nextHopProtocol):!!(Ee.g&&Ee.g.Ea&&Ee.g.Ea()&&Ee.g.Ea().Zb),this.j=i?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(fe=zi.prototype).add=function(i,e){Wi(this),this.i=null,i=R(this,i);var t=this.g.get(i);return t||this.g.set(i,t=[]),t.push(e),this.h+=1,this},fe.forEach=function(i,e){Wi(this),this.g.forEach(function(t,o){zn(t,function(u){i.call(e,u,o,this)},this)},this)},fe.T=function(){Wi(this);for(var i=this.g.R(),e=this.g.T(),t=[],o=0;o<e.length;o++)for(var u=i[o],f=0;f<u.length;f++)t.push(e[o]);return t},fe.R=function(i){Wi(this);var e=[];if("string"==typeof i)Bs(this,i)&&(e=rr(e,this.g.get(R(this,i))));else{i=this.g.R();for(var t=0;t<i.length;t++)e=rr(e,i[t])}return e},fe.set=function(i,e){return Wi(this),this.i=null,Bs(this,i=R(this,i))&&(this.h-=this.g.get(i).length),this.g.set(i,[e]),this.h+=1,this},fe.get=function(i,e){return i&&0<(i=this.R(i)).length?String(i[0]):e},fe.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var i=[],e=this.g.T(),t=0;t<e.length;t++){var o=e[t],u=encodeURIComponent(String(o));o=this.R(o);for(var f=0;f<o.length;f++){var E=u;""!==o[f]&&(E+="="+encodeURIComponent(String(o[f]))),i.push(E)}}return this.i=i.join("&")};var W=10;function ee(i){return!!i.h||!!i.g&&i.g.size>=i.j}function ye(i){return i.h?1:i.g?i.g.size:0}function Le(i,e){return i.h?i.h==e:!!i.g&&i.g.has(e)}function nt(i,e){i.g?i.g.add(e):i.h=e}function Ut(i,e){i.h&&i.h==e?i.h=null:i.g&&i.g.has(e)&&i.g.delete(e)}function Ct(i){if(null!=i.h)return i.i.concat(i.h.D);if(null!=i.g&&0!==i.g.size){let e=i.i;for(const t of i.g.values())e=e.concat(t.D);return e}return wr(i.i)}function vn(){}function Hn(){this.g=new vn}function qr(i,e,t){const o=t||"";try{ws(i,function(u,f){let E=u;en(u)&&(E=ii(u)),e.push(o+f+"="+encodeURIComponent(E))})}catch(u){throw e.push(o+"type="+encodeURIComponent("_badmap")),u}}function Yn(i,e,t,o,u){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,u(o)}catch(f){}}function tr(i){this.l=i.$b||null,this.j=i.ib||!1}function Ai(i,e){Ot.call(this),this.D=i,this.u=e,this.m=void 0,this.readyState=Er,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}D.prototype.cancel=function(){if(this.i=Ct(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const i of this.g.values())i.cancel();this.g.clear()}},vn.prototype.stringify=function(i){return Ee.JSON.stringify(i,void 0)},vn.prototype.parse=function(i){return Ee.JSON.parse(i,void 0)},It(tr,Un),tr.prototype.g=function(){return new Ai(this.l,this.j)},tr.prototype.i=function(i){return function(){return i}}({}),It(Ai,Ot);var Er=0;function ui(i){i.j.read().then(i.Sa.bind(i)).catch(i.ha.bind(i))}function $i(i){i.readyState=4,i.l=null,i.j=null,i.A=null,Yr(i)}function Yr(i){i.onreadystatechange&&i.onreadystatechange.call(i)}(fe=Ai.prototype).open=function(i,e){if(this.readyState!=Er)throw this.abort(),Error("Error reopening a connection");this.C=i,this.B=e,this.readyState=1,Yr(this)},fe.send=function(i){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};i&&(e.body=i),(this.D||Ee).fetch(new Request(this.B,e)).then(this.Va.bind(this),this.ha.bind(this))},fe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted."),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,$i(this)),this.readyState=Er},fe.Va=function(i){if(this.g&&(this.l=i,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=i.headers,this.readyState=2,Yr(this)),this.g&&(this.readyState=3,Yr(this),this.g)))if("arraybuffer"===this.responseType)i.arrayBuffer().then(this.Ta.bind(this),this.ha.bind(this));else if(void 0!==Ee.ReadableStream&&"body"in i){if(this.j=i.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;ui(this)}else i.text().then(this.Ua.bind(this),this.ha.bind(this))},fe.Sa=function(i){if(this.g){if(this.u&&i.value)this.response.push(i.value);else if(!this.u){var e=i.value?i.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!i.done}))&&(this.response=this.responseText+=e)}i.done?$i(this):Yr(this),3==this.readyState&&ui(this)}},fe.Ua=function(i){this.g&&(this.response=this.responseText=i,$i(this))},fe.Ta=function(i){this.g&&(this.response=i,$i(this))},fe.ha=function(){this.g&&$i(this)},fe.setRequestHeader=function(i,e){this.v.append(i,e)},fe.getResponseHeader=function(i){return this.h&&this.h.get(i.toLowerCase())||""},fe.getAllResponseHeaders=function(){if(!this.h)return"";const i=[],e=this.h.entries();for(var t=e.next();!t.done;)i.push((t=t.value)[0]+": "+t[1]),t=e.next();return i.join("\r\n")},Object.defineProperty(Ai.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(i){this.m=i?"include":"same-origin"}});var li=Ee.JSON.parse;function Pr(i){Ot.call(this),this.headers=new cs,this.u=i||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=Rs,this.K=this.L=!1}It(Pr,Ot);var Rs="",po=/^https?$/i,Zs=["POST","PUT"];function Da(i){return"content-type"==i.toLowerCase()}function Wo(i,e){i.h=!1,i.g&&(i.l=!0,i.g.abort(),i.l=!1),i.j=e,i.m=5,go(i),io(i)}function go(i){i.D||(i.D=!0,on(i,"complete"),on(i,"error"))}function Ta(i){if(i.h&&void 0!==Oe&&(!i.C[1]||4!=qs(i)||2!=i.ba()))if(i.v&&4==qs(i))Pn(i.Fa,0,i);else if(on(i,"readystatechange"),4==qs(i)){i.h=!1;try{const T=i.ba();e:switch(T){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var o;if(o=0===T){var u=String(i.H).match(ro)[1]||null;if(!u&&Ee.self&&Ee.self.location){var f=Ee.self.location.protocol;u=f.substr(0,f.length-1)}o=!po.test(u?u.toLowerCase():"")}t=o}if(t)on(i,"complete"),on(i,"success");else{i.m=6;try{var E=2<qs(i)?i.g.statusText:""}catch(B){E=""}i.j=E+" ["+i.ba()+"]",go(i)}}finally{io(i)}}}function io(i,e){if(i.g){Aa(i);const t=i.g,o=i.C[0]?rt:null;i.g=null,i.C=null,e||on(i,"ready");try{t.onreadystatechange=o}catch(u){}}}function Aa(i){i.g&&i.K&&(i.g.ontimeout=null),i.A&&(Ee.clearTimeout(i.A),i.A=null)}function qs(i){return i.g?i.g.readyState:0}function Po(i){try{if(!i.g)return null;if("response"in i.g)return i.g.response;switch(i.J){case Rs:case"text":return i.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in i.g)return i.g.mozResponseArrayBuffer}return null}catch(e){return null}}function la(i,e,t){e:{for(o in t){var o=!1;break e}o=!0}o||(t=function Iu(i){let e="";return Br(i,function(t,o){e+=o,e+=":",e+=t,e+="\r\n"}),e}(t),"string"==typeof i?null!=t&&encodeURIComponent(String(t)):Ke(i,e,t))}function _i(i,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[i]||e}function No(i){this.za=0,this.l=[],this.h=new _r,this.la=this.oa=this.F=this.W=this.g=this.sa=this.D=this.aa=this.o=this.P=this.s=null,this.Za=this.V=0,this.Xa=_i("failFast",!1,i),this.N=this.v=this.u=this.m=this.j=null,this.X=!0,this.I=this.ta=this.U=-1,this.Y=this.A=this.C=0,this.Pa=_i("baseRetryDelayMs",5e3,i),this.$a=_i("retryDelaySeedMs",1e4,i),this.Ya=_i("forwardChannelMaxRetries",2,i),this.ra=_i("forwardChannelRequestTimeoutMs",2e4,i),this.qa=i&&i.xmlHttpFactory||void 0,this.Ba=i&&i.Yb||!1,this.K=void 0,this.H=i&&i.supportsCrossDomainXhr||!1,this.J="",this.i=new D(i&&i.concurrentRequestLimit),this.Ca=new Hn,this.ja=i&&i.fastHandshake||!1,this.Ra=i&&i.Wb||!1,i&&i.Aa&&this.h.Aa(),i&&i.forceLongPolling&&(this.X=!1),this.$=!this.ja&&this.X&&i&&i.detectBufferingProxy||!1,this.ka=void 0,this.O=0,this.L=!1,this.B=null,this.Wa=!i||!1!==i.Xb}function ci(i){if(Cu(i),3==i.G){var e=i.V++,t=H(i.F);Ke(t,"SID",i.J),Ke(t,"RID",e),Ke(t,"TYPE","terminate"),Is(i,t),(e=new $(i,i.h,e,void 0)).K=2,e.v=Et(H(t)),t=!1,Ee.navigator&&Ee.navigator.sendBeacon&&(t=Ee.navigator.sendBeacon(e.v.toString(),"")),!t&&Ee.Image&&((new Image).src=e.v,t=!0),t||(e.g=eu(e.l,null),e.g.ea(e.v)),e.F=Date.now(),vs(e)}mo(i)}function ca(i){i.g&&(Hi(i),i.g.cancel(),i.g=null)}function Cu(i){ca(i),i.u&&(Ee.clearTimeout(i.u),i.u=null),Cs(i),i.i.cancel(),i.m&&("number"==typeof i.m&&Ee.clearTimeout(i.m),i.m=null)}function bu(i,e){i.l.push(new class{constructor(i,e){this.h=i,this.g=e}}(i.Za++,e)),3==i.G&&Ko(i)}function Ko(i){ee(i.i)||i.m||(i.m=!0,hn(i.Ha,i),i.C=0)}function Sa(i,e){var t;t=e?e.m:i.V++;const o=H(i.F);Ke(o,"SID",i.J),Ke(o,"RID",t),Ke(o,"AID",i.U),Is(i,o),i.o&&i.s&&la(o,i.o,i.s),t=new $(i,i.h,t,i.C+1),null===i.o&&(t.H=i.s),e&&(i.l=e.D.concat(i.l)),e=bo(i,t,1e3),t.setTimeout(Math.round(.5*i.ra)+Math.round(.5*i.ra*Math.random())),nt(i.i,t),xn(t,o,e)}function Is(i,e){i.j&&ws({},function(t,o){Ke(e,o,t)})}function bo(i,e,t){t=Math.min(i.l.length,t);var o=i.j?Pt(i.j.Oa,i.j,i):null;e:{var u=i.l;let f=-1;for(;;){const E=["count="+t];-1==f?0<t?(f=u[0].h,E.push("ofs="+f)):f=0:E.push("ofs="+f);let T=!0;for(let B=0;B<t;B++){let z=u[B].h;const oe=u[B].g;if(z-=f,0>z)f=Math.max(0,u[B].h-100),T=!1;else try{qr(oe,E,"req"+z+"_")}catch(_e){o&&o(oe)}}if(T){o=E.join("&");break e}}}return i=i.l.splice(0,t),e.D=i,o}function Yo(i){i.g||i.u||(i.Y=1,hn(i.Ga,i),i.A=0)}function vi(i){return!(i.g||i.u||3<=i.A||(i.Y++,i.u=Lt(Pt(i.Ga,i),ko(i,i.A)),i.A++,0))}function Hi(i){null!=i.B&&(Ee.clearTimeout(i.B),i.B=null)}function Du(i){i.g=new $(i,i.h,"rpc",i.Y),null===i.o&&(i.g.H=i.s),i.g.O=0;var e=H(i.oa);Ke(e,"RID","rpc"),Ke(e,"SID",i.J),Ke(e,"CI",i.N?"0":"1"),Ke(e,"AID",i.U),Is(i,e),Ke(e,"TYPE","xmlhttp"),i.o&&i.s&&la(e,i.o,i.s),i.K&&i.g.setTimeout(i.K);var t=i.g;i=i.la,t.K=1,t.v=Et(H(e)),t.s=null,t.U=!0,Zr(t,i)}function Cs(i){null!=i.v&&(Ee.clearTimeout(i.v),i.v=null)}function zs(i,e){var t=null;if(i.g==e){Cs(i),Hi(i),i.g=null;var o=2}else{if(!Le(i.i,e))return;t=e.D,Ut(i.i,e),o=1}if(i.I=e.N,0!=i.G)if(e.i)if(1==o){t=e.s?e.s.length:0,e=Date.now()-e.F;var u=i.C;on(o=xs(),new ht(o,t,e,u)),Ko(i)}else Yo(i);else if(3==(u=e.o)||0==u&&0<i.I||!(1==o&&function Zl(i,e){return!(ye(i.i)>=i.i.j-(i.m?1:0)||(i.m?(i.l=e.D.concat(i.l),0):1==i.G||2==i.G||i.C>=(i.Xa?0:i.Ya)||(i.m=Lt(Pt(i.Ha,i,e),ko(i,i.C)),i.C++,0)))}(i,e)||2==o&&vi(i)))switch(t&&0<t.length&&(e=i.i,e.i=e.i.concat(t)),u){case 1:ds(i,5);break;case 4:ds(i,10);break;case 3:ds(i,6);break;default:ds(i,2)}}function ko(i,e){let t=i.Pa+Math.floor(Math.random()*i.$a);return i.j||(t*=2),t*e}function ds(i,e){if(i.h.info("Error code "+e),2==e){var t=null;i.j&&(t=null);var o=Pt(i.jb,i);t||(t=new P("//www.google.com/images/cleardot.gif"),Ee.location&&"http"==Ee.location.protocol||O(t,"https"),Et(t)),function fr(i,e){const t=new _r;if(Ee.Image){const o=new Image;o.onload=Tn(Yn,t,o,"TestLoadImage: loaded",!0,e),o.onerror=Tn(Yn,t,o,"TestLoadImage: error",!1,e),o.onabort=Tn(Yn,t,o,"TestLoadImage: abort",!1,e),o.ontimeout=Tn(Yn,t,o,"TestLoadImage: timeout",!1,e),Ee.setTimeout(function(){o.ontimeout&&o.ontimeout()},1e4),o.src=i}else e(!1)}(t.toString(),o)}else Ye(2);i.G=0,i.j&&i.j.va(e),mo(i),Cu(i)}function mo(i){i.G=0,i.I=-1,i.j&&((0!=Ct(i.i).length||0!=i.l.length)&&(i.i.i.length=0,wr(i.l),i.l.length=0),i.j.ua())}function xa(i,e,t){let o=function or(i){return i instanceof P?H(i):new P(i,void 0)}(t);if(""!=o.i)e&&K(o,e+"."+o.i),de(o,o.m);else{const u=Ee.location;o=function Kn(i,e,t,o){var u=new P(null,void 0);return i&&O(u,i),e&&K(u,e),t&&de(u,t),o&&(u.l=o),u}(u.protocol,e?e+"."+u.hostname:u.hostname,+u.port,t)}return i.aa&&Br(i.aa,function(u,f){Ke(o,f,u)}),t=i.sa,(e=i.D)&&t&&Ke(o,e,t),Ke(o,"VER",i.ma),Is(i,o),o}function eu(i,e,t){if(e&&!i.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Pr(t&&i.Ba&&!i.qa?new tr({ib:!0}):i.qa)).L=i.H,e}function Tu(){}function tu(){if(Nt&&!(10<=Number(Ft)))throw Error("Environmental error: no available transport.")}function Vr(i,e){Ot.call(this),this.g=new No(e),this.l=i,this.h=e&&e.messageUrlParams||null,i=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(i?i["X-Client-Protocol"]="webchannel":i={"X-Client-Protocol":"webchannel"}),this.g.s=i,i=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(i?i["X-WebChannel-Content-Type"]=e.messageContentType:i={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(i?i["X-WebChannel-Client-Profile"]=e.ya:i={"X-WebChannel-Client-Profile":e.ya}),this.g.P=i,(i=e&&e.httpHeadersOverwriteParam)&&!Wn(i)&&(this.g.o=i),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Wn(e)&&(this.g.D=e,null!==(i=this.h)&&e in i&&e in(i=this.h)&&delete i[e]),this.j=new bs(this)}function Qo(i){Zi.call(this);var e=i.__sm__;if(e){e:{for(const t in e){i=t;break e}i=void 0}(this.i=i)&&(i=this.i,e=null!==e&&i in e?e[i]:void 0),this.data=e}else this.data=i}function yo(){Ti.call(this),this.status=1}function bs(i){this.g=i}(fe=Pr.prototype).ea=function(i,e,t,o){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+i);e=e?e.toUpperCase():"GET",this.H=i,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():Q.g(),this.C=function mi(i){return i.h||(i.h=i.i())}(this.u?this.u:Q),this.g.onreadystatechange=Pt(this.Fa,this);try{this.F=!0,this.g.open(e,String(i),!0),this.F=!1}catch(f){return void Wo(this,f)}i=t||"";const u=new cs(this.headers);o&&ws(o,function(f,E){u.set(E,f)}),o=function Qr(i){e:{var e=Da;const t=i.length,o="string"==typeof i?i.split(""):i;for(let u=0;u<t;u++)if(u in o&&e.call(void 0,o[u],u,i)){e=u;break e}e=-1}return 0>e?null:"string"==typeof i?i.charAt(e):i[e]}(u.T()),t=Ee.FormData&&i instanceof Ee.FormData,!(0<=kn(Zs,e))||o||t||u.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),u.forEach(function(f,E){this.g.setRequestHeader(E,f)},this),this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{Aa(this),0<this.B&&((this.K=function zo(i){return Nt&&function Mt(){return function $r(i){var e=wn;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=i(9)}(function(){let i=0;const e=xr(String(Ir)).split("."),t=xr("9").split("."),o=Math.max(e.length,t.length);for(let E=0;0==i&&E<o;E++){var u=e[E]||"",f=t[E]||"";do{if(u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],f=/(\d*)(\D*)(.*)/.exec(f)||["","","",""],0==u[0].length&&0==f[0].length)break;i=Vt(0==u[1].length?0:parseInt(u[1],10),0==f[1].length?0:parseInt(f[1],10))||Vt(0==u[2].length,0==f[2].length)||Vt(u[2],f[2]),u=u[3],f=f[3]}while(0==i)}return 0<=i})}()&&"number"==typeof i.timeout&&void 0!==i.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Pt(this.pa,this)):this.A=Pn(this.pa,this.B,this)),this.v=!0,this.g.send(i),this.v=!1}catch(f){Wo(this,f)}},fe.pa=function(){void 0!==Oe&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,on(this,"timeout"),this.abort(8))},fe.abort=function(i){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=i||7,on(this,"complete"),on(this,"abort"),io(this))},fe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),io(this,!0)),Pr.Z.M.call(this)},fe.Fa=function(){this.s||(this.F||this.v||this.l?Ta(this):this.cb())},fe.cb=function(){Ta(this)},fe.ba=function(){try{return 2<qs(this)?this.g.status:-1}catch(i){return-1}},fe.ga=function(){try{return this.g?this.g.responseText:""}catch(i){return""}},fe.Qa=function(i){if(this.g){var e=this.g.responseText;return i&&0==e.indexOf(i)&&(e=e.substring(i.length)),li(e)}},fe.Da=function(){return this.m},fe.La=function(){return"string"==typeof this.j?this.j:String(this.j)},(fe=No.prototype).ma=8,fe.G=1,fe.hb=function(i){try{this.h.info("Origin Trials invoked: "+i)}catch(e){}},fe.Ha=function(i){if(this.m)if(this.m=null,1==this.G){if(!i){this.V=Math.floor(1e5*Math.random()),i=this.V++;const u=new $(this,this.h,i,void 0);let f=this.s;if(this.P&&(f?(f=bi(f),Fr(f,this.P)):f=this.P),null===this.o&&(u.H=f),this.ja)e:{for(var e=0,t=0;t<this.l.length;t++){var o=this.l[t];if(void 0===(o="__data__"in o.g&&"string"==typeof(o=o.g.__data__)?o.length:void 0))break;if(4096<(e+=o)){e=t;break e}if(4096===e||t===this.l.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=bo(this,u,e),Ke(t=H(this.F),"RID",i),Ke(t,"CVER",22),this.D&&Ke(t,"X-HTTP-Session-Id",this.D),Is(this,t),this.o&&f&&la(t,this.o,f),nt(this.i,u),this.Ra&&Ke(t,"TYPE","init"),this.ja?(Ke(t,"$req",e),Ke(t,"SID","null"),u.$=!0,xn(u,t,null)):xn(u,t,e),this.G=2}}else 3==this.G&&(i?Sa(this,i):0==this.l.length||ee(this.i)||Sa(this))},fe.Ga=function(){if(this.u=null,Du(this),this.$&&!(this.L||null==this.g||0>=this.O)){var i=2*this.O;this.h.info("BP detection timer enabled: "+i),this.B=Lt(Pt(this.bb,this),i)}},fe.bb=function(){this.B&&(this.B=null,this.h.info("BP detection timeout reached."),this.h.info("Buffering proxy detected and switch to long-polling!"),this.N=!1,this.L=!0,Ye(10),ca(this),Du(this))},fe.ab=function(){null!=this.v&&(this.v=null,ca(this),vi(this),Ye(19))},fe.jb=function(i){i?(this.h.info("Successfully pinged google.com"),Ye(2)):(this.h.info("Failed to ping google.com"),Ye(1))},(fe=Tu.prototype).xa=function(){},fe.wa=function(){},fe.va=function(){},fe.ua=function(){},fe.Oa=function(){},tu.prototype.g=function(i,e){return new Vr(i,e)},It(Vr,Ot),Vr.prototype.m=function(){this.g.j=this.j,this.A&&(this.g.H=!0);var i=this.g,e=this.l,t=this.h||void 0;i.Wa&&(i.h.info("Origin Trials enabled."),hn(Pt(i.hb,i,e))),Ye(0),i.W=e,i.aa=t||{},i.N=i.X,i.F=xa(i,null,i.W),Ko(i)},Vr.prototype.close=function(){ci(this.g)},Vr.prototype.u=function(i){if("string"==typeof i){var e={};e.__data__=i,bu(this.g,e)}else this.v?((e={}).__data__=ii(i),bu(this.g,e)):bu(this.g,i)},Vr.prototype.M=function(){this.g.j=null,delete this.j,ci(this.g),delete this.g,Vr.Z.M.call(this)},It(Qo,Zi),It(yo,Ti),It(bs,Tu),bs.prototype.xa=function(){on(this.g,"a")},bs.prototype.wa=function(i){on(this.g,new Qo(i))},bs.prototype.va=function(i){on(this.g,new yo(i))},bs.prototype.ua=function(){on(this.g,"b")},tu.prototype.createWebChannel=tu.prototype.g,Vr.prototype.send=Vr.prototype.u,Vr.prototype.open=Vr.prototype.m,Vr.prototype.close=Vr.prototype.close,Ln.NO_ERROR=0,Ln.TIMEOUT=8,Ln.HTTP_ERROR=6,Rr.COMPLETE="complete",Bi.EventType=yi,yi.OPEN="a",yi.CLOSE="b",yi.ERROR="c",yi.MESSAGE="d",Ot.prototype.listen=Ot.prototype.N,Pr.prototype.listenOnce=Pr.prototype.O,Pr.prototype.getLastError=Pr.prototype.La,Pr.prototype.getLastErrorCode=Pr.prototype.Da,Pr.prototype.getStatus=Pr.prototype.ba,Pr.prototype.getResponseJson=Pr.prototype.Qa,Pr.prototype.getResponseText=Pr.prototype.ga,Pr.prototype.send=Pr.prototype.ea;var Jo=be.createWebChannelTransport=function(){return new tu},Xo=be.getStatEventTarget=function(){return xs()},Ma=be.ErrorCode=Ln,zr=be.EventType=Rr,ul=be.Event=Sn,Ws=be.Stat={rb:0,ub:1,vb:2,Ob:3,Tb:4,Qb:5,Rb:6,Pb:7,Nb:8,Sb:9,PROXY:10,NOPROXY:11,Lb:12,Hb:13,Ib:14,Gb:15,Jb:16,Kb:17,nb:18,mb:19,ob:20},Ra=be.FetchXmlHttpFactory=tr,js=be.WebChannel=Bi,ql=be.XhrIo=Pr;const nu="@firebase/firestore";class Pi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Pi.UNAUTHENTICATED=new Pi(null),Pi.GOOGLE_CREDENTIALS=new Pi("google-credentials-uid"),Pi.FIRST_PARTY=new Pi("first-party-uid"),Pi.MOCK_USER=new Pi("mock-user");let Do="9.6.10";const Os=new st.Yd("@firebase/firestore");function To(){return Os.logLevel}function gt(i,...e){if(Os.logLevel<=st.in.DEBUG){const t=e.map(I);Os.debug(`Firestore (${Do}): ${i}`,...t)}}function Dr(i,...e){if(Os.logLevel<=st.in.ERROR){const t=e.map(I);Os.error(`Firestore (${Do}): ${i}`,...t)}}function b(i,...e){if(Os.logLevel<=st.in.WARN){const t=e.map(I);Os.warn(`Firestore (${Do}): ${i}`,...t)}}function I(i){if("string"==typeof i)return i;try{return JSON.stringify(i)}catch(t){return i}}function _(i="Unexpected state"){const e=`FIRESTORE (${Do}) INTERNAL ASSERTION FAILED: `+i;throw Dr(e),new Error(e)}function S(i,e){i||_()}function j(i,e){return i}const G={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class X extends et.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class He{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class xt{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Gn{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Pi.UNAUTHENTICATED))}shutdown(){}}class nn{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class Tr{constructor(e){this.t=e,this.currentUser=Pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var o=this;let u=this.i;const f=z=>this.i!==u?(u=this.i,t(z)):Promise.resolve();let E=new He;this.o=()=>{this.i++,this.currentUser=this.u(),E.resolve(),E=new He,e.enqueueRetryable(()=>f(this.currentUser))};const T=()=>{const z=E;e.enqueueRetryable((0,ue.Z)(function*(){yield z.promise,yield f(o.currentUser)}))},B=z=>{gt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=z,this.auth.addAuthTokenListener(this.o),T()};this.t.onInit(z=>B(z)),setTimeout(()=>{if(!this.auth){const z=this.t.getImmediate({optional:!0});z?B(z):(gt("FirebaseAuthCredentialsProvider","Auth not yet detected"),E.resolve(),E=new He)}},0),T()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(o=>this.i!==e?(gt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):o?(S("string"==typeof o.accessToken),new xt(o.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return S(null===e||"string"==typeof e),new Pi(e)}}class Zn{constructor(e,t,o){this.type="FirstParty",this.user=Pi.FIRST_PARTY,this.headers=new Map,this.headers.set("X-Goog-AuthUser",t);const u=e.auth.getAuthHeaderValueForFirstParty([]);u&&this.headers.set("Authorization",u),o&&this.headers.set("X-Goog-Iam-Authorization-Token",o)}}class Ks{constructor(e,t,o){this.h=e,this.l=t,this.m=o}getToken(){return Promise.resolve(new Zn(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Pi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ps{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ea{constructor(e){this.g=e,this.forceRefresh=!1,this.appCheck=null,this.p=null}start(e,t){const o=f=>{null!=f.error&&gt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${f.error.message}`);const E=f.token!==this.p;return this.p=f.token,gt("FirebaseAppCheckTokenProvider",`Received ${E?"new":"existing"} token.`),E?t(f.token):Promise.resolve()};this.o=f=>{e.enqueueRetryable(()=>o(f))};const u=f=>{gt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=f,this.appCheck.addTokenListener(this.o)};this.g.onInit(f=>u(f)),setTimeout(()=>{if(!this.appCheck){const f=this.g.getImmediate({optional:!0});f?u(f):gt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(S("string"==typeof t.token),this.p=t.token,new Ps(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}class di{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=o=>this.I(o),this.T=o=>t.writeSequenceNumber(o))}I(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.T&&this.T(e),e}}function Ys(i){const e="undefined"!=typeof self&&(self.crypto||self.msCrypto),t=new Uint8Array(i);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let o=0;o<i;o++)t[o]=Math.floor(256*Math.random());return t}di.A=-1;class zl{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let o="";for(;o.length<20;){const u=Ys(40);for(let f=0;f<u.length;++f)o.length<20&&u[f]<t&&(o+=e.charAt(u[f]%e.length))}return o}}function Qn(i,e){return i<e?-1:i>e?1:0}function _o(i,e,t){return i.length===e.length&&i.every((o,u)=>t(o,e[u]))}function ru(i){return i+"\0"}class Gi{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new X(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new X(G.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new X(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new X(G.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Gi.fromMillis(Date.now())}static fromDate(e){return Gi.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),o=Math.floor(1e6*(e-1e3*t));return new Gi(t,o)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Qn(this.nanoseconds,e.nanoseconds):Qn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Wt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Wt(e)}static min(){return new Wt(new Gi(0,0))}static max(){return new Wt(new Gi(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}function Gc(i){let e=0;for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e++;return e}function iu(i,e){for(const t in i)Object.prototype.hasOwnProperty.call(i,t)&&e(t,i[t])}function Zc(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}class Oa{constructor(e,t,o){void 0===t?t=0:t>e.length&&_(),void 0===o?o=e.length-t:o>e.length-t&&_(),this.segments=e,this.offset=t,this.len=o}get length(){return this.len}isEqual(e){return 0===Oa.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Oa?e.forEach(o=>{t.push(o)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,o=this.limit();t<o;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const o=Math.min(e.length,t.length);for(let u=0;u<o;u++){const f=e.get(u),E=t.get(u);if(f<E)return-1;if(f>E)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class pr extends Oa{construct(e,t,o){return new pr(e,t,o)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const o of e){if(o.indexOf("//")>=0)throw new X(G.INVALID_ARGUMENT,`Invalid segment (${o}). Paths must not contain // in them.`);t.push(...o.split("/").filter(u=>u.length>0))}return new pr(t)}static emptyPath(){return new pr([])}}const $d=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class hs extends Oa{construct(e,t,o){return new hs(e,t,o)}static isValidIdentifier(e){return $d.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),hs.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new hs(["__name__"])}static fromServerFormat(e){const t=[];let o="",u=0;const f=()=>{if(0===o.length)throw new X(G.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(o),o=""};let E=!1;for(;u<e.length;){const T=e[u];if("\\"===T){if(u+1===e.length)throw new X(G.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const B=e[u+1];if("\\"!==B&&"."!==B&&"`"!==B)throw new X(G.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);o+=B,u+=2}else"`"===T?(E=!E,u++):"."!==T||E?(o+=T,u++):(f(),u++)}if(f(),E)throw new X(G.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new hs(t)}static emptyPath(){return new hs([])}}class oo{constructor(e){this.fields=e,e.sort(hs.comparator)}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return _o(this.fields,e.fields,(t,o)=>t.isEqual(o))}}class Jn{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new Jn(t)}static fromUint8Array(e){const t=function(o){let u="";for(let f=0;f<o.length;++f)u+=String.fromCharCode(o[f]);return u}(e);return new Jn(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let o=0;o<e.length;o++)t[o]=e.charCodeAt(o);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Qn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Jn.EMPTY_BYTE_STRING=new Jn("");const ll=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Qs(i){if(S(!!i),"string"==typeof i){let e=0;const t=ll.exec(i);if(S(!!t),t[1]){let u=t[1];u=(u+"000000000").substr(0,9),e=Number(u)}const o=new Date(i);return{seconds:Math.floor(o.getTime()/1e3),nanos:e}}return{seconds:Ni(i.seconds),nanos:Ni(i.nanos)}}function Ni(i){return"number"==typeof i?i:"string"==typeof i?Number(i):0}function Fo(i){return"string"==typeof i?Jn.fromBase64String(i):Jn.fromUint8Array(i)}function ts(i){var e,t;return"server_timestamp"===(null===(t=((null===(e=null==i?void 0:i.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function Js(i){const e=i.mapValue.fields.__previous_value__;return ts(e)?Js(e):e}function Pa(i){const e=Qs(i.mapValue.fields.__local_write_time__.timestampValue);return new Gi(e.seconds,e.nanos)}class ta{constructor(e,t,o,u,f,E,T,B){this.databaseId=e,this.appId=t,this.persistenceKey=o,this.host=u,this.ssl=f,this.forceLongPolling=E,this.autoDetectLongPolling=T,this.useFetchStreams=B}}class Ki{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Ki("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof Ki&&e.projectId===this.projectId&&e.database===this.database}}function Ds(i){return null==i}function Lo(i){return 0===i&&1/i==-1/0}function Au(i){return"number"==typeof i&&Number.isInteger(i)&&!Lo(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}class At{constructor(e){this.path=e}static fromPath(e){return new At(pr.fromString(e))}static fromName(e){return new At(pr.fromString(e).popFirst(5))}static empty(){return new At(pr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===pr.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return pr.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new At(new pr(e.slice()))}}const cl={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},Su={nullValue:"NULL_VALUE"};function Yi(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?ts(i)?4:ia(i)?9:10:_()}function vo(i,e){if(i===e)return!0;const t=Yi(i);if(t!==Yi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return Pa(i).isEqual(Pa(e));case 3:return function(o,u){if("string"==typeof o.timestampValue&&"string"==typeof u.timestampValue&&o.timestampValue.length===u.timestampValue.length)return o.timestampValue===u.timestampValue;const f=Qs(o.timestampValue),E=Qs(u.timestampValue);return f.seconds===E.seconds&&f.nanos===E.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return u=e,Fo(i.bytesValue).isEqual(Fo(u.bytesValue));case 7:return i.referenceValue===e.referenceValue;case 8:return function(o,u){return Ni(o.geoPointValue.latitude)===Ni(u.geoPointValue.latitude)&&Ni(o.geoPointValue.longitude)===Ni(u.geoPointValue.longitude)}(i,e);case 2:return function(o,u){if("integerValue"in o&&"integerValue"in u)return Ni(o.integerValue)===Ni(u.integerValue);if("doubleValue"in o&&"doubleValue"in u){const f=Ni(o.doubleValue),E=Ni(u.doubleValue);return f===E?Lo(f)===Lo(E):isNaN(f)&&isNaN(E)}return!1}(i,e);case 9:return _o(i.arrayValue.values||[],e.arrayValue.values||[],vo);case 10:return function(o,u){const f=o.mapValue.fields||{},E=u.mapValue.fields||{};if(Gc(f)!==Gc(E))return!1;for(const T in f)if(f.hasOwnProperty(T)&&(void 0===E[T]||!vo(f[T],E[T])))return!1;return!0}(i,e);default:return _()}var u}function So(i,e){return void 0!==(i.values||[]).find(t=>vo(t,e))}function Uo(i,e){if(i===e)return 0;const t=Yi(i),o=Yi(e);if(t!==o)return Qn(t,o);switch(t){case 0:case 9007199254740991:return 0;case 1:return Qn(i.booleanValue,e.booleanValue);case 2:return function(u,f){const E=Ni(u.integerValue||u.doubleValue),T=Ni(f.integerValue||f.doubleValue);return E<T?-1:E>T?1:E===T?0:isNaN(E)?isNaN(T)?0:-1:1}(i,e);case 3:return na(i.timestampValue,e.timestampValue);case 4:return na(Pa(i),Pa(e));case 5:return Qn(i.stringValue,e.stringValue);case 6:return function(u,f){const E=Fo(u),T=Fo(f);return E.compareTo(T)}(i.bytesValue,e.bytesValue);case 7:return function(u,f){const E=u.split("/"),T=f.split("/");for(let B=0;B<E.length&&B<T.length;B++){const z=Qn(E[B],T[B]);if(0!==z)return z}return Qn(E.length,T.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,f){const E=Qn(Ni(u.latitude),Ni(f.latitude));return 0!==E?E:Qn(Ni(u.longitude),Ni(f.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return function(u,f){const E=u.values||[],T=f.values||[];for(let B=0;B<E.length&&B<T.length;++B){const z=Uo(E[B],T[B]);if(z)return z}return Qn(E.length,T.length)}(i.arrayValue,e.arrayValue);case 10:return function(u,f){const E=u.fields||{},T=Object.keys(E),B=f.fields||{},z=Object.keys(B);T.sort(),z.sort();for(let oe=0;oe<T.length&&oe<z.length;++oe){const _e=Qn(T[oe],z[oe]);if(0!==_e)return _e;const Ze=Uo(E[T[oe]],B[z[oe]]);if(0!==Ze)return Ze}return Qn(T.length,z.length)}(i.mapValue,e.mapValue);default:throw _()}}function na(i,e){if("string"==typeof i&&"string"==typeof e&&i.length===e.length)return Qn(i,e);const t=Qs(i),o=Qs(e),u=Qn(t.seconds,o.seconds);return 0!==u?u:Qn(t.nanos,o.nanos)}function Vo(i){return dl(i)}function dl(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(o){const u=Qs(o);return`time(${u.seconds},${u.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?Fo(i.bytesValue).toBase64():"referenceValue"in i?At.fromName(i.referenceValue).toString():"geoPointValue"in i?`geo(${(e=i.geoPointValue).latitude},${e.longitude})`:"arrayValue"in i?function(o){let u="[",f=!0;for(const E of o.values||[])f?f=!1:u+=",",u+=dl(E);return u+"]"}(i.arrayValue):"mapValue"in i?function(o){const u=Object.keys(o.fields||{}).sort();let f="{",E=!0;for(const T of u)E?E=!1:f+=",",f+=`${T}:${dl(o.fields[T])}`;return f+"}"}(i.mapValue):_();var e}function ra(i,e){return{referenceValue:`projects/${i.projectId}/databases/${i.database}/documents/${e.path.canonicalString()}`}}function Eo(i){return!!i&&"integerValue"in i}function su(i){return!!i&&"arrayValue"in i}function ao(i){return!!i&&"nullValue"in i}function xu(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Na(i){return!!i&&"mapValue"in i}function da(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&"object"==typeof i.timestampValue)return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return iu(i.mapValue.fields,(t,o)=>e.mapValue.fields[t]=da(o)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(i.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=da(i.arrayValue.values[t]);return e}return Object.assign({},i)}function ia(i){return"__max__"===(((i.mapValue||{}).fields||{}).__type__||{}).stringValue}function ka(i,e){return void 0===i?e:void 0===e||Uo(i,e)>0?i:e}function Mu(i,e){return void 0===i?e:void 0===e||Uo(i,e)<0?i:e}class x{constructor(e){this.value=e}static empty(){return new x({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let o=0;o<e.length-1;++o)if(t=(t.mapValue.fields||{})[e.get(o)],!Na(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=da(t)}setAll(e){let t=hs.emptyPath(),o={},u=[];e.forEach((E,T)=>{if(!t.isImmediateParentOf(T)){const B=this.getFieldsMap(t);this.applyChanges(B,o,u),o={},u=[],t=T.popLast()}E?o[T.lastSegment()]=da(E):u.push(T.lastSegment())});const f=this.getFieldsMap(t);this.applyChanges(f,o,u)}delete(e){const t=this.field(e.popLast());Na(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return vo(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let o=0;o<e.length;++o){let u=t.mapValue.fields[e.get(o)];Na(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},t.mapValue.fields[e.get(o)]=u),t=u}return t.mapValue.fields}applyChanges(e,t,o){iu(t,(u,f)=>e[u]=f);for(const u of o)delete e[u]}clone(){return new x(da(this.value))}}function N(i){const e=[];return iu(i.fields,(t,o)=>{const u=new hs([t]);if(Na(o)){const f=N(o.mapValue).fields;if(0===f.length)e.push(u);else for(const E of f)e.push(u.child(E))}else e.push(u)}),new oo(e)}class Z{constructor(e,t,o,u,f,E){this.key=e,this.documentType=t,this.version=o,this.readTime=u,this.data=f,this.documentState=E}static newInvalidDocument(e){return new Z(e,0,Wt.min(),Wt.min(),x.empty(),0)}static newFoundDocument(e,t,o){return new Z(e,1,t,Wt.min(),o,0)}static newNoDocument(e,t){return new Z(e,2,t,Wt.min(),x.empty(),0)}static newUnknownDocument(e,t){return new Z(e,3,t,Wt.min(),x.empty(),2)}convertToFoundDocument(e,t){return this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=x.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=x.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Z&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Z(this.key,this.documentType,this.version,this.readTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class ae{constructor(e,t,o,u){this.indexId=e,this.collectionGroup=t,this.fields=o,this.indexState=u}}function Pe(i){return i.fields.find(e=>2===e.kind)}function $e(i){return i.fields.filter(e=>2!==e.kind)}ae.UNKNOWN_ID=-1;class mt{constructor(e,t){this.fieldPath=e,this.kind=t}}class zt{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new zt(0,Vn.min())}}function an(i,e){const t=i.toTimestamp().seconds,o=i.toTimestamp().nanoseconds+1,u=Wt.fromTimestamp(1e9===o?new Gi(t+1,0):new Gi(t,o));return new Vn(u,At.empty(),e)}function Mn(i){return new Vn(i.readTime,i.key,-1)}class Vn{constructor(e,t,o){this.readTime=e,this.documentKey=t,this.largestBatchId=o}static min(){return new Vn(Wt.min(),At.empty(),-1)}static max(){return new Vn(Wt.max(),At.empty(),-1)}}function Nn(i,e){let t=i.readTime.compareTo(e.readTime);return 0!==t?t:(t=At.comparator(i.documentKey,e.documentKey),0!==t?t:Qn(i.largestBatchId,e.largestBatchId))}class ns{constructor(e,t=null,o=[],u=[],f=null,E=null,T=null){this.path=e,this.collectionGroup=t,this.orderBy=o,this.filters=u,this.limit=f,this.startAt=E,this.endAt=T,this.P=null}}function ki(i,e=null,t=[],o=[],u=null,f=null,E=null){return new ns(i,e,t,o,u,f,E)}function uo(i){const e=j(i);if(null===e.P){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(o=>{return(u=o).field.canonicalString()+u.op.toString()+Vo(u.value);var u}).join(","),t+="|ob:",t+=e.orderBy.map(o=>{return(u=o).field.canonicalString()+u.dir;var u}).join(","),Ds(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(o=>Vo(o)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(o=>Vo(o)).join(",")),e.P=t}return e.P}function $s(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let u=0;u<i.orderBy.length;u++)if(!Of(i.orderBy[u],e.orderBy[u]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let u=0;u<i.filters.length;u++)if((t=i.filters[u]).op!==(o=e.filters[u]).op||!t.field.isEqual(o.field)||!vo(t.value,o.value))return!1;var t,o;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!hl(i.startAt,e.startAt)&&hl(i.endAt,e.endAt)}function Hs(i){return At.isDocumentKey(i.path)&&null===i.collectionGroup&&0===i.filters.length}function wo(i,e){return i.filters.filter(t=>t instanceof Ei&&t.field.isEqual(e))}class Ei extends class{}{constructor(e,t,o){super(),this.field=e,this.op=t,this.value=o}static create(e,t,o){return e.isKeyField()?"in"===t||"not-in"===t?this.V(e,t,o):new Gd(e,t,o):"array-contains"===t?new qd(e,o):"in"===t?new Mf(e,o):"not-in"===t?new Rf(e,o):"array-contains-any"===t?new Fa(e,o):new Ei(e,t,o)}static V(e,t,o){return"in"===t?new Zd(e,o):new Wl(e,o)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.v(Uo(t,this.value)):null!==t&&Yi(this.value)===Yi(t)&&this.v(Uo(t,this.value))}v(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return _()}}S(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}}class Gd extends Ei{constructor(e,t,o){super(e,t,o),this.key=At.fromName(o.referenceValue)}matches(e){const t=At.comparator(e.key,this.key);return this.v(t)}}class Zd extends Ei{constructor(e,t){super(e,"in",t),this.keys=ou(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class Wl extends Ei{constructor(e,t){super(e,"not-in",t),this.keys=ou(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function ou(i,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(o=>At.fromName(o.referenceValue))}class qd extends Ei{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return su(t)&&So(t.arrayValue,this.value)}}class Mf extends Ei{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&So(this.value.arrayValue,t)}}class Rf extends Ei{constructor(e,t){super(e,"not-in",t)}matches(e){if(So(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!So(this.value.arrayValue,t)}}class Fa extends Ei{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!su(t)||!t.arrayValue.values)&&t.arrayValue.values.some(o=>So(this.value.arrayValue,o))}}class xo{constructor(e,t){this.position=e,this.inclusive=t}}class Ou{constructor(e,t="asc"){this.field=e,this.dir=t}}function Of(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}function qc(i,e,t){let o=0;for(let u=0;u<i.position.length;u++){const f=e[u],E=i.position[u];if(o=f.field.isKeyField()?At.comparator(At.fromName(E.referenceValue),t.key):Uo(E,t.data.field(f.field)),"desc"===f.dir&&(o*=-1),0!==o)break}return o}function hl(i,e){if(null===i)return null===e;if(null===e||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let t=0;t<i.position.length;t++)if(!vo(i.position[t],e.position[t]))return!1;return!0}class La{constructor(e,t=null,o=[],u=[],f=null,E="F",T=null,B=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=o,this.filters=u,this.limit=f,this.limitType=E,this.startAt=T,this.endAt=B,this.D=null,this.C=null}}function zd(i,e,t,o,u,f,E,T){return new La(i,e,t,o,u,f,E,T)}function Pu(i){return new La(i)}function Kl(i){return!Ds(i.limit)&&"F"===i.limitType}function au(i){return!Ds(i.limit)&&"L"===i.limitType}function fl(i){return i.explicitOrderBy.length>0?i.explicitOrderBy[0].field:null}function Ua(i){for(const e of i.filters)if(e.S())return e.field;return null}function zc(i){return null!==i.collectionGroup}function Va(i){const e=j(i);if(null===e.D){e.D=[];const t=Ua(e),o=fl(e);if(null!==t&&null===o)t.isKeyField()||e.D.push(new Ou(t)),e.D.push(new Ou(hs.keyField(),"asc"));else{let u=!1;for(const f of e.explicitOrderBy)e.D.push(f),f.field.isKeyField()&&(u=!0);if(!u){const f=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.D.push(new Ou(hs.keyField(),f))}}}return e.D}function Bo(i){const e=j(i);if(!e.C)if("F"===e.limitType)e.C=ki(e.path,e.collectionGroup,Va(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const f of Va(e))t.push(new Ou(f.field,"desc"===f.dir?"asc":"desc"));const o=e.endAt?new xo(e.endAt.position,!e.endAt.inclusive):null,u=e.startAt?new xo(e.startAt.position,!e.startAt.inclusive):null;e.C=ki(e.path,e.collectionGroup,t,e.filters,e.limit,o,u)}return e.C}function pl(i,e,t){return new La(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,t,i.startAt,i.endAt)}function uu(i,e){return $s(Bo(i),Bo(e))&&i.limitType===e.limitType}function Wc(i){return`${uo(Bo(i))}|lt:${i.limitType}`}function Yl(i){return`Query(target=${function Ru(i){let e=i.path.canonicalString();return null!==i.collectionGroup&&(e+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(e+=`, filters: [${i.filters.map(t=>{return`${(o=t).field.canonicalString()} ${o.op} ${Vo(o.value)}`;var o}).join(", ")}]`),Ds(i.limit)||(e+=", limit: "+i.limit),i.orderBy.length>0&&(e+=`, orderBy: [${i.orderBy.map(t=>{return`${(o=t).field.canonicalString()} (${o.dir})`;var o}).join(", ")}]`),i.startAt&&(e+=", startAt: ",e+=i.startAt.inclusive?"b:":"a:",e+=i.startAt.position.map(t=>Vo(t)).join(",")),i.endAt&&(e+=", endAt: ",e+=i.endAt.inclusive?"a:":"b:",e+=i.endAt.position.map(t=>Vo(t)).join(",")),`Target(${e})`}(Bo(i))}; limitType=${i.limitType})`}function gl(i,e){return e.isFoundDocument()&&function(t,o){const u=o.key.path;return null!==t.collectionGroup?o.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(u):At.isDocumentKey(t.path)?t.path.isEqual(u):t.path.isImmediateParentOf(u)}(i,e)&&function(t,o){for(const u of t.explicitOrderBy)if(!u.field.isKeyField()&&null===o.data.field(u.field))return!1;return!0}(i,e)&&function(t,o){for(const u of t.filters)if(!u.matches(o))return!1;return!0}(i,e)&&(o=e,!((t=i).startAt&&!function(u,f,E){const T=qc(u,f,E);return u.inclusive?T<=0:T<0}(t.startAt,Va(t),o)||t.endAt&&!function(u,f,E){const T=qc(u,f,E);return u.inclusive?T>=0:T>0}(t.endAt,Va(t),o)));var t,o}function Kc(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function Wd(i){return(e,t)=>{let o=!1;for(const u of Va(i)){const f=Pf(u,e,t);if(0!==f)return f;o=o||u.field.isKeyField()}return 0}}function Pf(i,e,t){const o=i.field.isKeyField()?At.comparator(e.key,t.key):function(u,f,E){const T=f.data.field(u),B=E.data.field(u);return null!==T&&null!==B?Uo(T,B):_()}(i.field,e,t);switch(i.dir){case"asc":return o;case"desc":return-1*o;default:return _()}}function Kd(i,e){if(i.N){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Lo(e)?"-0":e}}function Ql(i){return{integerValue:""+i}}function Yd(i,e){return Au(e)?Ql(e):Kd(i,e)}class Io{constructor(){this._=void 0}}function ml(i,e,t){return i instanceof lu?function(o,u){const f={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return u&&(f.fields.__previous_value__=u),{mapValue:f}}(t,e):i instanceof Nu?Jd(i,e):i instanceof cu?Yc(i,e):function(o,u){const f=Nf(o,u),E=Xd(f)+Xd(o.k);return Eo(f)&&Eo(o.k)?Ql(E):Kd(o.M,E)}(i,e)}function Qd(i,e,t){return i instanceof Nu?Jd(i,e):i instanceof cu?Yc(i,e):t}function Nf(i,e){return i instanceof ku?Eo(t=e)||(o=t)&&"doubleValue"in o?e:{integerValue:0}:null;var o,t}class lu extends Io{}class Nu extends Io{constructor(e){super(),this.elements=e}}function Jd(i,e){const t=kf(e);for(const o of i.elements)t.some(u=>vo(u,o))||t.push(o);return{arrayValue:{values:t}}}class cu extends Io{constructor(e){super(),this.elements=e}}function Yc(i,e){let t=kf(e);for(const o of i.elements)t=t.filter(u=>!vo(u,o));return{arrayValue:{values:t}}}class ku extends Io{constructor(e,t){super(),this.M=e,this.k=t}}function Xd(i){return Ni(i.integerValue||i.doubleValue)}function kf(i){return su(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}class jo{constructor(e,t){this.field=e,this.transform=t}}class Ff{constructor(e,t){this.version=e,this.transformResults=t}}class wi{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new wi}static exists(e){return new wi(void 0,e)}static updateTime(e){return new wi(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function yl(i,e){return void 0!==i.updateTime?e.isFoundDocument()&&e.version.isEqual(i.updateTime):void 0===i.exists||i.exists===e.isFoundDocument()}class Xs{}function _l(i,e,t){i instanceof Fu?function(o,u,f){const E=o.value.clone(),T=tc(o.fieldTransforms,u,f.transformResults);E.setAll(T),u.convertToFoundDocument(f.version,E).setHasCommittedMutations()}(i,e,t):i instanceof Lu?function(o,u,f){if(!yl(o.precondition,u))return void u.convertToUnknownDocument(f.version);const E=tc(o.fieldTransforms,u,f.transformResults),T=u.data;T.setAll(ec(o)),T.setAll(E),u.convertToFoundDocument(f.version,T).setHasCommittedMutations()}(i,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function Jl(i,e,t){var u;i instanceof Fu?function(o,u,f){if(!yl(o.precondition,u))return;const E=o.value.clone(),T=nc(o.fieldTransforms,f,u);E.setAll(T),u.convertToFoundDocument(Lf(u),E).setHasLocalMutations()}(i,e,t):i instanceof Lu?function(o,u,f){if(!yl(o.precondition,u))return;const E=nc(o.fieldTransforms,f,u),T=u.data;T.setAll(ec(o)),T.setAll(E),u.convertToFoundDocument(Lf(u),T).setHasLocalMutations()}(i,e,t):yl(i.precondition,u=e)&&u.convertToNoDocument(Wt.min())}function Xl(i,e){let t=null;for(const o of i.fieldTransforms){const u=e.data.field(o.field),f=Nf(o.transform,u||null);null!=f&&(null==t&&(t=x.empty()),t.set(o.field,f))}return t||null}function Qc(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&(o=e.fieldTransforms,!!(void 0===(t=i.fieldTransforms)&&void 0===o||t&&o&&_o(t,o,(u,f)=>function Rg(i,e){return i.field.isEqual(e.field)&&(o=e.transform,(t=i.transform)instanceof Nu&&o instanceof Nu||t instanceof cu&&o instanceof cu?_o(t.elements,o.elements,vo):t instanceof ku&&o instanceof ku?vo(t.k,o.k):t instanceof lu&&o instanceof lu);var t,o}(u,f))))&&(0===i.type?i.value.isEqual(e.value):1!==i.type||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask));var t,o}function Lf(i){return i.isFoundDocument()?i.version:Wt.min()}class Fu extends Xs{constructor(e,t,o,u=[]){super(),this.key=e,this.value=t,this.precondition=o,this.fieldTransforms=u,this.type=0}}class Lu extends Xs{constructor(e,t,o,u,f=[]){super(),this.key=e,this.data=t,this.fieldMask=o,this.precondition=u,this.fieldTransforms=f,this.type=1}}function ec(i){const e=new Map;return i.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const o=i.data.field(t);e.set(t,o)}}),e}function tc(i,e,t){const o=new Map;S(i.length===t.length);for(let u=0;u<t.length;u++){const f=i[u],E=f.transform,T=e.data.field(f.field);o.set(f.field,Qd(E,T,t[u]))}return o}function nc(i,e,t){const o=new Map;for(const u of i){const f=u.transform,E=t.data.field(u.field);o.set(u.field,ml(f,E,e))}return o}class rc extends Xs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}}class Jc extends Xs{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}}class ic{constructor(e){this.count=e}}var rs,Ar;function sc(i){switch(i){default:return _();case G.CANCELLED:case G.UNKNOWN:case G.DEADLINE_EXCEEDED:case G.RESOURCE_EXHAUSTED:case G.INTERNAL:case G.UNAVAILABLE:case G.UNAUTHENTICATED:return!1;case G.INVALID_ARGUMENT:case G.NOT_FOUND:case G.ALREADY_EXISTS:case G.PERMISSION_DENIED:case G.FAILED_PRECONDITION:case G.ABORTED:case G.OUT_OF_RANGE:case G.UNIMPLEMENTED:case G.DATA_LOSS:return!0}}function oc(i){if(void 0===i)return Dr("GRPC error has no .code"),G.UNKNOWN;switch(i){case rs.OK:return G.OK;case rs.CANCELLED:return G.CANCELLED;case rs.UNKNOWN:return G.UNKNOWN;case rs.DEADLINE_EXCEEDED:return G.DEADLINE_EXCEEDED;case rs.RESOURCE_EXHAUSTED:return G.RESOURCE_EXHAUSTED;case rs.INTERNAL:return G.INTERNAL;case rs.UNAVAILABLE:return G.UNAVAILABLE;case rs.UNAUTHENTICATED:return G.UNAUTHENTICATED;case rs.INVALID_ARGUMENT:return G.INVALID_ARGUMENT;case rs.NOT_FOUND:return G.NOT_FOUND;case rs.ALREADY_EXISTS:return G.ALREADY_EXISTS;case rs.PERMISSION_DENIED:return G.PERMISSION_DENIED;case rs.FAILED_PRECONDITION:return G.FAILED_PRECONDITION;case rs.ABORTED:return G.ABORTED;case rs.OUT_OF_RANGE:return G.OUT_OF_RANGE;case rs.UNIMPLEMENTED:return G.UNIMPLEMENTED;case rs.DATA_LOSS:return G.DATA_LOSS;default:return _()}}(Ar=rs||(rs={}))[Ar.OK=0]="OK",Ar[Ar.CANCELLED=1]="CANCELLED",Ar[Ar.UNKNOWN=2]="UNKNOWN",Ar[Ar.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ar[Ar.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ar[Ar.NOT_FOUND=5]="NOT_FOUND",Ar[Ar.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ar[Ar.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ar[Ar.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ar[Ar.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ar[Ar.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ar[Ar.ABORTED=10]="ABORTED",Ar[Ar.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ar[Ar.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ar[Ar.INTERNAL=13]="INTERNAL",Ar[Ar.UNAVAILABLE=14]="UNAVAILABLE",Ar[Ar.DATA_LOSS=15]="DATA_LOSS";class ha{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0!==o)for(const[u,f]of o)if(this.equalsFn(u,e))return f}has(e){return void 0!==this.get(e)}set(e,t){const o=this.mapKeyFn(e),u=this.inner[o];if(void 0===u)return this.inner[o]=[[e,t]],void this.innerSize++;for(let f=0;f<u.length;f++)if(this.equalsFn(u[f][0],e))return void(u[f]=[e,t]);u.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),o=this.inner[t];if(void 0===o)return!1;for(let u=0;u<o.length;u++)if(this.equalsFn(o[u][0],e))return 1===o.length?delete this.inner[t]:o.splice(u,1),this.innerSize--,!0;return!1}forEach(e){iu(this.inner,(t,o)=>{for(const[u,f]of o)e(u,f)})}isEmpty(){return Zc(this.inner)}size(){return this.innerSize}}class Si{constructor(e,t){this.comparator=e,this.root=t||fs.EMPTY}insert(e,t){return new Si(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,fs.BLACK,null,null))}remove(e){return new Si(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const o=this.comparator(e,t.key);if(0===o)return t.value;o<0?t=t.left:o>0&&(t=t.right)}return null}indexOf(e){let t=0,o=this.root;for(;!o.isEmpty();){const u=this.comparator(e,o.key);if(0===u)return t+o.left.size;u<0?o=o.left:(t+=o.left.size+1,o=o.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,o)=>(e(t,o),!1))}toString(){const e=[];return this.inorderTraversal((t,o)=>(e.push(`${t}:${o}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new du(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new du(this.root,e,this.comparator,!1)}getReverseIterator(){return new du(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new du(this.root,e,this.comparator,!0)}}class du{constructor(e,t,o,u){this.isReverse=u,this.nodeStack=[];let f=1;for(;!e.isEmpty();)if(f=t?o(e.key,t):1,t&&u&&(f*=-1),f<0)e=this.isReverse?e.left:e.right;else{if(0===f){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class fs{constructor(e,t,o,u,f){this.key=e,this.value=t,this.color=null!=o?o:fs.RED,this.left=null!=u?u:fs.EMPTY,this.right=null!=f?f:fs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,o,u,f){return new fs(null!=e?e:this.key,null!=t?t:this.value,null!=o?o:this.color,null!=u?u:this.left,null!=f?f:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,o){let u=this;const f=o(e,u.key);return u=f<0?u.copy(null,null,null,u.left.insert(e,t,o),null):0===f?u.copy(null,t,null,null,null):u.copy(null,null,null,null,u.right.insert(e,t,o)),u.fixUp()}removeMin(){if(this.left.isEmpty())return fs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let o,u=this;if(t(e,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(e,t),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),0===t(e,u.key)){if(u.right.isEmpty())return fs.EMPTY;o=u.right.min(),u=u.copy(o.key,o.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(e,t))}return u.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,fs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,fs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw _();const e=this.left.check();if(e!==this.right.check())throw _();return e+(this.isRed()?0:1)}}fs.EMPTY=null,fs.RED=!0,fs.BLACK=!1,fs.EMPTY=new class{constructor(){this.size=0}get key(){throw _()}get value(){throw _()}get color(){throw _()}get left(){throw _()}get right(){throw _()}copy(i,e,t,o,u){return this}insert(i,e,t){return new fs(i,e)}remove(i,e){return this}isEmpty(){return!0}inorderTraversal(i){return!1}reverseTraversal(i){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ii{constructor(e){this.comparator=e,this.data=new Si(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,o)=>(e(t),!1))}forEachInRange(e,t){const o=this.data.getIteratorFrom(e[0]);for(;o.hasNext();){const u=o.getNext();if(this.comparator(u.key,e[1])>=0)return;t(u.key)}}forEachWhile(e,t){let o;for(o=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();o.hasNext();)if(!e(o.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Qi(this.data.getIterator())}getIteratorFrom(e){return new Qi(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(o=>{t=t.add(o)}),t}isEqual(e){if(!(e instanceof Ii)||this.size!==e.size)return!1;const t=this.data.getIterator(),o=e.data.getIterator();for(;t.hasNext();){const u=t.getNext().key,f=o.getNext().key;if(0!==this.comparator(u,f))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ii(this.comparator);return t.data=e,t}}class Qi{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function hu(i){return i.hasNext()?i.getNext():void 0}const Uf=new Si(At.comparator);function lo(){return Uf}const eh=new Si(At.comparator);function Xc(){return eh}function Ba(){return new ha(i=>i.toString(),(i,e)=>i.isEqual(e))}const Vf=new Si(At.comparator),th=new Ii(At.comparator);function Wr(...i){let e=th;for(const t of i)e=e.add(t);return e}const Og=new Ii(Qn);function ed(){return Og}class fa{constructor(e,t,o,u,f){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=o,this.documentUpdates=u,this.resolvedLimboDocuments=f}static createSynthesizedRemoteEventForCurrentChange(e,t){const o=new Map;return o.set(e,is.createSynthesizedTargetChangeForCurrentChange(e,t)),new fa(Wt.min(),o,ed(),lo(),Wr())}}class is{constructor(e,t,o,u,f){this.resumeToken=e,this.current=t,this.addedDocuments=o,this.modifiedDocuments=u,this.removedDocuments=f}static createSynthesizedTargetChangeForCurrentChange(e,t){return new is(Jn.EMPTY_BYTE_STRING,t,Wr(),Wr(),Wr())}}class ja{constructor(e,t,o,u){this.O=e,this.removedTargetIds=t,this.key=o,this.F=u}}class vl{constructor(e,t){this.targetId=e,this.$=t}}class ac{constructor(e,t,o=Jn.EMPTY_BYTE_STRING,u=null){this.state=e,this.targetIds=t,this.resumeToken=o,this.cause=u}}class Ns{constructor(){this.B=0,this.L=co(),this.U=Jn.EMPTY_BYTE_STRING,this.q=!1,this.G=!0}get current(){return this.q}get resumeToken(){return this.U}get K(){return 0!==this.B}get j(){return this.G}W(e){e.approximateByteSize()>0&&(this.G=!0,this.U=e)}H(){let e=Wr(),t=Wr(),o=Wr();return this.L.forEach((u,f)=>{switch(f){case 0:e=e.add(u);break;case 2:t=t.add(u);break;case 1:o=o.add(u);break;default:_()}}),new is(this.U,this.q,e,t,o)}J(){this.G=!1,this.L=co()}Y(e,t){this.G=!0,this.L=this.L.insert(e,t)}X(e){this.G=!0,this.L=this.L.remove(e)}Z(){this.B+=1}tt(){this.B-=1}et(){this.G=!0,this.q=!0}}class fu{constructor(e){this.nt=e,this.st=new Map,this.it=lo(),this.rt=uc(),this.ot=new Ii(Qn)}ut(e){for(const t of e.O)e.F&&e.F.isFoundDocument()?this.at(t,e.F):this.ct(t,e.key,e.F);for(const t of e.removedTargetIds)this.ct(t,e.key,e.F)}ht(e){this.forEachTarget(e,t=>{const o=this.lt(t);switch(e.state){case 0:this.ft(t)&&o.W(e.resumeToken);break;case 1:o.tt(),o.K||o.J(),o.W(e.resumeToken);break;case 2:o.tt(),o.K||this.removeTarget(t);break;case 3:this.ft(t)&&(o.et(),o.W(e.resumeToken));break;case 4:this.ft(t)&&(this.dt(t),o.W(e.resumeToken));break;default:_()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.st.forEach((o,u)=>{this.ft(u)&&t(u)})}_t(e){const t=e.targetId,o=e.$.count,u=this.wt(t);if(u){const f=u.target;if(Hs(f))if(0===o){const E=new At(f.path);this.ct(t,E,Z.newNoDocument(E,Wt.min()))}else S(1===o);else this.gt(t)!==o&&(this.dt(t),this.ot=this.ot.add(t))}}yt(e){const t=new Map;this.st.forEach((f,E)=>{const T=this.wt(E);if(T){if(f.current&&Hs(T.target)){const B=new At(T.target.path);null!==this.it.get(B)||this.It(E,B)||this.ct(E,B,Z.newNoDocument(B,e))}f.j&&(t.set(E,f.H()),f.J())}});let o=Wr();this.rt.forEach((f,E)=>{let T=!0;E.forEachWhile(B=>{const z=this.wt(B);return!z||2===z.purpose||(T=!1,!1)}),T&&(o=o.add(f))}),this.it.forEach((f,E)=>E.setReadTime(e));const u=new fa(e,t,this.ot,this.it,o);return this.it=lo(),this.rt=uc(),this.ot=new Ii(Qn),u}at(e,t){if(!this.ft(e))return;const o=this.It(e,t.key)?2:0;this.lt(e).Y(t.key,o),this.it=this.it.insert(t.key,t),this.rt=this.rt.insert(t.key,this.Tt(t.key).add(e))}ct(e,t,o){if(!this.ft(e))return;const u=this.lt(e);this.It(e,t)?u.Y(t,1):u.X(t),this.rt=this.rt.insert(t,this.Tt(t).delete(e)),o&&(this.it=this.it.insert(t,o))}removeTarget(e){this.st.delete(e)}gt(e){const t=this.lt(e).H();return this.nt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Z(e){this.lt(e).Z()}lt(e){let t=this.st.get(e);return t||(t=new Ns,this.st.set(e,t)),t}Tt(e){let t=this.rt.get(e);return t||(t=new Ii(Qn),this.rt=this.rt.insert(e,t)),t}ft(e){const t=null!==this.wt(e);return t||gt("WatchChangeAggregator","Detected inactive target",e),t}wt(e){const t=this.st.get(e);return t&&t.K?null:this.nt.Et(e)}dt(e){this.st.set(e,new Ns),this.nt.getRemoteKeysForTarget(e).forEach(t=>{this.ct(e,t,null)})}It(e,t){return this.nt.getRemoteKeysForTarget(e).has(t)}}function uc(){return new Si(At.comparator)}function co(){return new Si(At.comparator)}const El={asc:"ASCENDING",desc:"DESCENDING"},td={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"};class Bf{constructor(e,t){this.databaseId=e,this.N=t}}function $a(i,e){return i.N?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lc(i,e){return i.N?e.toBase64():e.toUint8Array()}function nh(i,e){return $a(i,e.toTimestamp())}function ps(i){return S(!!i),Wt.fromTimestamp(function(e){const t=Qs(e);return new Gi(t.seconds,t.nanos)}(i))}function nd(i,e){return(t=i,new pr(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function $o(i){const e=pr.fromString(i);return S(xe(e)),e}function Uu(i,e){return nd(i.databaseId,e.path)}function sa(i,e){const t=$o(e);if(t.get(1)!==i.databaseId.projectId)throw new X(G.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+i.databaseId.projectId);if(t.get(3)!==i.databaseId.database)throw new X(G.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+i.databaseId.database);return new At(Ts(t))}function wl(i,e){return nd(i.databaseId,e)}function rh(i){const e=$o(i);return 4===e.length?pr.emptyPath():Ts(e)}function Vu(i){return new pr(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function Ts(i){return S(i.length>4&&"documents"===i.get(4)),i.popFirst(5)}function cc(i,e,t){return{name:Uu(i,e),fields:t.value.mapValue.fields}}function dc(i,e,t){const o=sa(i,e.name),u=ps(e.updateTime),f=new x({mapValue:{fields:e.fields}}),E=Z.newFoundDocument(o,u,f);return t&&E.setHasCommittedMutations(),t?E.setHasCommittedMutations():E}function ga(i,e){let t;if(e instanceof Fu)t={update:cc(i,e.key,e.value)};else if(e instanceof rc)t={delete:Uu(i,e.key)};else if(e instanceof Lu)t={update:cc(i,e.key,e.data),updateMask:J(e.fieldMask)};else{if(!(e instanceof Jc))return _();t={verify:Uu(i,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(o=>function(u,f){const E=f.transform;if(E instanceof lu)return{fieldPath:f.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(E instanceof Nu)return{fieldPath:f.field.canonicalString(),appendMissingElements:{values:E.elements}};if(E instanceof cu)return{fieldPath:f.field.canonicalString(),removeAllFromArray:{values:E.elements}};if(E instanceof ku)return{fieldPath:f.field.canonicalString(),increment:E.k};throw _()}(0,o))),e.precondition.isNone||(t.currentDocument=void 0!==(u=e.precondition).updateTime?{updateTime:nh(i,u.updateTime)}:void 0!==u.exists?{exists:u.exists}:_()),t;var u}function Il(i,e){const t=e.currentDocument?void 0!==(u=e.currentDocument).updateTime?wi.updateTime(ps(u.updateTime)):void 0!==u.exists?wi.exists(u.exists):wi.none():wi.none(),o=e.updateTransforms?e.updateTransforms.map(u=>function(f,E){let T=null;"setToServerValue"in E?(S("REQUEST_TIME"===E.setToServerValue),T=new lu):"appendMissingElements"in E?T=new Nu(E.appendMissingElements.values||[]):"removeAllFromArray"in E?T=new cu(E.removeAllFromArray.values||[]):"increment"in E?T=new ku(f,E.increment):_();const B=hs.fromServerFormat(E.fieldPath);return new jo(B,T)}(i,u)):[];var u;if(e.update){const u=sa(i,e.update.name),f=new x({mapValue:{fields:e.update.fields}});if(e.updateMask){const E=new oo((e.updateMask.fieldPaths||[]).map(z=>hs.fromServerFormat(z)));return new Lu(u,f,E,t,o)}return new Fu(u,f,t,o)}if(e.delete){const u=sa(i,e.delete);return new rc(u,t)}if(e.verify){const u=sa(i,e.verify);return new Jc(u,t)}return _()}function sh(i,e){return{documents:[wl(i,e.path)]}}function hc(i,e){const t={structuredQuery:{}},o=e.path;null!==e.collectionGroup?(t.parent=wl(i,o),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=wl(i,o.popLast()),t.structuredQuery.from=[{collectionId:o.lastSegment()}]);const u=function(B){if(0===B.length)return;const z=B.map(oe=>function(_e){if("=="===_e.op){if(xu(_e.value))return{unaryFilter:{field:c(_e.field),op:"IS_NAN"}};if(ao(_e.value))return{unaryFilter:{field:c(_e.field),op:"IS_NULL"}}}else if("!="===_e.op){if(xu(_e.value))return{unaryFilter:{field:c(_e.field),op:"IS_NOT_NAN"}};if(ao(_e.value))return{unaryFilter:{field:c(_e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:c(_e.field),op:m(_e.op),value:_e.value}}}(oe));return 1===z.length?z[0]:{compositeFilter:{op:"AND",filters:z}}}(e.filters);u&&(t.structuredQuery.where=u);const f=function(B){if(0!==B.length)return B.map(z=>{return{field:c((oe=z).field),direction:Hf(oe.dir)};var oe})}(e.orderBy);f&&(t.structuredQuery.orderBy=f);const E=(z=e.limit,i.N||Ds(z)?z:{value:z});var z,T,B;return null!==E&&(t.structuredQuery.limit=E),e.startAt&&(t.structuredQuery.startAt={before:(T=e.startAt).inclusive,values:T.position}),e.endAt&&(t.structuredQuery.endAt={before:!(B=e.endAt).inclusive,values:B.position}),t}function oh(i){let e=rh(i.parent);const t=i.structuredQuery,o=t.from?t.from.length:0;let u=null;if(o>0){S(1===o);const oe=t.from[0];oe.allDescendants?u=oe.collectionId:e=e.child(oe.collectionId)}let f=[];t.where&&(f=ah(t.where));let E=[];t.orderBy&&(E=t.orderBy.map(oe=>{return new Ou(h((_e=oe).field),function(Ze){switch(Ze){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(_e.direction));var _e}));let T=null;t.limit&&(T=function(oe){let _e;return _e="object"==typeof oe?oe.value:oe,Ds(_e)?null:_e}(t.limit));let B=null;var oe;t.startAt&&(B=new xo((oe=t.startAt).values||[],!!oe.before));let z=null;return t.endAt&&(z=function(oe){return new xo(oe.values||[],!oe.before)}(t.endAt)),zd(e,u,E,f,T,"F",B,z)}function ah(i){return i?void 0!==i.unaryFilter?[U(i)]:void 0!==i.fieldFilter?[w(i)]:void 0!==i.compositeFilter?i.compositeFilter.filters.map(e=>ah(e)).reduce((e,t)=>e.concat(t)):_():[]}function Hf(i){return El[i]}function m(i){return td[i]}function c(i){return{fieldPath:i.canonicalString()}}function h(i){return hs.fromServerFormat(i.fieldPath)}function w(i){return Ei.create(h(i.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return _()}}(i.fieldFilter.op),i.fieldFilter.value)}function U(i){switch(i.unaryFilter.op){case"IS_NAN":const e=h(i.unaryFilter.field);return Ei.create(e,"==",{doubleValue:NaN});case"IS_NULL":const t=h(i.unaryFilter.field);return Ei.create(t,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const o=h(i.unaryFilter.field);return Ei.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=h(i.unaryFilter.field);return Ei.create(u,"!=",{nullValue:"NULL_VALUE"});default:return _()}}function J(i){const e=[];return i.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function xe(i){return i.length>=4&&"projects"===i.get(0)&&"databases"===i.get(2)}function je(i){let e="";for(let t=0;t<i.length;t++)e.length>0&&(e=rn(e)),e=Rt(i.get(t),e);return rn(e)}function Rt(i,e){let t=e;const o=i.length;for(let u=0;u<o;u++){const f=i.charAt(u);switch(f){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=f}}return t}function rn(i){return i+"\x01\x01"}function dn(i){const e=i.length;if(S(e>=2),2===e)return S("\x01"===i.charAt(0)&&"\x01"===i.charAt(1)),pr.emptyPath();const t=e-2,o=[];let u="";for(let f=0;f<e;){const E=i.indexOf("\x01",f);switch((E<0||E>t)&&_(),i.charAt(E+1)){case"\x01":const T=i.substring(f,E);let B;0===u.length?B=T:(u+=T,B=u,u=""),o.push(B);break;case"\x10":u+=i.substring(f,E),u+="\0";break;case"\x11":u+=i.substring(f,E+1);break;default:_()}f=E+2}return new pr(o)}const mn=["userId","batchId"];function hi(i,e){return[i,je(e)]}function Co(i,e,t){return[i,je(e),t]}const Cl={},fc=["prefixPath","collectionGroup","readTime","documentId"],bl=["prefixPath","collectionGroup","documentId"],rd=["collectionGroup","readTime","prefixPath","documentId"],Gf=["canonicalId","targetId"],Ha=["targetId","path"],pc=["path","targetId"],id=["collectionId","parent"],sd=["indexId","uid"],gc=["uid","sequenceNumber"],Zf=["indexId","uid","arrayValue","directionalValue","documentKey"],od=["indexId","uid","documentKey"],qf=["userId","collectionPath","documentId"],$y=["userId","collectionPath","largestBatchId"],Hy=["userId","collectionGroup","largestBatchId"],Pg=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],Ng=[...Pg,"documentOverlays"],uh=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],kg=[...uh,"indexConfiguration","indexState","indexEntries"],lh="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fg{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}class tt{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&_(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new tt((o,u)=>{this.nextCallback=f=>{this.wrapSuccess(e,f).next(o,u)},this.catchCallback=f=>{this.wrapFailure(t,f).next(o,u)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof tt?t:tt.resolve(t)}catch(t){return tt.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):tt.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):tt.reject(t)}static resolve(e){return new tt((t,o)=>{t(e)})}static reject(e){return new tt((t,o)=>{o(e)})}static waitFor(e){return new tt((t,o)=>{let u=0,f=0,E=!1;e.forEach(T=>{++u,T.next(()=>{++f,E&&f===u&&t()},B=>o(B))}),E=!0,f===u&&t()})}static or(e){let t=tt.resolve(!1);for(const o of e)t=t.next(u=>u?tt.resolve(u):o());return t}static forEach(e,t){const o=[];return e.forEach((u,f)=>{o.push(t.call(this,u,f))}),this.waitFor(o)}}class ad{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.At=new He,this.transaction.oncomplete=()=>{this.At.resolve()},this.transaction.onabort=()=>{t.error?this.At.reject(new mc(e,t.error)):this.At.resolve()},this.transaction.onerror=o=>{const u=ch(o.target.error);this.At.reject(new mc(e,u))}}static open(e,t,o,u){try{return new ad(t,e.transaction(u,o))}catch(f){throw new mc(t,f)}}get Rt(){return this.At.promise}abort(e){e&&this.At.reject(e),this.aborted||(gt("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}bt(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new Gy(t)}}class oa{constructor(e,t,o){this.name=e,this.version=t,this.Pt=o,12.2===oa.Vt((0,et.z$)())&&Dr("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return gt("SimpleDb","Removing database:",e),Ga(window.indexedDB.deleteDatabase(e)).toPromise()}static vt(){if(!(0,et.hl)())return!1;if(oa.St())return!0;const e=(0,et.z$)(),t=oa.Vt(e),o=0<t&&t<10,u=oa.Dt(e),f=0<u&&u<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||o||f)}static St(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.Ct)}static xt(e,t){return e.store(t)}static Vt(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),o=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(o)}static Dt(e){const t=e.match(/Android ([\d.]+)/i),o=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(o)}Nt(e){var t=this;return(0,ue.Z)(function*(){return t.db||(gt("SimpleDb","Opening database:",t.name),t.db=yield new Promise((o,u)=>{const f=indexedDB.open(t.name,t.version);f.onsuccess=E=>{o(E.target.result)},f.onblocked=()=>{u(new mc(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},f.onerror=E=>{const T=E.target.error;u("VersionError"===T.name?new X(G.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===T.name?new X(G.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+T):new mc(e,T))},f.onupgradeneeded=E=>{gt("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',E.oldVersion),t.Pt.kt(E.target.result,f.transaction,E.oldVersion,t.version).next(()=>{gt("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.Mt&&(t.db.onversionchange=o=>t.Mt(o)),t.db})()}Ot(e){this.Mt=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,o,u){var f=this;return(0,ue.Z)(function*(){const E="readonly"===t;let T=0;for(;;){++T;try{f.db=yield f.Nt(e);const B=ad.open(f.db,e,E?"readonly":"readwrite",o),z=u(B).next(oe=>(B.bt(),oe)).catch(oe=>(B.abort(oe),tt.reject(oe))).toPromise();return z.catch(()=>{}),yield B.Rt,z}catch(B){const z="FirebaseError"!==B.name&&T<3;if(gt("SimpleDb","Transaction failed with error:",B.message,"Retrying:",z),f.close(),!z)return Promise.reject(B)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class Dl{constructor(e){this.Ft=e,this.$t=!1,this.Bt=null}get isDone(){return this.$t}get Lt(){return this.Bt}set cursor(e){this.Ft=e}done(){this.$t=!0}Ut(e){this.Bt=e}delete(){return Ga(this.Ft.delete())}}class mc extends X{constructor(e,t){super(G.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Bu(i){return"IndexedDbTransactionError"===i.name}class Gy{constructor(e){this.store=e}put(e,t){let o;return void 0!==t?(gt("SimpleDb","PUT",this.store.name,e,t),o=this.store.put(t,e)):(gt("SimpleDb","PUT",this.store.name,"<auto-key>",e),o=this.store.put(e)),Ga(o)}add(e){return gt("SimpleDb","ADD",this.store.name,e,e),Ga(this.store.add(e))}get(e){return Ga(this.store.get(e)).next(t=>(void 0===t&&(t=null),gt("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return gt("SimpleDb","DELETE",this.store.name,e),Ga(this.store.delete(e))}count(){return gt("SimpleDb","COUNT",this.store.name),Ga(this.store.count())}qt(e,t){const o=this.options(e,t);if(o.index||"function"!=typeof this.store.getAll){const u=this.cursor(o),f=[];return this.Gt(u,(E,T)=>{f.push(T)}).next(()=>f)}{const u=this.store.getAll(o.range);return new tt((f,E)=>{u.onerror=T=>{E(T.target.error)},u.onsuccess=T=>{f(T.target.result)}})}}Kt(e,t){const o=this.store.getAll(e,null===t?void 0:t);return new tt((u,f)=>{o.onerror=E=>{f(E.target.error)},o.onsuccess=E=>{u(E.target.result)}})}Qt(e,t){gt("SimpleDb","DELETE ALL",this.store.name);const o=this.options(e,t);o.jt=!1;const u=this.cursor(o);return this.Gt(u,(f,E,T)=>T.delete())}Wt(e,t){let o;t?o=e:(o={},t=e);const u=this.cursor(o);return this.Gt(u,t)}zt(e){const t=this.cursor({});return new tt((o,u)=>{t.onerror=f=>{const E=ch(f.target.error);u(E)},t.onsuccess=f=>{const E=f.target.result;E?e(E.primaryKey,E.value).next(T=>{T?E.continue():o()}):o()}})}Gt(e,t){const o=[];return new tt((u,f)=>{e.onerror=E=>{f(E.target.error)},e.onsuccess=E=>{const T=E.target.result;if(!T)return void u();const B=new Dl(T),z=t(T.primaryKey,T.value,B);if(z instanceof tt){const oe=z.catch(_e=>(B.done(),tt.reject(_e)));o.push(oe)}B.isDone?u():null===B.Lt?T.continue():T.continue(B.Lt)}}).next(()=>tt.waitFor(o))}options(e,t){let o;return void 0!==e&&("string"==typeof e?o=e:t=e),{index:o,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const o=this.store.index(e.index);return e.jt?o.openKeyCursor(e.range,t):o.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function Ga(i){return new tt((e,t)=>{i.onsuccess=o=>{e(o.target.result)},i.onerror=o=>{const u=ch(o.target.error);t(u)}})}let Lg=!1;function ch(i){const e=oa.Vt((0,et.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(i.message.indexOf(t)>=0){const o=new X("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Lg||(Lg=!0,setTimeout(()=>{throw o},0)),o}}return i}class zf extends Fg{constructor(e,t){super(),this.Ht=e,this.currentSequenceNumber=t}}function ks(i,e){const t=j(i);return oa.xt(t.Ht,e)}class ud{constructor(e,t,o,u){this.batchId=e,this.localWriteTime=t,this.baseMutations=o,this.mutations=u}applyToRemoteDocument(e,t){const o=t.mutationResults;for(let u=0;u<this.mutations.length;u++){const f=this.mutations[u];f.key.isEqual(e.key)&&_l(f,e,o[u])}}applyToLocalView(e){for(const t of this.baseMutations)t.key.isEqual(e.key)&&Jl(t,e,this.localWriteTime);for(const t of this.mutations)t.key.isEqual(e.key)&&Jl(t,e,this.localWriteTime)}applyToLocalDocumentSet(e){this.mutations.forEach(t=>{const o=e.get(t.key),u=o;this.applyToLocalView(u),o.isValidDocument()||u.convertToNoDocument(Wt.min())})}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Wr())}isEqual(e){return this.batchId===e.batchId&&_o(this.mutations,e.mutations,(t,o)=>Qc(t,o))&&_o(this.baseMutations,e.baseMutations,(t,o)=>Qc(t,o))}}class dh{constructor(e,t,o,u){this.batch=e,this.commitVersion=t,this.mutationResults=o,this.docVersions=u}static from(e,t,o){S(e.mutations.length===o.length);let u=Vf;const f=e.mutations;for(let E=0;E<f.length;E++)u=u.insert(f[E].key,o[E].version);return new dh(e,t,o,u)}}class yc{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class ma{constructor(e,t,o,u,f=Wt.min(),E=Wt.min(),T=Jn.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=o,this.sequenceNumber=u,this.snapshotVersion=f,this.lastLimboFreeSnapshotVersion=E,this.resumeToken=T}withSequenceNumber(e){return new ma(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new ma(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class Wf{constructor(e){this.Jt=e}}function Yf(i,e){const t=e.key,o={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:_c(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())o.document={name:Uu(u=i.Jt,(f=e).key),fields:f.data.value.mapValue.fields,updateTime:$a(u,f.version.toTimestamp())};else if(e.isNoDocument())o.noDocument={path:t.path.toArray(),readTime:ya(e.version)};else{if(!e.isUnknownDocument())return _();o.unknownDocument={path:t.path.toArray(),version:ya(e.version)}}var u,f;return o}function _c(i){const e=i.toTimestamp();return[e.seconds,e.nanoseconds]}function ya(i){const e=i.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function Tl(i){const e=new Gi(i.seconds,i.nanoseconds);return Wt.fromTimestamp(e)}function Al(i,e){const t=(e.baseMutations||[]).map(f=>Il(i.Jt,f));for(let f=0;f<e.mutations.length-1;++f){const E=e.mutations[f];f+1<e.mutations.length&&void 0!==e.mutations[f+1].transform&&(E.updateTransforms=e.mutations[f+1].transform.fieldTransforms,e.mutations.splice(f+1,1),++f)}const o=e.mutations.map(f=>Il(i.Jt,f)),u=Gi.fromMillis(e.localWriteTimeMs);return new ud(e.batchId,u,t,o)}function ld(i){const e=Tl(i.readTime),t=void 0!==i.lastLimboFreeSnapshotVersion?Tl(i.lastLimboFreeSnapshotVersion):Wt.min();let o;var u;return void 0!==i.query.documents?(S(1===(u=i.query).documents.length),o=Bo(Pu(rh(u.documents[0])))):o=Bo(oh(i.query)),new ma(o,i.targetId,0,i.lastListenSequenceNumber,e,t,Jn.fromBase64String(i.resumeToken))}function Ug(i,e){const t=ya(e.snapshotVersion),o=ya(e.lastLimboFreeSnapshotVersion);let u;u=Hs(e.target)?sh(i.Jt,e.target):hc(i.Jt,e.target);const f=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:uo(e.target),readTime:t,resumeToken:f,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:o,query:u}}function hh(i){const e=oh({parent:i.parent,structuredQuery:i.structuredQuery});return"LAST"===i.limitType?pl(e,e.limit,"L"):e}function cd(i,e){return new yc(e.largestBatchId,Il(i.Jt,e.overlayMutation))}function Qf(i,e){const t=e.path.lastSegment();return[i,je(e.path.popLast()),t]}class Hv{getBundleMetadata(e,t){return Jf(e).get(t).next(o=>{if(o)return{id:(u=o).bundleId,createTime:Tl(u.createTime),version:u.version};var u})}saveBundleMetadata(e,t){return Jf(e).put({bundleId:(o=t).id,createTime:ya(ps(o.createTime)),version:o.version});var o}getNamedQuery(e,t){return Vg(e).get(t).next(o=>{if(o)return{name:(u=o).name,query:hh(u.bundledQuery),readTime:Tl(u.readTime)};var u})}saveNamedQuery(e,t){return Vg(e).put({name:(o=t).name,readTime:ya(ps(o.readTime)),bundledQuery:o.bundledQuery});var o}}function Jf(i){return ks(i,"bundles")}function Vg(i){return ks(i,"namedQueries")}class fh{constructor(e,t){this.M=e,this.userId=t}static Yt(e,t){return new fh(e,t.uid||"")}getOverlay(e,t){return dd(e).get(Qf(this.userId,t)).next(o=>o?cd(this.M,o):null)}saveOverlays(e,t,o){const u=[];return o.forEach((f,E)=>{const T=new yc(t,E);u.push(this.Xt(e,T))}),tt.waitFor(u)}removeOverlaysForBatchId(e,t,o){const u=new Set;t.forEach(E=>u.add(je(E.getCollectionPath())));const f=[];return u.forEach(E=>{const T=IDBKeyRange.bound([this.userId,E,o],[this.userId,E,o+1],!1,!0);f.push(dd(e).Qt("collectionPathOverlayIndex",T))}),tt.waitFor(f)}getOverlaysForCollection(e,t,o){const u=Ba(),f=je(t),E=IDBKeyRange.bound([this.userId,f,o],[this.userId,f,Number.POSITIVE_INFINITY],!0);return dd(e).qt("collectionPathOverlayIndex",E).next(T=>{for(const B of T){const z=cd(this.M,B);u.set(z.getKey(),z)}return u})}getOverlaysForCollectionGroup(e,t,o,u){const f=Ba();let E;const T=IDBKeyRange.bound([this.userId,t,o],[this.userId,t,Number.POSITIVE_INFINITY],!0);return dd(e).Wt({index:"collectionGroupOverlayIndex",range:T},(B,z,oe)=>{const _e=cd(this.M,z);f.size()<u||_e.largestBatchId===E?(f.set(_e.getKey(),_e),E=_e.largestBatchId):oe.done()}).next(()=>f)}Xt(e,t){return dd(e).put(function(o,u,f){const[E,T,B]=Qf(u,f.mutation.key);return{userId:u,collectionPath:T,documentId:B,collectionGroup:f.mutation.key.getCollectionGroup(),largestBatchId:f.largestBatchId,overlayMutation:ga(o.Jt,f.mutation)}}(this.M,this.userId,t))}}function dd(i){return ks(i,"documentOverlays")}class vc{constructor(){}Zt(e,t){this.te(e,t),t.ee()}te(e,t){if("nullValue"in e)this.ne(t,5);else if("booleanValue"in e)this.ne(t,10),t.se(e.booleanValue?1:0);else if("integerValue"in e)this.ne(t,15),t.se(Ni(e.integerValue));else if("doubleValue"in e){const o=Ni(e.doubleValue);isNaN(o)?this.ne(t,13):(this.ne(t,15),Lo(o)?t.se(0):t.se(o))}else if("timestampValue"in e){const o=e.timestampValue;this.ne(t,20),"string"==typeof o?t.ie(o):(t.ie(`${o.seconds||""}`),t.se(o.nanos||0))}else if("stringValue"in e)this.re(e.stringValue,t),this.oe(t);else if("bytesValue"in e)this.ne(t,30),t.ue(Fo(e.bytesValue)),this.oe(t);else if("referenceValue"in e)this.ae(e.referenceValue,t);else if("geoPointValue"in e){const o=e.geoPointValue;this.ne(t,45),t.se(o.latitude||0),t.se(o.longitude||0)}else"mapValue"in e?ia(e)?this.ne(t,Number.MAX_SAFE_INTEGER):(this.ce(e.mapValue,t),this.oe(t)):"arrayValue"in e?(this.he(e.arrayValue,t),this.oe(t)):_()}re(e,t){this.ne(t,25),this.le(e,t)}le(e,t){t.ie(e)}ce(e,t){const o=e.fields||{};this.ne(t,55);for(const u of Object.keys(o))this.re(u,t),this.te(o[u],t)}he(e,t){const o=e.values||[];this.ne(t,50);for(const u of o)this.te(u,t)}ae(e,t){this.ne(t,37),At.fromName(e).path.forEach(o=>{this.ne(t,60),this.le(o,t)})}ne(e,t){e.se(t)}oe(e){e.se(2)}}function _a(i){if(0===i)return 8;let e=0;return i>>4==0&&(e+=4,i<<=4),i>>6==0&&(e+=2,i<<=2),i>>7==0&&(e+=1),e}function Bg(i){const e=64-function(t){let o=0;for(let u=0;u<8;++u){const f=_a(255&t[u]);if(o+=f,8!==f)break}return o}(i);return Math.ceil(e/8)}vc.fe=new vc;class jg{constructor(){this.buffer=new Uint8Array(1024),this.position=0}de(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this._e(o.value),o=t.next();this.we()}me(e){const t=e[Symbol.iterator]();let o=t.next();for(;!o.done;)this.ge(o.value),o=t.next();this.ye()}pe(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this._e(o);else if(o<2048)this._e(960|o>>>6),this._e(128|63&o);else if(t<"\ud800"||"\udbff"<t)this._e(480|o>>>12),this._e(128|63&o>>>6),this._e(128|63&o);else{const u=t.codePointAt(0);this._e(240|u>>>18),this._e(128|63&u>>>12),this._e(128|63&u>>>6),this._e(128|63&u)}}this.we()}Ie(e){for(const t of e){const o=t.charCodeAt(0);if(o<128)this.ge(o);else if(o<2048)this.ge(960|o>>>6),this.ge(128|63&o);else if(t<"\ud800"||"\udbff"<t)this.ge(480|o>>>12),this.ge(128|63&o>>>6),this.ge(128|63&o);else{const u=t.codePointAt(0);this.ge(240|u>>>18),this.ge(128|63&u>>>12),this.ge(128|63&u>>>6),this.ge(128|63&u)}}this.ye()}Te(e){const t=this.Ee(e),o=Bg(t);this.Ae(1+o),this.buffer[this.position++]=255&o;for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=255&t[u]}Re(e){const t=this.Ee(e),o=Bg(t);this.Ae(1+o),this.buffer[this.position++]=~(255&o);for(let u=t.length-o;u<t.length;++u)this.buffer[this.position++]=~(255&t[u])}be(){this.Pe(255),this.Pe(255)}Ve(){this.ve(255),this.ve(255)}reset(){this.position=0}seed(e){this.Ae(e.length),this.buffer.set(e,this.position),this.position+=e.length}Se(){return this.buffer.slice(0,this.position)}Ee(e){const t=function(u){const f=new DataView(new ArrayBuffer(8));return f.setFloat64(0,u,!1),new Uint8Array(f.buffer)}(e),o=0!=(128&t[0]);t[0]^=o?255:128;for(let u=1;u<t.length;++u)t[u]^=o?255:0;return t}_e(e){const t=255&e;0===t?(this.Pe(0),this.Pe(255)):255===t?(this.Pe(255),this.Pe(0)):this.Pe(t)}ge(e){const t=255&e;0===t?(this.ve(0),this.ve(255)):255===t?(this.ve(255),this.ve(0)):this.ve(e)}we(){this.Pe(0),this.Pe(1)}ye(){this.ve(0),this.ve(1)}Pe(e){this.Ae(1),this.buffer[this.position++]=e}ve(e){this.Ae(1),this.buffer[this.position++]=~e}Ae(e){const t=e+this.position;if(t<=this.buffer.length)return;let o=2*this.buffer.length;o<t&&(o=t);const u=new Uint8Array(o);u.set(this.buffer),this.buffer=u}}class Zy{constructor(e){this.De=e}ue(e){this.De.de(e)}ie(e){this.De.pe(e)}se(e){this.De.Te(e)}ee(){this.De.be()}}class qy{constructor(e){this.De=e}ue(e){this.De.me(e)}ie(e){this.De.Ie(e)}se(e){this.De.Re(e)}ee(){this.De.Ve()}}class ph{constructor(){this.De=new jg,this.Ce=new Zy(this.De),this.xe=new qy(this.De)}seed(e){this.De.seed(e)}Ne(e){return 0===e?this.Ce:this.xe}Se(){return this.De.Se()}reset(){this.De.reset()}}class ju{constructor(e,t,o,u){this.indexId=e,this.documentKey=t,this.arrayValue=o,this.directionalValue=u}ke(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,o=new Uint8Array(t);return o.set(this.directionalValue,0),t!==e?o.set([0],this.directionalValue.length):++o[o.length-1],new ju(this.indexId,this.documentKey,this.arrayValue,o)}}function $u(i,e){let t=i.indexId-e.indexId;return 0!==t?t:(t=$g(i.arrayValue,e.arrayValue),0!==t?t:(t=$g(i.directionalValue,e.directionalValue),0!==t?t:At.comparator(i.documentKey,e.documentKey)))}function $g(i,e){for(let t=0;t<i.length&&t<e.length;++t){const o=i[t]-e[t];if(0!==o)return o}return i.length-e.length}class zy{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Me=e.orderBy,this.Oe=[];for(const t of e.filters){const o=t;o.S()?this.Fe=o:this.Oe.push(o)}}$e(e){const t=Pe(e);if(void 0!==t&&!this.Be(t))return!1;const o=$e(e);let u=0,f=0;for(;u<o.length&&this.Be(o[u]);++u);if(u===o.length)return!0;if(void 0!==this.Fe){const E=o[u];if(!this.Le(this.Fe,E)||!this.Ue(this.Me[f++],E))return!1;++u}for(;u<o.length;++u){const E=o[u];if(f>=this.Me.length||!this.Ue(this.Me[f++],E))return!1}return!0}Be(e){for(const t of this.Oe)if(this.Le(t,e))return!0;return!1}Le(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}Ue(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}class Wy{constructor(){this.qe=new Bn}addToCollectionParentIndex(e,t){return this.qe.add(t),tt.resolve()}getCollectionParents(e,t){return tt.resolve(this.qe.getEntries(t))}addFieldIndex(e,t){return tt.resolve()}deleteFieldIndex(e,t){return tt.resolve()}getDocumentsMatchingTarget(e,t){return tt.resolve(null)}getFieldIndex(e,t){return tt.resolve(null)}getFieldIndexes(e,t){return tt.resolve([])}getNextCollectionGroupToUpdate(e){return tt.resolve(null)}updateCollectionGroup(e,t,o){return tt.resolve()}updateIndexEntries(e,t){return tt.resolve()}}class Bn{constructor(){this.index={}}add(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t]||new Ii(pr.comparator),f=!u.has(o);return this.index[t]=u.add(o),f}has(e){const t=e.lastSegment(),o=e.popLast(),u=this.index[t];return u&&u.has(o)}getEntries(e){return(this.index[e]||new Ii(pr.comparator)).toArray()}}const hd=new Uint8Array(0);class Hg{constructor(e){this.user=e,this.Ge=new Bn,this.Ke=new ha(t=>uo(t),(t,o)=>$s(t,o)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.Ge.has(t)){const o=t.lastSegment(),u=t.popLast();e.addOnCommittedListener(()=>{this.Ge.add(t)});const f={collectionId:o,parent:je(u)};return Xf(e).put(f)}return tt.resolve()}getCollectionParents(e,t){const o=[],u=IDBKeyRange.bound([t,""],[ru(t),""],!1,!0);return Xf(e).qt(u).next(f=>{for(const E of f){if(E.collectionId!==t)break;o.push(dn(E.parent))}return o})}addFieldIndex(e,t){const o=Mo(e),u={indexId:(f=t).indexId,collectionGroup:f.collectionGroup,fields:f.fields.map(E=>[E.fieldPath.canonicalString(),E.kind])};var f;return delete u.indexId,o.add(u).next()}deleteFieldIndex(e,t){const o=Mo(e),u=fd(e),f=Hu(e);return o.delete(t.indexId).next(()=>u.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>f.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const o=Hu(e);let u=!0;const f=new Map;return tt.forEach(this.Qe(t),E=>this.getFieldIndex(e,E).next(T=>{u&&(u=!!T),f.set(E,T)})).next(()=>{if(u){let E=Wr();return tt.forEach(f,(T,B)=>{var z;gt("IndexedDbIndexManager",`Using index ${z=T,`id=${z.indexId}|cg=${z.collectionGroup}|f=${z.fields.map(nr=>`${nr.fieldPath}:${nr.kind}`).join(",")}`} to execute ${uo(t)}`);const oe=function(nr,Ls){const Ui=Pe(Ls);if(void 0===Ui)return null;for(const Ci of wo(nr,Ui.fieldPath))switch(Ci.op){case"array-contains-any":return Ci.value.arrayValue.values||[];case"array-contains":return[Ci.value]}return null}(B,T),_e=function(nr,Ls){const Ui=new Map;for(const Ci of $e(Ls))for(const Nr of wo(nr,Ci.fieldPath))switch(Nr.op){case"==":case"in":Ui.set(Ci.fieldPath.canonicalString(),Nr.value);break;case"not-in":case"!=":return Ui.set(Ci.fieldPath.canonicalString(),Nr.value),Array.from(Ui.values())}return null}(B,T),Ze=function(nr,Ls){const Ui=[];let Ci=!0;for(const Xa of $e(Ls)){let Zo,Hl=!0;for(const Us of wo(nr,Xa.fieldPath)){let Xi,Gl=!0;switch(Us.op){case"<":case"<=":Xi="nullValue"in(Nr=Us.value)?Su:"booleanValue"in Nr?{booleanValue:!1}:"integerValue"in Nr||"doubleValue"in Nr?{doubleValue:NaN}:"timestampValue"in Nr?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in Nr?{stringValue:""}:"bytesValue"in Nr?{bytesValue:""}:"referenceValue"in Nr?ra(Ki.empty(),At.empty()):"geoPointValue"in Nr?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in Nr?{arrayValue:{}}:"mapValue"in Nr?{mapValue:{}}:_();break;case"==":case"in":case">=":Xi=Us.value;break;case">":Xi=Us.value,Gl=!1;break;case"!=":case"not-in":Xi=Su}ka(Zo,Xi)===Xi&&(Zo=Xi,Hl=Gl)}if(null!==nr.startAt)for(let Us=0;Us<nr.orderBy.length;++Us)if(nr.orderBy[Us].field.isEqual(Xa.fieldPath)){const Xi=nr.startAt.position[Us];ka(Zo,Xi)===Xi&&(Zo=Xi,Hl=nr.startAt.inclusive);break}if(void 0===Zo)return null;Ui.push(Zo),Ci&&(Ci=Hl)}var Nr;return new xo(Ui,Ci)}(B,T),lt=function(nr,Ls){const Ui=[];let Ci=!0;for(const Xa of $e(Ls)){let Zo,Hl=!0;for(const Us of wo(nr,Xa.fieldPath)){let Xi,Gl=!0;switch(Us.op){case">=":case">":Xi="nullValue"in(Nr=Us.value)?{booleanValue:!1}:"booleanValue"in Nr?{doubleValue:NaN}:"integerValue"in Nr||"doubleValue"in Nr?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in Nr?{stringValue:""}:"stringValue"in Nr?{bytesValue:""}:"bytesValue"in Nr?ra(Ki.empty(),At.empty()):"referenceValue"in Nr?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in Nr?{arrayValue:{}}:"arrayValue"in Nr?{mapValue:{}}:"mapValue"in Nr?cl:_(),Gl=!1;break;case"==":case"in":case"<=":Xi=Us.value;break;case"<":Xi=Us.value,Gl=!1;break;case"!=":case"not-in":Xi=cl}Mu(Zo,Xi)===Xi&&(Zo=Xi,Hl=Gl)}if(null!==nr.endAt)for(let Us=0;Us<nr.orderBy.length;++Us)if(nr.orderBy[Us].field.isEqual(Xa.fieldPath)){const Xi=nr.endAt.position[Us];Mu(Zo,Xi)===Xi&&(Zo=Xi,Hl=nr.endAt.inclusive);break}if(void 0===Zo)return null;Ui.push(Zo),Ci&&(Ci=Hl)}var Nr;return new xo(Ui,Ci)}(B,T),pt=this.je(T,B,Ze),ln=this.je(T,B,lt),qn=this.We(T,B,_e),Li=this.ze(T.indexId,oe,pt,!!Ze&&Ze.inclusive,ln,!!lt&&lt.inclusive,qn);return tt.forEach(Li,nr=>o.Kt(nr,t.limit).next(Ls=>{Ls.forEach(Ui=>{E=E.add(new At(dn(Ui.documentKey)))})}))}).next(()=>E)}return tt.resolve(null)})}Qe(e){let t=this.Ke.get(e);return t||(t=[e],this.Ke.set(e,t),t)}ze(e,t,o,u,f,E,T){const B=(null!=t?t.length:1)*Math.max(null!=o?o.length:1,null!=f?f.length:1),z=B/(null!=t?t.length:1),oe=[];for(let _e=0;_e<B;++_e){const Ze=t?this.He(t[_e/z]):hd,lt=o?this.Je(e,Ze,o[_e%z],u):this.Ye(e),pt=f?this.Xe(e,Ze,f[_e%z],E):this.Ye(e+1);oe.push(...this.createRange(lt,pt,T.map(ln=>this.Je(e,Ze,ln,!0))))}return oe}Je(e,t,o,u){const f=new ju(e,At.empty(),t,o);return u?f:f.ke()}Xe(e,t,o,u){const f=new ju(e,At.empty(),t,o);return u?f.ke():f}Ye(e){return new ju(e,At.empty(),hd,hd)}getFieldIndex(e,t){const o=new zy(t),u=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,u).next(f=>{const E=f.filter(T=>o.$e(T));return E.sort((T,B)=>B.fields.length-T.fields.length),E.length>0?E[0]:null})}Ze(e,t){const o=new ph;for(const u of $e(e)){const f=t.data.field(u.fieldPath);if(null==f)return null;const E=o.Ne(u.kind);vc.fe.Zt(f,E)}return o.Se()}He(e){const t=new ph;return vc.fe.Zt(e,t.Ne(0)),t.Se()}We(e,t,o){if(null===o)return[];let u=[];u.push(new ph);let f=0;for(const E of $e(e)){const T=o[f++];for(const B of u)if(this.tn(t,E.fieldPath)&&su(T))u=this.en(u,E,T);else{const z=B.Ne(E.kind);vc.fe.Zt(T,z)}}return this.nn(u)}je(e,t,o){return null==o?null:this.We(e,t,o.position)}nn(e){const t=[];for(let o=0;o<e.length;++o)t[o]=e[o].Se();return t}en(e,t,o){const u=[...e],f=[];for(const E of o.arrayValue.values||[])for(const T of u){const B=new ph;B.seed(T.Se()),vc.fe.Zt(E,B.Ne(t.kind)),f.push(B)}return f}tn(e,t){return!!e.filters.find(o=>o instanceof Ei&&o.field.isEqual(t)&&("in"===o.op||"not-in"===o.op))}getFieldIndexes(e,t){const o=Mo(e),u=fd(e);return(t?o.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)):o.qt()).next(f=>{const E=[];return tt.forEach(f,T=>u.get([T.indexId,this.uid]).next(B=>{E.push(function(z,oe){const _e=oe?new zt(oe.sequenceNumber,new Vn(Tl(oe.readTime),new At(dn(oe.documentKey)),oe.largestBatchId)):zt.empty(),Ze=z.fields.map(([lt,pt])=>new mt(hs.fromServerFormat(lt),pt));return new ae(z.indexId,z.collectionGroup,Ze,_e)}(T,B))})).next(()=>E)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((o,u)=>{const f=o.indexState.sequenceNumber-u.indexState.sequenceNumber;return 0!==f?f:Qn(o.collectionGroup,u.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,o){const u=Mo(e),f=fd(e);return this.sn(e).next(E=>u.qt("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(T=>tt.forEach(T,B=>{return f.put({indexId:B.indexId,uid:this.user.uid||"",sequenceNumber:E,readTime:ya((Ze=o).readTime),documentKey:je(Ze.documentKey.path),largestBatchId:Ze.largestBatchId});var Ze})))}updateIndexEntries(e,t){const o=new Map;return tt.forEach(t,(u,f)=>{const E=o.get(u.collectionGroup);return(E?tt.resolve(E):this.getFieldIndexes(e,u.collectionGroup)).next(T=>(o.set(u.collectionGroup,T),tt.forEach(T,B=>this.rn(e,u,B).next(z=>{const oe=this.on(f,B);return z.isEqual(oe)?tt.resolve():this.un(e,f,z,oe)}))))})}an(e,t,o){return Hu(e).put({indexId:o.indexId,uid:this.uid,arrayValue:o.arrayValue,directionalValue:o.directionalValue,documentKey:je(t.key.path)})}cn(e,t,o){return Hu(e).delete([o.indexId,this.uid,o.arrayValue,o.directionalValue,je(t.key.path)])}rn(e,t,o){const u=Hu(e);let f=new Ii($u);return u.Wt({index:"documentKeyIndex",range:IDBKeyRange.only([o.indexId,this.uid,je(t.path)])},(E,T)=>{f=f.add(new ju(o.indexId,t,T.arrayValue,T.directionalValue))}).next(()=>f)}on(e,t){let o=new Ii($u);const u=this.Ze(t,e);if(null==u)return o;const f=Pe(t);if(null!=f){const E=e.data.field(f.fieldPath);if(su(E))for(const T of E.arrayValue.values||[])o=o.add(new ju(t.indexId,e.key,this.He(T),u))}else o=o.add(new ju(t.indexId,e.key,hd,u));return o}un(e,t,o,u){gt("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const f=[];return function(E,T,B,z,oe){const _e=E.getIterator(),Ze=T.getIterator();let lt=hu(_e),pt=hu(Ze);for(;lt||pt;){let ln=!1,qn=!1;if(lt&&pt){const Li=B(lt,pt);Li<0?qn=!0:Li>0&&(ln=!0)}else null!=lt?qn=!0:ln=!0;ln?(z(pt),pt=hu(Ze)):qn?(oe(lt),lt=hu(_e)):(lt=hu(_e),pt=hu(Ze))}}(o,u,$u,E=>{f.push(this.an(e,t,E))},E=>{f.push(this.cn(e,t,E))}),tt.waitFor(f)}sn(e){let t=1;return fd(e).Wt({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(o,u,f)=>{f.done(),t=u.sequenceNumber+1}).next(()=>t)}createRange(e,t,o){o=o.sort((E,T)=>$u(E,T)).filter((E,T,B)=>!T||0!==$u(E,B[T-1]));const u=[];u.push(e);for(const E of o){const T=$u(E,e),B=$u(E,t);if(0===T)u[0]=e.ke();else if(T>0&&B<0)u.push(E),u.push(E.ke());else if(B>0)break}u.push(t);const f=[];for(let E=0;E<u.length;E+=2)f.push(IDBKeyRange.bound([u[E].indexId,this.uid,u[E].arrayValue,u[E].directionalValue,""],[u[E+1].indexId,this.uid,u[E+1].arrayValue,u[E+1].directionalValue,""]));return f}}function Xf(i){return ks(i,"collectionParents")}function Hu(i){return ks(i,"indexEntries")}function Mo(i){return ks(i,"indexConfiguration")}function fd(i){return ks(i,"indexState")}const Gg={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class ho{constructor(e,t,o){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=o}static withCacheSize(e){return new ho(e,ho.DEFAULT_COLLECTION_PERCENTILE,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Za(i,e,t){const o=i.store("mutations"),u=i.store("documentMutations"),f=[],E=IDBKeyRange.only(t.batchId);let T=0;const B=o.Wt({range:E},(oe,_e,Ze)=>(T++,Ze.delete()));f.push(B.next(()=>{S(1===T)}));const z=[];for(const oe of t.mutations){const _e=Co(e,oe.key.path,t.batchId);f.push(u.delete(_e)),z.push(oe.key)}return tt.waitFor(f).next(()=>z)}function Ec(i){if(!i)return 0;let e;if(i.document)e=i.document;else if(i.unknownDocument)e=i.unknownDocument;else{if(!i.noDocument)throw _();e=i.noDocument}return JSON.stringify(e).length}ho.DEFAULT_COLLECTION_PERCENTILE=10,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ho.DEFAULT=new ho(41943040,ho.DEFAULT_COLLECTION_PERCENTILE,ho.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ho.DISABLED=new ho(-1,0,0);class gh{constructor(e,t,o,u){this.userId=e,this.M=t,this.indexManager=o,this.referenceDelegate=u,this.hn={}}static Yt(e,t,o,u){S(""!==e.uid);const f=e.isAuthenticated()?e.uid:"";return new gh(f,t,o,u)}checkEmpty(e){let t=!0;const o=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return Sl(e).Wt({index:"userMutationsIndex",range:o},(u,f,E)=>{t=!1,E.done()}).next(()=>t)}addMutationBatch(e,t,o,u){const f=xl(e),E=Sl(e);return E.add({}).next(T=>{S("number"==typeof T);const B=new ud(T,t,o,u),z=function(Ze,lt,pt){const ln=pt.baseMutations.map(Li=>ga(Ze.Jt,Li)),qn=pt.mutations.map(Li=>ga(Ze.Jt,Li));return{userId:lt,batchId:pt.batchId,localWriteTimeMs:pt.localWriteTime.toMillis(),baseMutations:ln,mutations:qn}}(this.M,this.userId,B),oe=[];let _e=new Ii((Ze,lt)=>Qn(Ze.canonicalString(),lt.canonicalString()));for(const Ze of u){const lt=Co(this.userId,Ze.key.path,T);_e=_e.add(Ze.key.path.popLast()),oe.push(E.put(z)),oe.push(f.put(lt,Cl))}return _e.forEach(Ze=>{oe.push(this.indexManager.addToCollectionParentIndex(e,Ze))}),e.addOnCommittedListener(()=>{this.hn[T]=B.keys()}),tt.waitFor(oe).next(()=>B)})}lookupMutationBatch(e,t){return Sl(e).get(t).next(o=>o?(S(o.userId===this.userId),Al(this.M,o)):null)}ln(e,t){return this.hn[t]?tt.resolve(this.hn[t]):this.lookupMutationBatch(e,t).next(o=>{if(o){const u=o.keys();return this.hn[t]=u,u}return null})}getNextMutationBatchAfterBatchId(e,t){const o=t+1,u=IDBKeyRange.lowerBound([this.userId,o]);let f=null;return Sl(e).Wt({index:"userMutationsIndex",range:u},(E,T,B)=>{T.userId===this.userId&&(S(T.batchId>=o),f=Al(this.M,T)),B.done()}).next(()=>f)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let o=-1;return Sl(e).Wt({index:"userMutationsIndex",range:t,reverse:!0},(u,f,E)=>{o=f.batchId,E.done()}).next(()=>o)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return Sl(e).qt("userMutationsIndex",t).next(o=>o.map(u=>Al(this.M,u)))}getAllMutationBatchesAffectingDocumentKey(e,t){const o=hi(this.userId,t.path),u=IDBKeyRange.lowerBound(o),f=[];return xl(e).Wt({range:u},(E,T,B)=>{const[z,oe,_e]=E,Ze=dn(oe);if(z===this.userId&&t.path.isEqual(Ze))return Sl(e).get(_e).next(lt=>{if(!lt)throw _();S(lt.userId===this.userId),f.push(Al(this.M,lt))});B.done()}).next(()=>f)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Ii(Qn);const u=[];return t.forEach(f=>{const E=hi(this.userId,f.path),T=IDBKeyRange.lowerBound(E),B=xl(e).Wt({range:T},(z,oe,_e)=>{const[Ze,lt,pt]=z,ln=dn(lt);Ze===this.userId&&f.path.isEqual(ln)?o=o.add(pt):_e.done()});u.push(B)}),tt.waitFor(u).next(()=>this.fn(e,o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1,f=hi(this.userId,o),E=IDBKeyRange.lowerBound(f);let T=new Ii(Qn);return xl(e).Wt({range:E},(B,z,oe)=>{const[_e,Ze,lt]=B,pt=dn(Ze);_e===this.userId&&o.isPrefixOf(pt)?pt.length===u&&(T=T.add(lt)):oe.done()}).next(()=>this.fn(e,T))}fn(e,t){const o=[],u=[];return t.forEach(f=>{u.push(Sl(e).get(f).next(E=>{if(null===E)throw _();S(E.userId===this.userId),o.push(Al(this.M,E))}))}),tt.waitFor(u).next(()=>o)}removeMutationBatch(e,t){return Za(e.Ht,this.userId,t).next(o=>(e.addOnCommittedListener(()=>{this.dn(t.batchId)}),tt.forEach(o,u=>this.referenceDelegate.markPotentiallyOrphaned(e,u))))}dn(e){delete this.hn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return tt.resolve();const o=IDBKeyRange.lowerBound([this.userId]),u=[];return xl(e).Wt({range:o},(f,E,T)=>{if(f[0]===this.userId){const B=dn(f[1]);u.push(B)}else T.done()}).next(()=>{S(0===u.length)})})}containsKey(e,t){return mh(e,this.userId,t)}_n(e){return Ky(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function mh(i,e,t){const o=hi(e,t.path),u=o[1],f=IDBKeyRange.lowerBound(o);let E=!1;return xl(i).Wt({range:f,jt:!0},(T,B,z)=>{const[oe,_e,Ze]=T;oe===e&&_e===u&&(E=!0),z.done()}).next(()=>E)}function Sl(i){return ks(i,"mutations")}function xl(i){return ks(i,"documentMutations")}function Ky(i){return ks(i,"mutationQueues")}class qa{constructor(e){this.wn=e}next(){return this.wn+=2,this.wn}static mn(){return new qa(0)}static gn(){return new qa(-1)}}class yh{constructor(e,t){this.referenceDelegate=e,this.M=t}allocateTargetId(e){return this.yn(e).next(t=>{const o=new qa(t.highestTargetId);return t.highestTargetId=o.next(),this.pn(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.yn(e).next(t=>Wt.fromTimestamp(new Gi(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.yn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,o){return this.yn(e).next(u=>(u.highestListenSequenceNumber=t,o&&(u.lastRemoteSnapshotVersion=o.toTimestamp()),t>u.highestListenSequenceNumber&&(u.highestListenSequenceNumber=t),this.pn(e,u)))}addTargetData(e,t){return this.In(e,t).next(()=>this.yn(e).next(o=>(o.targetCount+=1,this.Tn(t,o),this.pn(e,o))))}updateTargetData(e,t){return this.In(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Gu(e).delete(t.targetId)).next(()=>this.yn(e)).next(o=>(S(o.targetCount>0),o.targetCount-=1,this.pn(e,o)))}removeTargets(e,t,o){let u=0;const f=[];return Gu(e).Wt((E,T)=>{const B=ld(T);B.sequenceNumber<=t&&null===o.get(B.targetId)&&(u++,f.push(this.removeTargetData(e,B)))}).next(()=>tt.waitFor(f)).next(()=>u)}forEachTarget(e,t){return Gu(e).Wt((o,u)=>{const f=ld(u);t(f)})}yn(e){return _h(e).get("targetGlobalKey").next(t=>(S(null!==t),t))}pn(e,t){return _h(e).put("targetGlobalKey",t)}In(e,t){return Gu(e).put(Ug(this.M,t))}Tn(e,t){let o=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,o=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,o=!0),o}getTargetCount(e){return this.yn(e).next(t=>t.targetCount)}getTargetData(e,t){const o=uo(t),u=IDBKeyRange.bound([o,Number.NEGATIVE_INFINITY],[o,Number.POSITIVE_INFINITY]);let f=null;return Gu(e).Wt({range:u,index:"queryTargetsIndex"},(E,T,B)=>{const z=ld(T);$s(t,z.target)&&(f=z,B.done())}).next(()=>f)}addMatchingKeys(e,t,o){const u=[],f=za(e);return t.forEach(E=>{const T=je(E.path);u.push(f.put({targetId:o,path:T})),u.push(this.referenceDelegate.addReference(e,o,E))}),tt.waitFor(u)}removeMatchingKeys(e,t,o){const u=za(e);return tt.forEach(t,f=>{const E=je(f.path);return tt.waitFor([u.delete([o,E]),this.referenceDelegate.removeReference(e,o,f)])})}removeMatchingKeysForTargetId(e,t){const o=za(e),u=IDBKeyRange.bound([t],[t+1],!1,!0);return o.delete(u)}getMatchingKeysForTargetId(e,t){const o=IDBKeyRange.bound([t],[t+1],!1,!0),u=za(e);let f=Wr();return u.Wt({range:o,jt:!0},(E,T,B)=>{const z=dn(E[1]),oe=new At(z);f=f.add(oe)}).next(()=>f)}containsKey(e,t){const o=je(t.path),u=IDBKeyRange.bound([o],[ru(o)],!1,!0);let f=0;return za(e).Wt({index:"documentTargetsIndex",jt:!0,range:u},([E,T],B,z)=>{0!==E&&(f++,z.done())}).next(()=>f>0)}Et(e,t){return Gu(e).get(t).next(o=>o?ld(o):null)}}function Gu(i){return ks(i,"targets")}function _h(i){return ks(i,"targetGlobal")}function za(i){return ks(i,"targetDocuments")}function wc(i){return ep.apply(this,arguments)}function ep(){return ep=(0,ue.Z)(function*(i){if(i.code!==G.FAILED_PRECONDITION||i.message!==lh)throw i;gt("LocalStore","Unexpectedly lost primary lease")}),ep.apply(this,arguments)}function Zg([i,e],[t,o]){const u=Qn(i,t);return 0===u?Qn(e,o):u}class Yy{constructor(e){this.En=e,this.buffer=new Ii(Zg),this.An=0}Rn(){return++this.An}bn(e){const t=[e,this.Rn()];if(this.buffer.size<this.En)this.buffer=this.buffer.add(t);else{const o=this.buffer.last();Zg(t,o)<0&&(this.buffer=this.buffer.delete(o).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Qy{constructor(e,t){this.garbageCollector=e,this.asyncQueue=t,this.Pn=!1,this.Vn=null}start(e){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.vn(e)}stop(){this.Vn&&(this.Vn.cancel(),this.Vn=null)}get started(){return null!==this.Vn}vn(e){var t=this;const o=this.Pn?3e5:6e4;gt("LruGarbageCollector",`Garbage collection scheduled in ${o}ms`),this.Vn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",o,(0,ue.Z)(function*(){t.Vn=null,t.Pn=!0;try{yield e.collectGarbage(t.garbageCollector)}catch(u){Bu(u)?gt("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",u):yield wc(u)}yield t.vn(e)}))}}class qg{constructor(e,t){this.Sn=e,this.params=t}calculateTargetCount(e,t){return this.Sn.Dn(e).next(o=>Math.floor(t/100*o))}nthSequenceNumber(e,t){if(0===t)return tt.resolve(di.A);const o=new Yy(t);return this.Sn.forEachTarget(e,u=>o.bn(u.sequenceNumber)).next(()=>this.Sn.Cn(e,u=>o.bn(u))).next(()=>o.maxValue)}removeTargets(e,t,o){return this.Sn.removeTargets(e,t,o)}removeOrphanedDocuments(e,t){return this.Sn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector","Garbage collection skipped; disabled"),tt.resolve(Gg)):this.getCacheSize(e).next(o=>o<this.params.cacheSizeCollectionThreshold?(gt("LruGarbageCollector",`Garbage collection skipped; Cache size ${o} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Gg):this.xn(e,t))}getCacheSize(e){return this.Sn.getCacheSize(e)}xn(e,t){let o,u,f,E,T,B,z;const oe=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_e=>(_e>this.params.maximumSequenceNumbersToCollect?(gt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_e}`),u=this.params.maximumSequenceNumbersToCollect):u=_e,E=Date.now(),this.nthSequenceNumber(e,u))).next(_e=>(o=_e,T=Date.now(),this.removeTargets(e,o,t))).next(_e=>(f=_e,B=Date.now(),this.removeOrphanedDocuments(e,o))).next(_e=>(z=Date.now(),To()<=st.in.DEBUG&&gt("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${E-oe}ms\n\tDetermined least recently used ${u} in `+(T-E)+`ms\n\tRemoved ${f} targets in `+(B-T)+`ms\n\tRemoved ${_e} documents in `+(z-B)+`ms\nTotal Duration: ${z-oe}ms`),tt.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:f,documentsRemoved:_e})))}}class Gv{constructor(e,t){this.db=e,this.garbageCollector=new qg(this,t)}Dn(e){const t=this.Nn(e);return this.db.getTargetCache().getTargetCount(e).next(o=>t.next(u=>o+u))}Nn(e){let t=0;return this.Cn(e,o=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}Cn(e,t){return this.kn(e,(o,u)=>t(u))}addReference(e,t,o){return vh(e,o)}removeReference(e,t,o){return vh(e,o)}removeTargets(e,t,o){return this.db.getTargetCache().removeTargets(e,t,o)}markPotentiallyOrphaned(e,t){return vh(e,t)}Mn(e,t){return function(o,u){let f=!1;return Ky(o).zt(E=>mh(o,E,u).next(T=>(T&&(f=!0),tt.resolve(!T)))).next(()=>f)}(e,t)}removeOrphanedDocuments(e,t){const o=this.db.getRemoteDocumentCache().newChangeBuffer(),u=[];let f=0;return this.kn(e,(E,T)=>{if(T<=t){const B=this.Mn(e,E).next(z=>{if(!z)return f++,o.getEntry(e,E).next(()=>(o.removeEntry(E,Wt.min()),za(e).delete([0,je(E.path)])))});u.push(B)}}).next(()=>tt.waitFor(u)).next(()=>o.apply(e)).next(()=>f)}removeTarget(e,t){const o=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,o)}updateLimboDocument(e,t){return vh(e,t)}kn(e,t){const o=za(e);let u,f=di.A;return o.Wt({index:"documentTargetsIndex"},([E,T],{path:B,sequenceNumber:z})=>{0===E?(f!==di.A&&t(new At(dn(u)),f),f=z,u=B):f=di.A}).next(()=>{f!==di.A&&t(new At(dn(u)),f)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function vh(i,e){return za(i).put((o=i.currentSequenceNumber,{targetId:0,path:je(e.path),sequenceNumber:o}));var o}class Jy{constructor(){this.changes=new ha(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Z.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const o=this.changes.get(t);return void 0!==o?tt.resolve(o):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class zg{constructor(e){this.M=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,o){return pu(e).put(o)}removeEntry(e,t,o){return pu(e).delete(function(u,f){const E=u.path.toArray();return[E.slice(0,E.length-2),E[E.length-2],_c(f),E[E.length-1]]}(t,o))}updateMetadata(e,t){return this.getMetadata(e).next(o=>(o.byteSize+=t,this.On(e,o)))}getEntry(e,t){let o=Z.newInvalidDocument(t);return pu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Eh(t))},(u,f)=>{o=this.Fn(t,f)}).next(()=>o)}$n(e,t){let o={size:0,document:Z.newInvalidDocument(t)};return pu(e).Wt({index:"documentKeyIndex",range:IDBKeyRange.only(Eh(t))},(u,f)=>{o={document:this.Fn(t,f),size:Ec(f)}}).next(()=>o)}getEntries(e,t){let o=lo();return this.Bn(e,t,(u,f)=>{const E=this.Fn(u,f);o=o.insert(u,E)}).next(()=>o)}Ln(e,t){let o=lo(),u=new Si(At.comparator);return this.Bn(e,t,(f,E)=>{const T=this.Fn(f,E);o=o.insert(f,T),u=u.insert(f,Ec(E))}).next(()=>({documents:o,Un:u}))}Bn(e,t,o){if(t.isEmpty())return tt.resolve();let u=new Ii(e_);t.forEach(B=>u=u.add(B));const f=IDBKeyRange.bound(Eh(u.first()),Eh(u.last())),E=u.getIterator();let T=E.getNext();return pu(e).Wt({index:"documentKeyIndex",range:f},(B,z,oe)=>{const _e=At.fromSegments([...z.prefixPath,z.collectionGroup,z.documentId]);for(;T&&e_(T,_e)<0;)o(T,null),T=E.getNext();T&&T.isEqual(_e)&&(o(T,z),T=E.hasNext()?E.getNext():null),T?oe.Ut(Eh(T)):oe.done()}).next(()=>{for(;T;)o(T,null),T=E.hasNext()?E.getNext():null})}getAllFromCollection(e,t,o){const u=[t.popLast().toArray(),t.lastSegment(),_c(o.readTime),o.documentKey.path.isEmpty()?"":o.documentKey.path.lastSegment()],f=[t.popLast().toArray(),t.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return pu(e).qt(IDBKeyRange.bound(u,f,!0)).next(E=>{let T=lo();for(const B of E){const z=this.Fn(At.fromSegments(B.prefixPath.concat(B.collectionGroup,B.documentId)),B);T=T.insert(z.key,z)}return T})}getAllFromCollectionGroup(e,t,o,u){let f=lo();const E=Xy(t,o),T=Xy(t,Vn.max());return pu(e).Wt({index:"collectionGroupIndex",range:IDBKeyRange.bound(E,T,!0)},(B,z,oe)=>{const _e=this.Fn(At.fromSegments(z.prefixPath.concat(z.collectionGroup,z.documentId)),z);f=f.insert(_e.key,_e),f.size===u&&oe.done()}).next(()=>f)}newChangeBuffer(e){return new Wg(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Kg(e).get("remoteDocumentGlobalKey").next(t=>(S(!!t),t))}On(e,t){return Kg(e).put("remoteDocumentGlobalKey",t)}Fn(e,t){if(t){const o=function Kf(i,e){let t;if(e.document)t=dc(i.Jt,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const o=At.fromSegments(e.noDocument.path),u=Tl(e.noDocument.readTime);t=Z.newNoDocument(o,u),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return _();{const o=At.fromSegments(e.unknownDocument.path),u=Tl(e.unknownDocument.version);t=Z.newUnknownDocument(o,u)}}return e.readTime&&t.setReadTime(function(o){const u=new Gi(o[0],o[1]);return Wt.fromTimestamp(u)}(e.readTime)),t}(this.M,t);if(!o.isNoDocument()||!o.version.isEqual(Wt.min()))return o}return Z.newInvalidDocument(e)}}class Wg extends Jy{constructor(e,t){super(),this.qn=e,this.trackRemovals=t,this.Gn=new ha(o=>o.toString(),(o,u)=>o.isEqual(u))}applyChanges(e){const t=[];let o=0,u=new Ii((f,E)=>Qn(f.canonicalString(),E.canonicalString()));return this.changes.forEach((f,E)=>{const T=this.Gn.get(f);if(t.push(this.qn.removeEntry(e,f,T.readTime)),E.isValidDocument()){const B=Yf(this.qn.M,E);u=u.add(f.path.popLast()),o+=Ec(B)-T.size,t.push(this.qn.addEntry(e,f,B))}else if(o-=T.size,this.trackRemovals){const B=Yf(this.qn.M,E.convertToNoDocument(Wt.min()));t.push(this.qn.addEntry(e,f,B))}}),u.forEach(f=>{t.push(this.qn.indexManager.addToCollectionParentIndex(e,f))}),t.push(this.qn.updateMetadata(e,o)),tt.waitFor(t)}getFromCache(e,t){return this.qn.$n(e,t).next(o=>(this.Gn.set(t,{size:o.size,readTime:o.document.readTime}),o.document))}getAllFromCache(e,t){return this.qn.Ln(e,t).next(({documents:o,Un:u})=>(u.forEach((f,E)=>{this.Gn.set(f,{size:E,readTime:o.get(f).readTime})}),o))}}function Kg(i){return ks(i,"remoteDocumentGlobal")}function pu(i){return ks(i,"remoteDocumentsV14")}function Eh(i){const e=i.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Xy(i,e){const t=e.documentKey.path.toArray();return[i,_c(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function e_(i,e){const t=i.path.length-e.path.length;return 0!==t?t:At.comparator(i,e)}class Zv{constructor(e){this.M=e}kt(e,t,o,u){const f=new ad("createOrUpgrade",t);var T;o<1&&u>=1&&(e.createObjectStore("owner"),(T=e).createObjectStore("mutationQueues",{keyPath:"userId"}),T.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mn,{unique:!0}),T.createObjectStore("documentMutations"),t_(e),function(T){T.createObjectStore("remoteDocuments")}(e));let E=tt.resolve();return o<3&&u>=3&&(0!==o&&(function(T){T.deleteObjectStore("targetDocuments"),T.deleteObjectStore("targets"),T.deleteObjectStore("targetGlobal")}(e),t_(e)),E=E.next(()=>function(T){const B=T.store("targetGlobal"),z={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Wt.min().toTimestamp(),targetCount:0};return B.put("targetGlobalKey",z)}(f))),o<4&&u>=4&&(0!==o&&(E=E.next(()=>function(T,B){return B.store("mutations").qt().next(z=>{T.deleteObjectStore("mutations"),T.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",mn,{unique:!0});const oe=B.store("mutations"),_e=z.map(Ze=>oe.put(Ze));return tt.waitFor(_e)})}(e,f))),E=E.next(()=>{!function(T){T.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),o<5&&u>=5&&(E=E.next(()=>this.Kn(f))),o<6&&u>=6&&(E=E.next(()=>(function(T){T.createObjectStore("remoteDocumentGlobal")}(e),this.Qn(f)))),o<7&&u>=7&&(E=E.next(()=>this.jn(f))),o<8&&u>=8&&(E=E.next(()=>this.Wn(e,f))),o<9&&u>=9&&(E=E.next(()=>{!function(T){T.objectStoreNames.contains("remoteDocumentChanges")&&T.deleteObjectStore("remoteDocumentChanges")}(e)})),o<10&&u>=10&&(E=E.next(()=>this.zn(f))),o<11&&u>=11&&(E=E.next(()=>{(function(T){T.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(T){T.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),o<12&&u>=12&&(E=E.next(()=>{!function(T){const B=T.createObjectStore("documentOverlays",{keyPath:qf});B.createIndex("collectionPathOverlayIndex",$y,{unique:!1}),B.createIndex("collectionGroupOverlayIndex",Hy,{unique:!1})}(e)})),o<13&&u>=13&&(E=E.next(()=>function(T){const B=T.createObjectStore("remoteDocumentsV14",{keyPath:fc});B.createIndex("documentKeyIndex",bl),B.createIndex("collectionGroupIndex",rd)}(e)).next(()=>this.Hn(e,f)).next(()=>e.deleteObjectStore("remoteDocuments"))),o<14&&u>=14&&(E=E.next(()=>{!function(T){T.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),T.createObjectStore("indexState",{keyPath:sd}).createIndex("sequenceNumberIndex",gc,{unique:!1}),T.createObjectStore("indexEntries",{keyPath:Zf}).createIndex("documentKeyIndex",od,{unique:!1})}(e)})),E}Qn(e){let t=0;return e.store("remoteDocuments").Wt((o,u)=>{t+=Ec(u)}).next(()=>{const o={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",o)})}Kn(e){const t=e.store("mutationQueues"),o=e.store("mutations");return t.qt().next(u=>tt.forEach(u,f=>{const E=IDBKeyRange.bound([f.userId,-1],[f.userId,f.lastAcknowledgedBatchId]);return o.qt("userMutationsIndex",E).next(T=>tt.forEach(T,B=>{S(B.userId===f.userId);const z=Al(this.M,B);return Za(e,f.userId,z).next(()=>{})}))}))}jn(e){const t=e.store("targetDocuments"),o=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(u=>{const f=[];return o.Wt((E,T)=>{const B=new pr(E),z=[0,je(B)];f.push(t.get(z).next(oe=>oe?tt.resolve():t.put({targetId:0,path:je(B),sequenceNumber:u.highestListenSequenceNumber})))}).next(()=>tt.waitFor(f))})}Wn(e,t){e.createObjectStore("collectionParents",{keyPath:id});const o=t.store("collectionParents"),u=new Bn,f=E=>{if(u.add(E)){const T=E.lastSegment(),B=E.popLast();return o.put({collectionId:T,parent:je(B)})}};return t.store("remoteDocuments").Wt({jt:!0},(E,T)=>{const B=new pr(E);return f(B.popLast())}).next(()=>t.store("documentMutations").Wt({jt:!0},([E,T,B],z)=>{const oe=dn(T);return f(oe.popLast())}))}zn(e){const t=e.store("targets");return t.Wt((o,u)=>{const f=ld(u),E=Ug(this.M,f);return t.put(E)})}Hn(e,t){const o=t.store("remoteDocuments"),u=[];return o.Wt((f,E)=>{const T=t.store("remoteDocumentsV14"),B=(z=E,z.document?new At(pr.fromString(z.document.name).popFirst(5)):z.noDocument?At.fromSegments(z.noDocument.path):z.unknownDocument?At.fromSegments(z.unknownDocument.path):_()).path.toArray();var z;const oe={prefixPath:B.slice(0,B.length-2),collectionGroup:B[B.length-2],documentId:B[B.length-1],readTime:E.readTime||[0,0],unknownDocument:E.unknownDocument,noDocument:E.noDocument,document:E.document,hasCommittedMutations:!!E.hasCommittedMutations};u.push(T.put(oe))}).next(()=>tt.waitFor(u))}}function t_(i){i.createObjectStore("targetDocuments",{keyPath:Ha}).createIndex("documentTargetsIndex",pc,{unique:!0}),i.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",Gf,{unique:!0}),i.createObjectStore("targetGlobal")}const Yg="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class Qg{constructor(e,t,o,u,f,E,T,B,z,oe,_e=13){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=o,this.Jn=f,this.window=E,this.document=T,this.Yn=z,this.Xn=oe,this.Zn=_e,this.ts=null,this.es=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ns=null,this.inForeground=!1,this.ss=null,this.rs=null,this.os=Number.NEGATIVE_INFINITY,this.us=Ze=>Promise.resolve(),!Qg.vt())throw new X(G.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new Gv(this,u),this.cs=t+"main",this.M=new Wf(B),this.hs=new oa(this.cs,this.Zn,new Zv(this.M)),this.ls=new yh(this.referenceDelegate,this.M),this.fs=new zg(this.M),this.ds=new Hv,this.window&&this.window.localStorage?this._s=this.window.localStorage:(this._s=null,!1===oe&&Dr("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.ws().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new X(G.FAILED_PRECONDITION,Yg);return this.gs(),this.ys(),this.ps(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.ls.getHighestSequenceNumber(e))}).then(e=>{this.ts=new di(e,this.Yn)}).then(()=>{this.es=!0}).catch(e=>(this.hs&&this.hs.close(),Promise.reject(e)))}Is(e){var t=this;return this.us=function(){var o=(0,ue.Z)(function*(u){if(t.started)return e(u)});return function(u){return o.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.hs.Ot(function(){var t=(0,ue.Z)(function*(o){null===o.newVersion&&(yield e())});return function(o){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.Jn.enqueueAndForget((0,ue.Z)(function*(){t.started&&(yield t.ws())})))}ws(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>tp(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ts(e).next(t=>{t||(this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)))})}).next(()=>this.Es(e)).next(t=>this.isPrimary&&!t?this.As(e).next(()=>!1):!!t&&this.Rs(e).next(()=>!0))).catch(e=>{if(Bu(e))return gt("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return gt("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.Jn.enqueueRetryable(()=>this.us(e)),this.isPrimary=e})}Ts(e){return wh(e).get("owner").next(t=>tt.resolve(this.bs(t)))}Ps(e){return tp(e).delete(this.clientId)}Vs(){var e=this;return(0,ue.Z)(function*(){if(e.isPrimary&&!e.vs(e.os,18e5)){e.os=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",o=>{const u=ks(o,"clientMetadata");return u.qt().next(f=>{const E=e.Ss(f,18e5),T=f.filter(B=>-1===E.indexOf(B));return tt.forEach(T,B=>u.delete(B.clientId)).next(()=>T)})}).catch(()=>[]);if(e._s)for(const o of t)e._s.removeItem(e.Ds(o.clientId))}})()}ps(){this.rs=this.Jn.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.ws().then(()=>this.Vs()).then(()=>this.ps()))}bs(e){return!!e&&e.ownerId===this.clientId}Es(e){return this.Xn?tt.resolve(!0):wh(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)){if(this.bs(t)&&this.networkEnabled)return!0;if(!this.bs(t)){if(!t.allowTabSynchronization)throw new X(G.FAILED_PRECONDITION,Yg);return!1}}return!(!this.networkEnabled||!this.inForeground)||tp(e).qt().next(o=>void 0===this.Ss(o,5e3).find(u=>{if(this.clientId!==u.clientId){const E=!this.inForeground&&u.inForeground,T=this.networkEnabled===u.networkEnabled;if(!this.networkEnabled&&u.networkEnabled||E&&T)return!0}return!1}))}).next(t=>(this.isPrimary!==t&&gt("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,ue.Z)(function*(){e.es=!1,e.xs(),e.rs&&(e.rs.cancel(),e.rs=null),e.Ns(),e.ks(),yield e.hs.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const o=new zf(t,di.A);return e.As(o).next(()=>e.Ps(o))}),e.hs.close(),e.Ms()})()}Ss(e,t){return e.filter(o=>this.vs(o.updateTimeMs,t)&&!this.Cs(o.clientId))}Os(){return this.runTransaction("getActiveClients","readonly",e=>tp(e).qt().next(t=>this.Ss(t,18e5).map(o=>o.clientId)))}get started(){return this.es}getMutationQueue(e,t){return gh.Yt(e,this.M,t,this.referenceDelegate)}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getIndexManager(e){return new Hg(e)}getDocumentOverlayCache(e){return fh.Yt(this.M,e)}getBundleCache(){return this.ds}runTransaction(e,t,o){gt("IndexedDbPersistence","Starting transaction:",e);const u="readonly"===t?"readonly":"readwrite",f=14===(E=this.Zn)?kg:13===E?uh:12===E?Ng:11===E?Pg:void _();var E;let T;return this.hs.runTransaction(e,u,f,B=>(T=new zf(B,this.ts?this.ts.next():di.A),"readwrite-primary"===t?this.Ts(T).next(z=>!!z||this.Es(T)).next(z=>{if(!z)throw Dr(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.Jn.enqueueRetryable(()=>this.us(!1)),new X(G.FAILED_PRECONDITION,lh);return o(T)}).next(z=>this.Rs(T).next(()=>z)):this.Fs(T).next(()=>o(T)))).then(B=>(T.raiseOnCommittedEvent(),B))}Fs(e){return wh(e).get("owner").next(t=>{if(null!==t&&this.vs(t.leaseTimestampMs,5e3)&&!this.Cs(t.ownerId)&&!this.bs(t)&&!(this.Xn||this.allowTabSynchronization&&t.allowTabSynchronization))throw new X(G.FAILED_PRECONDITION,Yg)})}Rs(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return wh(e).put("owner",t)}static vt(){return oa.vt()}As(e){const t=wh(e);return t.get("owner").next(o=>this.bs(o)?(gt("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):tt.resolve())}vs(e,t){const o=Date.now();return!(e<o-t||e>o&&(Dr(`Detected an update time that is in the future: ${e} > ${o}`),1))}gs(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ss=()=>{this.Jn.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.ws()))},this.document.addEventListener("visibilitychange",this.ss),this.inForeground="visible"===this.document.visibilityState)}Ns(){this.ss&&(this.document.removeEventListener("visibilitychange",this.ss),this.ss=null)}ys(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ns=()=>{this.xs(),(0,et.G6)()&&navigator.appVersion.match(/Version\/1[45]/)&&this.Jn.enterRestrictedMode(!0),this.Jn.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ns))}ks(){this.ns&&(this.window.removeEventListener("pagehide",this.ns),this.ns=null)}Cs(e){var t;try{const o=null!==(null===(t=this._s)||void 0===t?void 0:t.getItem(this.Ds(e)));return gt("IndexedDbPersistence",`Client '${e}' ${o?"is":"is not"} zombied in LocalStorage`),o}catch(o){return Dr("IndexedDbPersistence","Failed to get zombied client id.",o),!1}}xs(){if(this._s)try{this._s.setItem(this.Ds(this.clientId),String(Date.now()))}catch(e){Dr("Failed to set zombie client id.",e)}}Ms(){if(this._s)try{this._s.removeItem(this.Ds(this.clientId))}catch(e){}}Ds(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function wh(i){return ks(i,"owner")}function tp(i){return ks(i,"clientMetadata")}function Jg(i,e){let t=i.projectId;return i.isDefaultDatabase||(t+="."+i.database),"firestore/"+e+"/"+t+"/"}class Zu{constructor(e,t,o){this.fs=e,this.$s=t,this.indexManager=o}Bs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKey(e,t).next(o=>this.Ls(e,t,o))}Ls(e,t,o){return this.fs.getEntry(e,t).next(u=>{for(const f of o)f.applyToLocalView(u);return u})}Us(e,t){e.forEach((o,u)=>{for(const f of t)f.applyToLocalView(u)})}qs(e,t){return this.fs.getEntries(e,t).next(o=>this.Gs(e,o).next(()=>o))}Gs(e,t){return this.$s.getAllMutationBatchesAffectingDocumentKeys(e,t).next(o=>this.Us(t,o))}Ks(e,t,o){return At.isDocumentKey((u=t).path)&&null===u.collectionGroup&&0===u.filters.length?this.Qs(e,t.path):zc(t)?this.js(e,t,o):this.Ws(e,t,o);var u}Qs(e,t){return this.Bs(e,new At(t)).next(o=>{let u=Xc();return o.isFoundDocument()&&(u=u.insert(o.key,o)),u})}js(e,t,o){const u=t.collectionGroup;let f=Xc();return this.indexManager.getCollectionParents(e,u).next(E=>tt.forEach(E,T=>{const B=(z=t,oe=T.child(u),new La(oe,null,z.explicitOrderBy.slice(),z.filters.slice(),z.limit,z.limitType,z.startAt,z.endAt));var z,oe;return this.Ws(e,B,o).next(z=>{z.forEach((oe,_e)=>{f=f.insert(oe,_e)})})}).next(()=>f))}Ws(e,t,o){let u;return this.fs.getAllFromCollection(e,t.path,o).next(f=>(u=f,this.$s.getAllMutationBatchesAffectingQuery(e,t))).next(f=>{for(const E of f)for(const T of E.mutations){const B=T.key;let z=u.get(B);null==z&&(z=Z.newInvalidDocument(B),u=u.insert(B,z)),Jl(T,z,E.localWriteTime),z.isFoundDocument()||(u=u.remove(B))}}).next(()=>(u.forEach((f,E)=>{gl(t,E)||(u=u.remove(f))}),u))}}class pd{constructor(e,t,o,u){this.targetId=e,this.fromCache=t,this.zs=o,this.Hs=u}static Js(e,t){let o=Wr(),u=Wr();for(const f of t.docChanges)switch(f.type){case 0:o=o.add(f.doc.key);break;case 1:u=u.add(f.doc.key)}return new pd(e,t.fromCache,o,u)}}class Xg{Ys(e){this.Xs=e}Ks(e,t,o,u){return 0===(f=t).filters.length&&null===f.limit&&null==f.startAt&&null==f.endAt&&(0===f.explicitOrderBy.length||1===f.explicitOrderBy.length&&f.explicitOrderBy[0].field.isKeyField())||o.isEqual(Wt.min())?this.Zs(e,t):this.Xs.qs(e,u).next(f=>{const E=this.ti(t,f);return(Kl(t)||au(t))&&this.ei(t.limitType,E,u,o)?this.Zs(e,t):(To()<=st.in.DEBUG&&gt("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Yl(t)),this.Xs.Ks(e,t,an(o,-1)).next(T=>(E.forEach(B=>{T=T.insert(B.key,B)}),T)))});var f}ti(e,t){let o=new Ii(Wd(e));return t.forEach((u,f)=>{gl(e,f)&&(o=o.add(f))}),o}ei(e,t,o,u){if(o.size!==t.size)return!0;const f="F"===e?t.last():t.first();return!!f&&(f.hasPendingWrites||f.version.compareTo(u)>0)}Zs(e,t){return To()<=st.in.DEBUG&&gt("QueryEngine","Using full collection scan to execute query:",Yl(t)),this.Xs.Ks(e,t,Vn.min())}}class em{constructor(e,t,o,u){this.persistence=e,this.ni=t,this.M=u,this.si=new Si(Qn),this.ii=new ha(f=>uo(f),$s),this.ri=new Map,this.oi=e.getRemoteDocumentCache(),this.ls=e.getTargetCache(),this.ds=e.getBundleCache(),this.ui(o)}ui(e){this.indexManager=this.persistence.getIndexManager(e),this.$s=this.persistence.getMutationQueue(e,this.indexManager),this.ai=new Zu(this.oi,this.$s,this.indexManager),this.oi.setIndexManager(this.indexManager),this.ni.Ys(this.ai)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.si))}}function Ih(i,e,t,o){return new em(i,e,t,o)}function np(i,e){return gd.apply(this,arguments)}function gd(){return gd=(0,ue.Z)(function*(i,e){const t=j(i);return yield t.persistence.runTransaction("Handle user change","readonly",o=>{let u;return t.$s.getAllMutationBatches(o).next(f=>(u=f,t.ui(e),t.$s.getAllMutationBatches(o))).next(f=>{const E=[],T=[];let B=Wr();for(const z of u){E.push(z.batchId);for(const oe of z.mutations)B=B.add(oe.key)}for(const z of f){T.push(z.batchId);for(const oe of z.mutations)B=B.add(oe.key)}return t.ai.qs(o,B).next(z=>({ci:z,removedBatchIds:E,addedBatchIds:T}))})})}),gd.apply(this,arguments)}function n_(i,e){const t=j(i);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",o=>{const u=e.batch.keys(),f=t.oi.newChangeBuffer({trackRemovals:!0});return function(E,T,B,z){const oe=B.batch,_e=oe.keys();let Ze=tt.resolve();return _e.forEach(lt=>{Ze=Ze.next(()=>z.getEntry(T,lt)).next(pt=>{const ln=B.docVersions.get(lt);S(null!==ln),pt.version.compareTo(ln)<0&&(oe.applyToRemoteDocument(pt,B),pt.isValidDocument()&&(pt.setReadTime(B.commitVersion),z.addEntry(pt)))})}),Ze.next(()=>E.$s.removeMutationBatch(T,oe))}(t,o,e,f).next(()=>f.apply(o)).next(()=>t.$s.performConsistencyCheck(o)).next(()=>t.ai.qs(o,u))})}function gu(i){const e=j(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.ls.getLastRemoteSnapshotVersion(t))}function tm(i,e){const t=j(i),o=e.snapshotVersion;let u=t.si;return t.persistence.runTransaction("Apply remote event","readwrite-primary",f=>{const E=t.oi.newChangeBuffer({trackRemovals:!0});u=t.si;const T=[];e.targetChanges.forEach((z,oe)=>{const _e=u.get(oe);if(!_e)return;T.push(t.ls.removeMatchingKeys(f,z.removedDocuments,oe).next(()=>t.ls.addMatchingKeys(f,z.addedDocuments,oe)));let Ze=_e.withSequenceNumber(f.currentSequenceNumber);var lt,pt,ln;e.targetMismatches.has(oe)?Ze=Ze.withResumeToken(Jn.EMPTY_BYTE_STRING,Wt.min()).withLastLimboFreeSnapshotVersion(Wt.min()):z.resumeToken.approximateByteSize()>0&&(Ze=Ze.withResumeToken(z.resumeToken,o)),u=u.insert(oe,Ze),pt=Ze,ln=z,(0===(lt=_e).resumeToken.approximateByteSize()||pt.snapshotVersion.toMicroseconds()-lt.snapshotVersion.toMicroseconds()>=3e8||ln.addedDocuments.size+ln.modifiedDocuments.size+ln.removedDocuments.size>0)&&T.push(t.ls.updateTargetData(f,Ze))});let B=lo();if(e.documentUpdates.forEach(z=>{e.resolvedLimboDocuments.has(z)&&T.push(t.persistence.referenceDelegate.updateLimboDocument(f,z))}),T.push(nm(f,E,e.documentUpdates).next(z=>{B=z})),!o.isEqual(Wt.min())){const z=t.ls.getLastRemoteSnapshotVersion(f).next(oe=>t.ls.setTargetsMetadata(f,f.currentSequenceNumber,o));T.push(z)}return tt.waitFor(T).next(()=>E.apply(f)).next(()=>t.ai.Gs(f,B)).next(()=>B)}).then(f=>(t.si=u,f))}function nm(i,e,t){let o=Wr();return t.forEach(u=>o=o.add(u)),e.getEntries(i,o).next(u=>{let f=lo();return t.forEach((E,T)=>{const B=u.get(E);T.isNoDocument()&&T.version.isEqual(Wt.min())?(e.removeEntry(E,T.readTime),f=f.insert(E,T)):!B.isValidDocument()||T.version.compareTo(B.version)>0||0===T.version.compareTo(B.version)&&B.hasPendingWrites?(e.addEntry(T),f=f.insert(E,T)):gt("LocalStore","Ignoring outdated watch update for ",E,". Current version:",B.version," Watch version:",T.version)}),f})}function rp(i,e){const t=j(i);return t.persistence.runTransaction("Get next mutation batch","readonly",o=>(void 0===e&&(e=-1),t.$s.getNextMutationBatchAfterBatchId(o,e)))}function Ic(i,e){const t=j(i);return t.persistence.runTransaction("Allocate target","readwrite",o=>{let u;return t.ls.getTargetData(o,e).next(f=>f?(u=f,tt.resolve(u)):t.ls.allocateTargetId(o).next(E=>(u=new ma(e,E,0,o.currentSequenceNumber),t.ls.addTargetData(o,u).next(()=>u))))}).then(o=>{const u=t.si.get(o.targetId);return(null===u||o.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(t.si=t.si.insert(o.targetId,o),t.ii.set(e,o.targetId)),o})}function Ml(i,e,t){return ip.apply(this,arguments)}function ip(){return ip=(0,ue.Z)(function*(i,e,t){const o=j(i),u=o.si.get(e),f=t?"readwrite":"readwrite-primary";try{t||(yield o.persistence.runTransaction("Release target",f,E=>o.persistence.referenceDelegate.removeTarget(E,u)))}catch(E){if(!Bu(E))throw E;gt("LocalStore",`Failed to update sequence numbers for target ${e}: ${E}`)}o.si=o.si.remove(e),o.ii.delete(u.target)}),ip.apply(this,arguments)}function Ch(i,e,t){const o=j(i);let u=Wt.min(),f=Wr();return o.persistence.runTransaction("Execute query","readonly",E=>function(T,B,z){const oe=j(T),_e=oe.ii.get(z);return void 0!==_e?tt.resolve(oe.si.get(_e)):oe.ls.getTargetData(B,z)}(o,E,Bo(e)).next(T=>{if(T)return u=T.lastLimboFreeSnapshotVersion,o.ls.getMatchingKeysForTargetId(E,T.targetId).next(B=>{f=B})}).next(()=>o.ni.Ks(E,e,t?u:Wt.min(),t?f:Wr())).next(T=>(bh(o,Kc(e),T),{documents:T,hi:f})))}function Cc(i,e){const t=j(i),o=j(t.ls),u=t.si.get(e);return u?Promise.resolve(u.target):t.persistence.runTransaction("Get target data","readonly",f=>o.Et(f,e).next(E=>E?E.target:null))}function Rl(i,e){const t=j(i),o=t.ri.get(e)||Wt.min();return t.persistence.runTransaction("Get new document changes","readonly",u=>t.oi.getAllFromCollectionGroup(u,e,an(o,-1),Number.MAX_SAFE_INTEGER)).then(u=>(bh(t,e,u),u))}function bh(i,e,t){let o=Wt.min();t.forEach((u,f)=>{f.readTime.compareTo(o)>0&&(o=f.readTime)}),i.ri.set(e,o)}function Ol(){return Ol=(0,ue.Z)(function*(i,e,t,o){const u=j(i);let f=Wr(),E=lo();for(const z of t){const oe=e.li(z.metadata.name);z.document&&(f=f.add(oe));const _e=e.fi(z);_e.setReadTime(e.di(z.metadata.readTime)),E=E.insert(oe,_e)}const T=u.oi.newChangeBuffer({trackRemovals:!0}),B=yield Ic(u,(z=o,Bo(Pu(pr.fromString(`__bundle__/docs/${z}`)))));var z;return u.persistence.runTransaction("Apply bundle documents","readwrite",z=>nm(z,T,E).next(oe=>(T.apply(z),oe)).next(oe=>u.ls.removeMatchingKeysForTargetId(z,B.targetId).next(()=>u.ls.addMatchingKeys(z,f,B.targetId)).next(()=>u.ai.Gs(z,oe)).next(()=>oe)))}),Ol.apply(this,arguments)}function Dc(i,e){return sp.apply(this,arguments)}function sp(){return sp=(0,ue.Z)(function*(i,e,t=Wr()){const o=yield Ic(i,Bo(hh(e.bundledQuery))),u=j(i);return u.persistence.runTransaction("Save named query","readwrite",f=>{const E=ps(e.readTime);if(o.snapshotVersion.compareTo(E)>=0)return u.ds.saveNamedQuery(f,e);const T=o.withResumeToken(Jn.EMPTY_BYTE_STRING,E);return u.si=u.si.insert(T.targetId,T),u.ls.updateTargetData(f,T).next(()=>u.ls.removeMatchingKeysForTargetId(f,o.targetId)).next(()=>u.ls.addMatchingKeys(f,t,o.targetId)).next(()=>u.ds.saveNamedQuery(f,e))})}),sp.apply(this,arguments)}class rm{constructor(e){this.M=e,this._i=new Map,this.wi=new Map}getBundleMetadata(e,t){return tt.resolve(this._i.get(t))}saveBundleMetadata(e,t){var o;return this._i.set(t.id,{id:(o=t).id,version:o.version,createTime:ps(o.createTime)}),tt.resolve()}getNamedQuery(e,t){return tt.resolve(this.wi.get(t))}saveNamedQuery(e,t){return this.wi.set(t.name,{name:(o=t).name,query:hh(o.bundledQuery),readTime:ps(o.readTime)}),tt.resolve();var o}}class im{constructor(){this.overlays=new Si(At.comparator),this.mi=new Map}getOverlay(e,t){return tt.resolve(this.overlays.get(t))}saveOverlays(e,t,o){return o.forEach((u,f)=>{this.Xt(e,t,f)}),tt.resolve()}removeOverlaysForBatchId(e,t,o){const u=this.mi.get(o);return void 0!==u&&(u.forEach(f=>this.overlays=this.overlays.remove(f)),this.mi.delete(o)),tt.resolve()}getOverlaysForCollection(e,t,o){const u=Ba(),f=t.length+1,E=new At(t.child("")),T=this.overlays.getIteratorFrom(E);for(;T.hasNext();){const B=T.getNext().value,z=B.getKey();if(!t.isPrefixOf(z.path))break;z.path.length===f&&B.largestBatchId>o&&u.set(B.getKey(),B)}return tt.resolve(u)}getOverlaysForCollectionGroup(e,t,o,u){let f=new Si((z,oe)=>z-oe);const E=this.overlays.getIterator();for(;E.hasNext();){const z=E.getNext().value;if(z.getKey().getCollectionGroup()===t&&z.largestBatchId>o){let oe=f.get(z.largestBatchId);null===oe&&(oe=Ba(),f=f.insert(z.largestBatchId,oe)),oe.set(z.getKey(),z)}}const T=Ba(),B=f.getIterator();for(;B.hasNext()&&(B.getNext().value.forEach((z,oe)=>T.set(z,oe)),!(T.size()>=u)););return tt.resolve(T)}Xt(e,t,o){if(null===o)return;const u=this.overlays.get(o.key);if(null!==u){const E=this.mi.get(u.largestBatchId).delete(o.key);this.mi.set(u.largestBatchId,E)}this.overlays=this.overlays.insert(o.key,new yc(t,o));let f=this.mi.get(t);void 0===f&&(f=Wr(),this.mi.set(t,f)),this.mi.set(t,f.add(o.key))}}class md{constructor(){this.gi=new Ii(As.yi),this.pi=new Ii(As.Ii)}isEmpty(){return this.gi.isEmpty()}addReference(e,t){const o=new As(e,t);this.gi=this.gi.add(o),this.pi=this.pi.add(o)}Ti(e,t){e.forEach(o=>this.addReference(o,t))}removeReference(e,t){this.Ei(new As(e,t))}Ai(e,t){e.forEach(o=>this.removeReference(o,t))}Ri(e){const t=new At(new pr([])),o=new As(t,e),u=new As(t,e+1),f=[];return this.pi.forEachInRange([o,u],E=>{this.Ei(E),f.push(E.key)}),f}bi(){this.gi.forEach(e=>this.Ei(e))}Ei(e){this.gi=this.gi.delete(e),this.pi=this.pi.delete(e)}Pi(e){const t=new At(new pr([])),o=new As(t,e),u=new As(t,e+1);let f=Wr();return this.pi.forEachInRange([o,u],E=>{f=f.add(E.key)}),f}containsKey(e){const t=new As(e,0),o=this.gi.firstAfterOrEqual(t);return null!==o&&e.isEqual(o.key)}}class As{constructor(e,t){this.key=e,this.Vi=t}static yi(e,t){return At.comparator(e.key,t.key)||Qn(e.Vi,t.Vi)}static Ii(e,t){return Qn(e.Vi,t.Vi)||At.comparator(e.key,t.key)}}class sm{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.$s=[],this.vi=1,this.Si=new Ii(As.yi)}checkEmpty(e){return tt.resolve(0===this.$s.length)}addMutationBatch(e,t,o,u){const f=this.vi;this.vi++;const E=new ud(f,t,o,u);this.$s.push(E);for(const T of u)this.Si=this.Si.add(new As(T.key,f)),this.indexManager.addToCollectionParentIndex(e,T.key.path.popLast());return tt.resolve(E)}lookupMutationBatch(e,t){return tt.resolve(this.Di(t))}getNextMutationBatchAfterBatchId(e,t){const u=this.Ci(t+1),f=u<0?0:u;return tt.resolve(this.$s.length>f?this.$s[f]:null)}getHighestUnacknowledgedBatchId(){return tt.resolve(0===this.$s.length?-1:this.vi-1)}getAllMutationBatches(e){return tt.resolve(this.$s.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const o=new As(t,0),u=new As(t,Number.POSITIVE_INFINITY),f=[];return this.Si.forEachInRange([o,u],E=>{const T=this.Di(E.Vi);f.push(T)}),tt.resolve(f)}getAllMutationBatchesAffectingDocumentKeys(e,t){let o=new Ii(Qn);return t.forEach(u=>{const f=new As(u,0),E=new As(u,Number.POSITIVE_INFINITY);this.Si.forEachInRange([f,E],T=>{o=o.add(T.Vi)})}),tt.resolve(this.xi(o))}getAllMutationBatchesAffectingQuery(e,t){const o=t.path,u=o.length+1;let f=o;At.isDocumentKey(f)||(f=f.child(""));const E=new As(new At(f),0);let T=new Ii(Qn);return this.Si.forEachWhile(B=>{const z=B.key.path;return!!o.isPrefixOf(z)&&(z.length===u&&(T=T.add(B.Vi)),!0)},E),tt.resolve(this.xi(T))}xi(e){const t=[];return e.forEach(o=>{const u=this.Di(o);null!==u&&t.push(u)}),t}removeMutationBatch(e,t){S(0===this.Ni(t.batchId,"removed")),this.$s.shift();let o=this.Si;return tt.forEach(t.mutations,u=>{const f=new As(u.key,t.batchId);return o=o.delete(f),this.referenceDelegate.markPotentiallyOrphaned(e,u.key)}).next(()=>{this.Si=o})}dn(e){}containsKey(e,t){const o=new As(t,0),u=this.Si.firstAfterOrEqual(o);return tt.resolve(t.isEqual(u&&u.key))}performConsistencyCheck(e){return tt.resolve()}Ni(e,t){return this.Ci(e)}Ci(e){return 0===this.$s.length?0:e-this.$s[0].batchId}Di(e){const t=this.Ci(e);return t<0||t>=this.$s.length?null:this.$s[t]}}class Dh{constructor(e){this.ki=e,this.docs=new Si(At.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const o=t.key,u=this.docs.get(o),f=u?u.size:0,E=this.ki(t);return this.docs=this.docs.insert(o,{document:t.mutableCopy(),size:E}),this.size+=E-f,this.indexManager.addToCollectionParentIndex(e,o.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const o=this.docs.get(t);return tt.resolve(o?o.document.mutableCopy():Z.newInvalidDocument(t))}getEntries(e,t){let o=lo();return t.forEach(u=>{const f=this.docs.get(u);o=o.insert(u,f?f.document.mutableCopy():Z.newInvalidDocument(u))}),tt.resolve(o)}getAllFromCollection(e,t,o){let u=lo();const f=new At(t.child("")),E=this.docs.getIteratorFrom(f);for(;E.hasNext();){const{key:T,value:{document:B}}=E.getNext();if(!t.isPrefixOf(T.path))break;T.path.length>t.length+1||Nn(Mn(B),o)<=0||(u=u.insert(B.key,B.mutableCopy()))}return tt.resolve(u)}getAllFromCollectionGroup(e,t,o,u){_()}Mi(e,t){return tt.forEach(this.docs,o=>t(o))}newChangeBuffer(e){return new r_(this)}getSize(e){return tt.resolve(this.size)}}class r_ extends Jy{constructor(e){super(),this.qn=e}applyChanges(e){const t=[];return this.changes.forEach((o,u)=>{u.isValidDocument()?t.push(this.qn.addEntry(e,u)):this.qn.removeEntry(o)}),tt.waitFor(t)}getFromCache(e,t){return this.qn.getEntry(e,t)}getAllFromCache(e,t){return this.qn.getEntries(e,t)}}class om{constructor(e){this.persistence=e,this.Oi=new ha(t=>uo(t),$s),this.lastRemoteSnapshotVersion=Wt.min(),this.highestTargetId=0,this.Fi=0,this.$i=new md,this.targetCount=0,this.Bi=qa.mn()}forEachTarget(e,t){return this.Oi.forEach((o,u)=>t(u)),tt.resolve()}getLastRemoteSnapshotVersion(e){return tt.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return tt.resolve(this.Fi)}allocateTargetId(e){return this.highestTargetId=this.Bi.next(),tt.resolve(this.highestTargetId)}setTargetsMetadata(e,t,o){return o&&(this.lastRemoteSnapshotVersion=o),t>this.Fi&&(this.Fi=t),tt.resolve()}In(e){this.Oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Bi=new qa(t),this.highestTargetId=t),e.sequenceNumber>this.Fi&&(this.Fi=e.sequenceNumber)}addTargetData(e,t){return this.In(t),this.targetCount+=1,tt.resolve()}updateTargetData(e,t){return this.In(t),tt.resolve()}removeTargetData(e,t){return this.Oi.delete(t.target),this.$i.Ri(t.targetId),this.targetCount-=1,tt.resolve()}removeTargets(e,t,o){let u=0;const f=[];return this.Oi.forEach((E,T)=>{T.sequenceNumber<=t&&null===o.get(T.targetId)&&(this.Oi.delete(E),f.push(this.removeMatchingKeysForTargetId(e,T.targetId)),u++)}),tt.waitFor(f).next(()=>u)}getTargetCount(e){return tt.resolve(this.targetCount)}getTargetData(e,t){const o=this.Oi.get(t)||null;return tt.resolve(o)}addMatchingKeys(e,t,o){return this.$i.Ti(t,o),tt.resolve()}removeMatchingKeys(e,t,o){this.$i.Ai(t,o);const u=this.persistence.referenceDelegate,f=[];return u&&t.forEach(E=>{f.push(u.markPotentiallyOrphaned(e,E))}),tt.waitFor(f)}removeMatchingKeysForTargetId(e,t){return this.$i.Ri(t),tt.resolve()}getMatchingKeysForTargetId(e,t){const o=this.$i.Pi(t);return tt.resolve(o)}containsKey(e,t){return tt.resolve(this.$i.containsKey(t))}}class qv{constructor(e,t){this.Li={},this.overlays={},this.ts=new di(0),this.es=!1,this.es=!0,this.referenceDelegate=e(this),this.ls=new om(this),this.indexManager=new Wy,this.fs=new Dh(o=>this.referenceDelegate.Ui(o)),this.M=new Wf(t),this.ds=new rm(this.M)}start(){return Promise.resolve()}shutdown(){return this.es=!1,Promise.resolve()}get started(){return this.es}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new im,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let o=this.Li[e.toKey()];return o||(o=new sm(t,this.referenceDelegate),this.Li[e.toKey()]=o),o}getTargetCache(){return this.ls}getRemoteDocumentCache(){return this.fs}getBundleCache(){return this.ds}runTransaction(e,t,o){gt("MemoryPersistence","Starting transaction:",e);const u=new am(this.ts.next());return this.referenceDelegate.qi(),o(u).next(f=>this.referenceDelegate.Gi(u).next(()=>f)).toPromise().then(f=>(u.raiseOnCommittedEvent(),f))}Ki(e,t){return tt.or(Object.values(this.Li).map(o=>()=>o.containsKey(e,t)))}}class am extends Fg{constructor(e){super(),this.currentSequenceNumber=e}}class Th{constructor(e){this.persistence=e,this.Qi=new md,this.ji=null}static Wi(e){return new Th(e)}get zi(){if(this.ji)return this.ji;throw _()}addReference(e,t,o){return this.Qi.addReference(o,t),this.zi.delete(o.toString()),tt.resolve()}removeReference(e,t,o){return this.Qi.removeReference(o,t),this.zi.add(o.toString()),tt.resolve()}markPotentiallyOrphaned(e,t){return this.zi.add(t.toString()),tt.resolve()}removeTarget(e,t){this.Qi.Ri(t.targetId).forEach(u=>this.zi.add(u.toString()));const o=this.persistence.getTargetCache();return o.getMatchingKeysForTargetId(e,t.targetId).next(u=>{u.forEach(f=>this.zi.add(f.toString()))}).next(()=>o.removeTargetData(e,t))}qi(){this.ji=new Set}Gi(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return tt.forEach(this.zi,o=>{const u=At.fromPath(o);return this.Hi(e,u).next(f=>{f||t.removeEntry(u,Wt.min())})}).next(()=>(this.ji=null,t.apply(e)))}updateLimboDocument(e,t){return this.Hi(e,t).next(o=>{o?this.zi.delete(t.toString()):this.zi.add(t.toString())})}Ui(e){return 0}Hi(e,t){return tt.or([()=>tt.resolve(this.Qi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ki(e,t)])}}function um(i,e){return`firestore_clients_${i}_${e}`}function op(i,e,t){let o=`firestore_mutations_${i}_${t}`;return e.isAuthenticated()&&(o+=`_${e.uid}`),o}function ap(i,e){return`firestore_targets_${i}_${e}`}class Ah{constructor(e,t,o,u){this.user=e,this.batchId=t,this.state=o,this.error=u}static Ji(e,t,o){const u=JSON.parse(o);let f,E="object"==typeof u&&-1!==["pending","acknowledged","rejected"].indexOf(u.state)&&(void 0===u.error||"object"==typeof u.error);return E&&u.error&&(E="string"==typeof u.error.message&&"string"==typeof u.error.code,E&&(f=new X(u.error.code,u.error.message))),E?new Ah(e,t,u.state,f):(Dr("SharedClientState",`Failed to parse mutation state for ID '${t}': ${o}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class eo{constructor(e,t,o){this.targetId=e,this.state=t,this.error=o}static Ji(e,t){const o=JSON.parse(t);let u,f="object"==typeof o&&-1!==["not-current","current","rejected"].indexOf(o.state)&&(void 0===o.error||"object"==typeof o.error);return f&&o.error&&(f="string"==typeof o.error.message&&"string"==typeof o.error.code,f&&(u=new X(o.error.code,o.error.message))),f?new eo(e,o.state,u):(Dr("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}Yi(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class Sh{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static Ji(e,t){const o=JSON.parse(t);let u="object"==typeof o&&o.activeTargetIds instanceof Array,f=ed();for(let E=0;u&&E<o.activeTargetIds.length;++E)u=Au(o.activeTargetIds[E]),f=f.add(o.activeTargetIds[E]);return u?new Sh(e,f):(Dr("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class up{constructor(e,t){this.clientId=e,this.onlineState=t}static Ji(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new up(t.clientId,t.onlineState):(Dr("SharedClientState",`Failed to parse online state: ${e}`),null)}}class lm{constructor(){this.activeTargetIds=ed()}Xi(e){this.activeTargetIds=this.activeTargetIds.add(e)}Zi(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Yi(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cm{constructor(e,t,o,u,f){this.window=e,this.Jn=t,this.persistenceKey=o,this.tr=u,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.er=this.nr.bind(this),this.sr=new Si(Qn),this.started=!1,this.ir=[];const E=o.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=f,this.rr=um(this.persistenceKey,this.tr),this.ur=`firestore_sequence_number_${this.persistenceKey}`,this.sr=this.sr.insert(this.tr,new lm),this.ar=new RegExp(`^firestore_clients_${E}_([^_]*)$`),this.cr=new RegExp(`^firestore_mutations_${E}_(\\d+)(?:_(.*))?$`),this.hr=new RegExp(`^firestore_targets_${E}_(\\d+)$`),this.lr=`firestore_online_state_${this.persistenceKey}`,this.dr=function(T){return`firestore_bundle_loaded_v2_${T}`}(this.persistenceKey),this.window.addEventListener("storage",this.er)}static vt(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,ue.Z)(function*(){const t=yield e.syncEngine.Os();for(const u of t){if(u===e.tr)continue;const f=e.getItem(um(e.persistenceKey,u));if(f){const E=Sh.Ji(u,f);E&&(e.sr=e.sr.insert(E.clientId,E))}}e._r();const o=e.storage.getItem(e.lr);if(o){const u=e.wr(o);u&&e.mr(u)}for(const u of e.ir)e.nr(u);e.ir=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.ur,JSON.stringify(e))}getAllActiveQueryTargets(){return this.gr(this.sr)}isActiveQueryTarget(e){let t=!1;return this.sr.forEach((o,u)=>{u.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.yr(e,"pending")}updateMutationState(e,t,o){this.yr(e,t,o),this.pr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const o=this.storage.getItem(ap(this.persistenceKey,e));if(o){const u=eo.Ji(e,o);u&&(t=u.state)}}return this.Ir.Xi(e),this._r(),t}removeLocalQueryTarget(e){this.Ir.Zi(e),this._r()}isLocalQueryTarget(e){return this.Ir.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(ap(this.persistenceKey,e))}updateQueryState(e,t,o){this.Tr(e,t,o)}handleUserChange(e,t,o){t.forEach(u=>{this.pr(u)}),this.currentUser=e,o.forEach(u=>{this.addPendingMutation(u)})}setOnlineState(e){this.Er(e)}notifyBundleLoaded(e){this.Ar(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this.er),this.removeItem(this.rr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return gt("SharedClientState","READ",e,t),t}setItem(e,t){gt("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){gt("SharedClientState","REMOVE",e),this.storage.removeItem(e)}nr(e){var t=this;const o=e;if(o.storageArea===this.storage){if(gt("SharedClientState","EVENT",o.key,o.newValue),o.key===this.rr)return void Dr("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.Jn.enqueueRetryable((0,ue.Z)(function*(){if(t.started){if(null!==o.key)if(t.ar.test(o.key)){if(null==o.newValue){const u=t.Rr(o.key);return t.br(u,null)}{const u=t.Pr(o.key,o.newValue);if(u)return t.br(u.clientId,u)}}else if(t.cr.test(o.key)){if(null!==o.newValue){const u=t.Vr(o.key,o.newValue);if(u)return t.vr(u)}}else if(t.hr.test(o.key)){if(null!==o.newValue){const u=t.Sr(o.key,o.newValue);if(u)return t.Dr(u)}}else if(o.key===t.lr){if(null!==o.newValue){const u=t.wr(o.newValue);if(u)return t.mr(u)}}else if(o.key===t.ur){const u=function(f){let E=di.A;if(null!=f)try{const T=JSON.parse(f);S("number"==typeof T),E=T}catch(T){Dr("SharedClientState","Failed to read sequence number from WebStorage",T)}return E}(o.newValue);u!==di.A&&t.sequenceNumberHandler(u)}else if(o.key===t.dr){const u=t.Cr(o.newValue);yield Promise.all(u.map(f=>t.syncEngine.Nr(f)))}}else t.ir.push(o)}))}}get Ir(){return this.sr.get(this.tr)}_r(){this.setItem(this.rr,this.Ir.Yi())}yr(e,t,o){const u=new Ah(this.currentUser,e,t,o),f=op(this.persistenceKey,this.currentUser,e);this.setItem(f,u.Yi())}pr(e){const t=op(this.persistenceKey,this.currentUser,e);this.removeItem(t)}Er(e){this.storage.setItem(this.lr,JSON.stringify({clientId:this.tr,onlineState:e}))}Tr(e,t,o){const u=ap(this.persistenceKey,e),f=new eo(e,t,o);this.setItem(u,f.Yi())}Ar(e){const t=JSON.stringify(Array.from(e));this.setItem(this.dr,t)}Rr(e){const t=this.ar.exec(e);return t?t[1]:null}Pr(e,t){const o=this.Rr(e);return Sh.Ji(o,t)}Vr(e,t){const o=this.cr.exec(e),u=Number(o[1]);return Ah.Ji(new Pi(void 0!==o[2]?o[2]:null),u,t)}Sr(e,t){const o=this.hr.exec(e),u=Number(o[1]);return eo.Ji(u,t)}wr(e){return up.Ji(e)}Cr(e){return JSON.parse(e)}vr(e){var t=this;return(0,ue.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.kr(e.batchId,e.state,e.error);gt("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Dr(e){return this.syncEngine.Mr(e.targetId,e.state,e.error)}br(e,t){const o=t?this.sr.insert(e,t):this.sr.remove(e),u=this.gr(this.sr),f=this.gr(o),E=[],T=[];return f.forEach(B=>{u.has(B)||E.push(B)}),u.forEach(B=>{f.has(B)||T.push(B)}),this.syncEngine.Or(E,T).then(()=>{this.sr=o})}mr(e){this.sr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}gr(e){let t=ed();return e.forEach((o,u)=>{t=t.unionWith(u.activeTargetIds)}),t}}class lp{constructor(){this.Fr=new lm,this.$r={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,o){}addLocalQueryTarget(e){return this.Fr.Xi(e),this.$r[e]||"not-current"}updateQueryState(e,t,o){this.$r[e]=t}removeLocalQueryTarget(e){this.Fr.Zi(e)}isLocalQueryTarget(e){return this.Fr.activeTargetIds.has(e)}clearQueryState(e){delete this.$r[e]}getAllActiveQueryTargets(){return this.Fr.activeTargetIds}isActiveQueryTarget(e){return this.Fr.activeTargetIds.has(e)}start(){return this.Fr=new lm,Promise.resolve()}handleUserChange(e,t,o){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class zv{Br(e){}shutdown(){}}class dm{constructor(){this.Lr=()=>this.Ur(),this.qr=()=>this.Gr(),this.Kr=[],this.Qr()}Br(e){this.Kr.push(e)}shutdown(){window.removeEventListener("online",this.Lr),window.removeEventListener("offline",this.qr)}Qr(){window.addEventListener("online",this.Lr),window.addEventListener("offline",this.qr)}Ur(){gt("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Kr)e(0)}Gr(){gt("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Kr)e(1)}static vt(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const cp={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery"};class hm{constructor(e){this.jr=e.jr,this.Wr=e.Wr}zr(e){this.Hr=e}Jr(e){this.Yr=e}onMessage(e){this.Xr=e}close(){this.Wr()}send(e){this.jr(e)}Zr(){this.Hr()}eo(e){this.Yr(e)}no(e){this.Xr(e)}}class i_ extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.so=(e.ssl?"https":"http")+"://"+e.host,this.io="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}ro(e,t,o,u,f){const E=this.oo(e,t);gt("RestConnection","Sending: ",E,o);const T={};return this.uo(T,u,f),this.ao(e,E,T,o).then(B=>(gt("RestConnection","Received: ",B),B),B=>{throw b("RestConnection",`${e} failed with error: `,B,"url: ",E,"request:",o),B})}co(e,t,o,u,f){return this.ro(e,t,o,u,f)}uo(e,t,o){e["X-Goog-Api-Client"]="gl-js/ fire/"+Do,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((u,f)=>e[f]=u),o&&o.headers.forEach((u,f)=>e[f]=u)}oo(e,t){return`${this.so}/v1/${t}:${cp[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}ao(e,t,o,u){return new Promise((f,E)=>{const T=new ql;T.listenOnce(zr.COMPLETE,()=>{try{switch(T.getLastErrorCode()){case Ma.NO_ERROR:const z=T.getResponseJson();gt("Connection","XHR received:",JSON.stringify(z)),f(z);break;case Ma.TIMEOUT:gt("Connection",'RPC "'+e+'" timed out'),E(new X(G.DEADLINE_EXCEEDED,"Request time out"));break;case Ma.HTTP_ERROR:const oe=T.getStatus();if(gt("Connection",'RPC "'+e+'" failed with status:',oe,"response text:",T.getResponseText()),oe>0){const _e=T.getResponseJson().error;if(_e&&_e.status&&_e.message){const Ze=function(lt){const pt=lt.toLowerCase().replace(/_/g,"-");return Object.values(G).indexOf(pt)>=0?pt:G.UNKNOWN}(_e.status);E(new X(Ze,_e.message))}else E(new X(G.UNKNOWN,"Server responded with status "+T.getStatus()))}else E(new X(G.UNAVAILABLE,"Connection failed."));break;default:_()}}finally{gt("Connection",'RPC "'+e+'" completed.')}});const B=JSON.stringify(u);T.send(t,"POST",B,o,15)})}ho(e,t,o){const u=[this.so,"/","google.firestore.v1.Firestore","/",e,"/channel"],f=Jo(),E=Xo(),T={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(T.xmlHttpFactory=new Ra({})),this.uo(T.initMessageHeaders,t,o),(0,et.uI)()||(0,et.b$)()||(0,et.d)()||(0,et.w1)()||(0,et.Mn)()||(0,et.ru)()||(T.httpHeadersOverwriteParam="$httpHeaders");const B=u.join("");gt("Connection","Creating WebChannel: "+B,T);const z=f.createWebChannel(B,T);let oe=!1,_e=!1;const Ze=new hm({jr:pt=>{_e?gt("Connection","Not sending because WebChannel is closed:",pt):(oe||(gt("Connection","Opening WebChannel transport."),z.open(),oe=!0),gt("Connection","WebChannel sending:",pt),z.send(pt))},Wr:()=>z.close()}),lt=(pt,ln,qn)=>{pt.listen(ln,Li=>{try{qn(Li)}catch(nr){setTimeout(()=>{throw nr},0)}})};return lt(z,js.EventType.OPEN,()=>{_e||gt("Connection","WebChannel transport opened.")}),lt(z,js.EventType.CLOSE,()=>{_e||(_e=!0,gt("Connection","WebChannel transport closed"),Ze.eo())}),lt(z,js.EventType.ERROR,pt=>{_e||(_e=!0,b("Connection","WebChannel transport errored:",pt),Ze.eo(new X(G.UNAVAILABLE,"The operation could not be completed")))}),lt(z,js.EventType.MESSAGE,pt=>{var ln;if(!_e){const qn=pt.data[0];S(!!qn);const Li=qn,nr=Li.error||(null===(ln=Li[0])||void 0===ln?void 0:ln.error);if(nr){gt("Connection","WebChannel received error:",nr);const Ls=nr.status;let Ui=function(Nr){const Xa=rs[Nr];if(void 0!==Xa)return oc(Xa)}(Ls),Ci=nr.message;void 0===Ui&&(Ui=G.INTERNAL,Ci="Unknown error status: "+Ls+" with message "+nr.message),_e=!0,Ze.eo(new X(Ui,Ci)),z.close()}else gt("Connection","WebChannel received:",qn),Ze.no(qn)}}),lt(E,ul.STAT_EVENT,pt=>{pt.stat===Ws.PROXY?gt("Connection","Detected buffering proxy"):pt.stat===Ws.NOPROXY&&gt("Connection","Detected no buffering proxy")}),setTimeout(()=>{Ze.Zr()},0),Ze}}function fm(){return"undefined"!=typeof window?window:null}function xh(){return"undefined"!=typeof document?document:null}function Tc(i){return new Bf(i,!0)}class dp{constructor(e,t,o=1e3,u=1.5,f=6e4){this.Jn=e,this.timerId=t,this.lo=o,this.fo=u,this._o=f,this.wo=0,this.mo=null,this.yo=Date.now(),this.reset()}reset(){this.wo=0}po(){this.wo=this._o}Io(e){this.cancel();const t=Math.floor(this.wo+this.To()),o=Math.max(0,Date.now()-this.yo),u=Math.max(0,t-o);u>0&&gt("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.wo} ms, delay with jitter: ${t} ms, last attempt: ${o} ms ago)`),this.mo=this.Jn.enqueueAfterDelay(this.timerId,u,()=>(this.yo=Date.now(),e())),this.wo*=this.fo,this.wo<this.lo&&(this.wo=this.lo),this.wo>this._o&&(this.wo=this._o)}Eo(){null!==this.mo&&(this.mo.skipDelay(),this.mo=null)}cancel(){null!==this.mo&&(this.mo.cancel(),this.mo=null)}To(){return(Math.random()-.5)*this.wo}}class hp{constructor(e,t,o,u,f,E,T,B){this.Jn=e,this.Ao=o,this.Ro=u,this.bo=f,this.authCredentialsProvider=E,this.appCheckCredentialsProvider=T,this.listener=B,this.state=0,this.Po=0,this.Vo=null,this.vo=null,this.stream=null,this.So=new dp(e,t)}Do(){return 1===this.state||5===this.state||this.Co()}Co(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.xo()}stop(){var e=this;return(0,ue.Z)(function*(){e.Do()&&(yield e.close(0))})()}No(){this.state=0,this.So.reset()}ko(){this.Co()&&null===this.Vo&&(this.Vo=this.Jn.enqueueAfterDelay(this.Ao,6e4,()=>this.Mo()))}Oo(e){this.Fo(),this.stream.send(e)}Mo(){var e=this;return(0,ue.Z)(function*(){if(e.Co())return e.close(0)})()}Fo(){this.Vo&&(this.Vo.cancel(),this.Vo=null)}$o(){this.vo&&(this.vo.cancel(),this.vo=null)}close(e,t){var o=this;return(0,ue.Z)(function*(){o.Fo(),o.$o(),o.So.cancel(),o.Po++,4!==e?o.So.reset():t&&t.code===G.RESOURCE_EXHAUSTED?(Dr(t.toString()),Dr("Using maximum backoff delay to prevent overloading the backend."),o.So.po()):t&&t.code===G.UNAUTHENTICATED&&3!==o.state&&(o.authCredentialsProvider.invalidateToken(),o.appCheckCredentialsProvider.invalidateToken()),null!==o.stream&&(o.Bo(),o.stream.close(),o.stream=null),o.state=e,yield o.listener.Jr(t)})()}Bo(){}auth(){this.state=1;const e=this.Lo(this.Po),t=this.Po;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([o,u])=>{this.Po===t&&this.Uo(o,u)},o=>{e(()=>{const u=new X(G.UNKNOWN,"Fetching auth token failed: "+o.message);return this.qo(u)})})}Uo(e,t){const o=this.Lo(this.Po);this.stream=this.Go(e,t),this.stream.zr(()=>{o(()=>(this.state=2,this.vo=this.Jn.enqueueAfterDelay(this.Ro,1e4,()=>(this.Co()&&(this.state=3),Promise.resolve())),this.listener.zr()))}),this.stream.Jr(u=>{o(()=>this.qo(u))}),this.stream.onMessage(u=>{o(()=>this.onMessage(u))})}xo(){var e=this;this.state=5,this.So.Io((0,ue.Z)(function*(){e.state=0,e.start()}))}qo(e){return gt("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Lo(e){return t=>{this.Jn.enqueueAndForget(()=>this.Po===e?t():(gt("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class s_ extends hp{constructor(e,t,o,u,f,E){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,o,u,E),this.M=f}Go(e,t){return this.bo.ho("Listen",e,t)}onMessage(e){this.So.reset();const t=function pa(i,e){let t;if("targetChange"in e){const o="NO_CHANGE"===(B=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===B?1:"REMOVE"===B?2:"CURRENT"===B?3:"RESET"===B?4:_(),u=e.targetChange.targetIds||[],f=function(B,z){return B.N?(S(void 0===z||"string"==typeof z),Jn.fromBase64String(z||"")):(S(void 0===z||z instanceof Uint8Array),Jn.fromUint8Array(z||new Uint8Array))}(i,e.targetChange.resumeToken),E=e.targetChange.cause,T=E&&function(B){const z=void 0===B.code?G.UNKNOWN:oc(B.code);return new X(z,B.message||"")}(E);t=new ac(o,u,f,T||null)}else if("documentChange"in e){const o=e.documentChange,u=sa(i,o.document.name),f=ps(o.document.updateTime),E=new x({mapValue:{fields:o.document.fields}}),T=Z.newFoundDocument(u,f,E);t=new ja(o.targetIds||[],o.removedTargetIds||[],T.key,T)}else if("documentDelete"in e){const o=e.documentDelete,u=sa(i,o.document),f=o.readTime?ps(o.readTime):Wt.min(),E=Z.newNoDocument(u,f);t=new ja([],o.removedTargetIds||[],E.key,E)}else if("documentRemove"in e){const o=e.documentRemove,u=sa(i,o.document);t=new ja([],o.removedTargetIds||[],u,null)}else{if(!("filter"in e))return _();{const o=e.filter,f=new ic(o.count||0);t=new vl(o.targetId,f)}}var B;return t}(this.M,e),o=function(u){if(!("targetChange"in u))return Wt.min();const f=u.targetChange;return f.targetIds&&f.targetIds.length?Wt.min():f.readTime?ps(f.readTime):Wt.min()}(e);return this.listener.Ko(t,o)}Qo(e){const t={};t.database=Vu(this.M),t.addTarget=function(u,f){let E;const T=f.target;return E=Hs(T)?{documents:sh(u,T)}:{query:hc(u,T)},E.targetId=f.targetId,f.resumeToken.approximateByteSize()>0?E.resumeToken=lc(u,f.resumeToken):f.snapshotVersion.compareTo(Wt.min())>0&&(E.readTime=$a(u,f.snapshotVersion.toTimestamp())),E}(this.M,e);const o=function $f(i,e){const t=function(o,u){switch(u){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return _()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);o&&(t.labels=o),this.Oo(t)}jo(e){const t={};t.database=Vu(this.M),t.removeTarget=e,this.Oo(t)}}class o_ extends hp{constructor(e,t,o,u,f,E){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,o,u,E),this.M=f,this.Wo=!1}get zo(){return this.Wo}start(){this.Wo=!1,this.lastStreamToken=void 0,super.start()}Bo(){this.Wo&&this.Ho([])}Go(e,t){return this.bo.ho("Write",e,t)}onMessage(e){if(S(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Wo){this.So.reset();const t=function ih(i,e){return i&&i.length>0?(S(void 0!==e),i.map(t=>function(o,u){let f=ps(o.updateTime?o.updateTime:u);return f.isEqual(Wt.min())&&(f=ps(u)),new Ff(f,o.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),o=ps(e.commitTime);return this.listener.Jo(o,t)}return S(!e.writeResults||0===e.writeResults.length),this.Wo=!0,this.listener.Yo()}Xo(){const e={};e.database=Vu(this.M),this.Oo(e)}Ho(e){const t={streamToken:this.lastStreamToken,writes:e.map(o=>ga(this.M,o))};this.Oo(t)}}class pm extends class{}{constructor(e,t,o,u){super(),this.authCredentials=e,this.appCheckCredentials=t,this.bo=o,this.M=u,this.Zo=!1}tu(){if(this.Zo)throw new X(G.FAILED_PRECONDITION,"The client has already been terminated.")}ro(e,t,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.bo.ro(e,t,o,u,f)).catch(u=>{throw"FirebaseError"===u.name?(u.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new X(G.UNKNOWN,u.toString())})}co(e,t,o){return this.tu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,f])=>this.bo.co(e,t,o,u,f)).catch(u=>{throw"FirebaseError"===u.name?(u.code===G.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new X(G.UNKNOWN,u.toString())})}terminate(){this.Zo=!0}}class gm{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.eu=0,this.nu=null,this.su=!0}iu(){0===this.eu&&(this.ru("Unknown"),this.nu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.nu=null,this.ou("Backend didn't respond within 10 seconds."),this.ru("Offline"),Promise.resolve())))}uu(e){"Online"===this.state?this.ru("Unknown"):(this.eu++,this.eu>=1&&(this.au(),this.ou(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ru("Offline")))}set(e){this.au(),this.eu=0,"Online"===e&&(this.su=!1),this.ru(e)}ru(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ou(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.su?(Dr(t),this.su=!1):gt("OnlineStateTracker",t)}au(){null!==this.nu&&(this.nu.cancel(),this.nu=null)}}class a_{constructor(e,t,o,u,f){var E=this;this.localStore=e,this.datastore=t,this.asyncQueue=o,this.remoteSyncer={},this.cu=[],this.hu=new Map,this.lu=new Set,this.fu=[],this.du=f,this.du.Br(T=>{o.enqueueAndForget((0,ue.Z)(function*(){var B;qu(E)&&(gt("RemoteStore","Restarting streams for network reachability change."),yield(B=(0,ue.Z)(function*(z){const oe=j(z);oe.lu.add(4),yield Ac(oe),oe._u.set("Unknown"),oe.lu.delete(4),yield Ro(oe)}),function(z){return B.apply(this,arguments)})(E))}))}),this._u=new gm(o,u)}}function Ro(i){return yd.apply(this,arguments)}function yd(){return yd=(0,ue.Z)(function*(i){if(qu(i))for(const e of i.fu)yield e(!0)}),yd.apply(this,arguments)}function Ac(i){return fp.apply(this,arguments)}function fp(){return fp=(0,ue.Z)(function*(i){for(const e of i.fu)yield e(!1)}),fp.apply(this,arguments)}function pp(i,e){const t=j(i);t.hu.has(e.targetId)||(t.hu.set(e.targetId,e),_d(t)?mp(t):Nl(t).Co()&&gp(t,e))}function Sc(i,e){const t=j(i),o=Nl(t);t.hu.delete(e),o.Co()&&mm(t,e),0===t.hu.size&&(o.Co()?o.ko():qu(t)&&t._u.set("Unknown"))}function gp(i,e){i.wu.Z(e.targetId),Nl(i).Qo(e)}function mm(i,e){i.wu.Z(e),Nl(i).jo(e)}function mp(i){i.wu=new fu({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),Et:e=>i.hu.get(e)||null}),Nl(i).start(),i._u.iu()}function _d(i){return qu(i)&&!Nl(i).Do()&&i.hu.size>0}function qu(i){return 0===j(i).lu.size}function ym(i){i.wu=void 0}function Mh(i){return vd.apply(this,arguments)}function vd(){return vd=(0,ue.Z)(function*(i){i.hu.forEach((e,t)=>{gp(i,e)})}),vd.apply(this,arguments)}function u_(i,e){return Ed.apply(this,arguments)}function Ed(){return Ed=(0,ue.Z)(function*(i,e){ym(i),_d(i)?(i._u.uu(e),mp(i)):i._u.set("Unknown")}),Ed.apply(this,arguments)}function yp(i,e,t){return Rh.apply(this,arguments)}function Rh(){return Rh=(0,ue.Z)(function*(i,e,t){if(i._u.set("Online"),e instanceof ac&&2===e.state&&e.cause)try{yield(o=(0,ue.Z)(function*(u,f){const E=f.cause;for(const T of f.targetIds)u.hu.has(T)&&(yield u.remoteSyncer.rejectListen(T,E),u.hu.delete(T),u.wu.removeTarget(T))}),function(u,f){return o.apply(this,arguments)})(i,e)}catch(o){gt("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),o),yield Oh(i,o)}else if(e instanceof ja?i.wu.ut(e):e instanceof vl?i.wu._t(e):i.wu.ht(e),!t.isEqual(Wt.min()))try{const o=yield gu(i.localStore);t.compareTo(o)>=0&&(yield function(u,f){const E=u.wu.yt(f);return E.targetChanges.forEach((T,B)=>{if(T.resumeToken.approximateByteSize()>0){const z=u.hu.get(B);z&&u.hu.set(B,z.withResumeToken(T.resumeToken,f))}}),E.targetMismatches.forEach(T=>{const B=u.hu.get(T);if(!B)return;u.hu.set(T,B.withResumeToken(Jn.EMPTY_BYTE_STRING,B.snapshotVersion)),mm(u,T);const z=new ma(B.target,T,1,B.sequenceNumber);gp(u,z)}),u.remoteSyncer.applyRemoteEvent(E)}(i,t))}catch(o){gt("RemoteStore","Failed to raise snapshot:",o),yield Oh(i,o)}var o}),Rh.apply(this,arguments)}function Oh(i,e,t){return _p.apply(this,arguments)}function _p(){return _p=(0,ue.Z)(function*(i,e,t){if(!Bu(e))throw e;i.lu.add(1),yield Ac(i),i._u.set("Offline"),t||(t=()=>gu(i.localStore)),i.asyncQueue.enqueueRetryable((0,ue.Z)(function*(){gt("RemoteStore","Retrying IndexedDB access"),yield t(),i.lu.delete(1),yield Ro(i)}))}),_p.apply(this,arguments)}function Ph(i,e){return e().catch(t=>Oh(i,t,e))}function wd(i){return vp.apply(this,arguments)}function vp(){return vp=(0,ue.Z)(function*(i){const e=j(i),t=mu(e);let o=e.cu.length>0?e.cu[e.cu.length-1].batchId:-1;for(;_m(e);)try{const u=yield rp(e.localStore,o);if(null===u){0===e.cu.length&&t.ko();break}o=u.batchId,vm(e,u)}catch(u){yield Oh(e,u)}Ep(e)&&wp(e)}),vp.apply(this,arguments)}function _m(i){return qu(i)&&i.cu.length<10}function vm(i,e){i.cu.push(e);const t=mu(i);t.Co()&&t.zo&&t.Ho(e.mutations)}function Ep(i){return qu(i)&&!mu(i).Do()&&i.cu.length>0}function wp(i){mu(i).start()}function Em(i){return va.apply(this,arguments)}function va(){return va=(0,ue.Z)(function*(i){mu(i).Xo()}),va.apply(this,arguments)}function Nh(i){return Ip.apply(this,arguments)}function Ip(){return Ip=(0,ue.Z)(function*(i){const e=mu(i);for(const t of i.cu)e.Ho(t.mutations)}),Ip.apply(this,arguments)}function l_(i,e,t){return wm.apply(this,arguments)}function wm(){return wm=(0,ue.Z)(function*(i,e,t){const o=i.cu.shift(),u=dh.from(o,e,t);yield Ph(i,()=>i.remoteSyncer.applySuccessfulWrite(u)),yield wd(i)}),wm.apply(this,arguments)}function Cp(i,e){return kh.apply(this,arguments)}function kh(){return kh=(0,ue.Z)(function*(i,e){var t;e&&mu(i).zo&&(yield(t=(0,ue.Z)(function*(o,u){if(sc(f=u.code)&&f!==G.ABORTED){const E=o.cu.shift();mu(o).No(),yield Ph(o,()=>o.remoteSyncer.rejectFailedWrite(E.batchId,u)),yield wd(o)}var f}),function(o,u){return t.apply(this,arguments)})(i,e)),Ep(i)&&wp(i)}),kh.apply(this,arguments)}function Fh(i,e){return Pl.apply(this,arguments)}function Pl(){return Pl=(0,ue.Z)(function*(i,e){const t=j(i);t.asyncQueue.verifyOperationInProgress(),gt("RemoteStore","RemoteStore received new credentials");const o=qu(t);t.lu.add(3),yield Ac(t),o&&t._u.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.lu.delete(3),yield Ro(t)}),Pl.apply(this,arguments)}function bp(i,e){return Id.apply(this,arguments)}function Id(){return Id=(0,ue.Z)(function*(i,e){const t=j(i);e?(t.lu.delete(2),yield Ro(t)):e||(t.lu.add(2),yield Ac(t),t._u.set("Unknown"))}),Id.apply(this,arguments)}function Nl(i){return i.mu||(i.mu=function(e,t,o){const u=j(e);return u.tu(),new s_(t,u.bo,u.authCredentials,u.appCheckCredentials,u.M,o)}(i.datastore,i.asyncQueue,{zr:Mh.bind(null,i),Jr:u_.bind(null,i),Ko:yp.bind(null,i)}),i.fu.push(function(){var e=(0,ue.Z)(function*(t){t?(i.mu.No(),_d(i)?mp(i):i._u.set("Unknown")):(yield i.mu.stop(),ym(i))});return function(t){return e.apply(this,arguments)}}())),i.mu}function mu(i){return i.gu||(i.gu=function(e,t,o){const u=j(e);return u.tu(),new o_(t,u.bo,u.authCredentials,u.appCheckCredentials,u.M,o)}(i.datastore,i.asyncQueue,{zr:Em.bind(null,i),Jr:Cp.bind(null,i),Yo:Nh.bind(null,i),Jo:l_.bind(null,i)}),i.fu.push(function(){var e=(0,ue.Z)(function*(t){t?(i.gu.No(),yield wd(i)):(yield i.gu.stop(),i.cu.length>0&&(gt("RemoteStore",`Stopping write stream with ${i.cu.length} pending writes`),i.cu=[]))});return function(t){return e.apply(this,arguments)}}())),i.gu}class Lh{constructor(e,t,o,u,f){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=o,this.op=u,this.removalCallback=f,this.deferred=new He,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(E=>{})}static createAndSchedule(e,t,o,u,f){const E=Date.now()+o,T=new Lh(e,t,E,u,f);return T.start(o),T}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new X(G.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function xc(i,e){if(Dr("AsyncQueue",`${e}: ${i}`),Bu(i))return new X(G.UNAVAILABLE,`${e}: ${i}`);throw i}class zu{constructor(e){this.comparator=e?(t,o)=>e(t,o)||At.comparator(t.key,o.key):(t,o)=>At.comparator(t.key,o.key),this.keyedMap=Xc(),this.sortedSet=new Si(this.comparator)}static emptySet(e){return new zu(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,o)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zu)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),o=e.sortedSet.getIterator();for(;t.hasNext();){const u=t.getNext().key,f=o.getNext().key;if(!u.isEqual(f))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const o=new zu;return o.comparator=this.comparator,o.keyedMap=e,o.sortedSet=t,o}}class Im{constructor(){this.yu=new Si(At.comparator)}track(e){const t=e.doc.key,o=this.yu.get(t);o?0!==e.type&&3===o.type?this.yu=this.yu.insert(t,e):3===e.type&&1!==o.type?this.yu=this.yu.insert(t,{type:o.type,doc:e.doc}):2===e.type&&2===o.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===o.type?this.yu=this.yu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===o.type?this.yu=this.yu.remove(t):1===e.type&&2===o.type?this.yu=this.yu.insert(t,{type:1,doc:o.doc}):0===e.type&&1===o.type?this.yu=this.yu.insert(t,{type:2,doc:e.doc}):_():this.yu=this.yu.insert(t,e)}pu(){const e=[];return this.yu.inorderTraversal((t,o)=>{e.push(o)}),e}}class Mc{constructor(e,t,o,u,f,E,T,B){this.query=e,this.docs=t,this.oldDocs=o,this.docChanges=u,this.mutatedKeys=f,this.fromCache=E,this.syncStateChanged=T,this.excludesMetadataChanges=B}static fromInitialDocuments(e,t,o,u){const f=[];return t.forEach(E=>{f.push({type:0,doc:E})}),new Mc(e,t,zu.emptySet(t),f,o,u,!0,!1)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,o=e.docChanges;if(t.length!==o.length)return!1;for(let u=0;u<t.length;u++)if(t[u].type!==o[u].type||!t[u].doc.isEqual(o[u].doc))return!1;return!0}}class Cm{constructor(){this.Iu=void 0,this.listeners=[]}}class Rc{constructor(){this.queries=new ha(e=>Wc(e),uu),this.onlineState="Unknown",this.Tu=new Set}}function Uh(i,e){return Dp.apply(this,arguments)}function Dp(){return Dp=(0,ue.Z)(function*(i,e){const t=j(i),o=e.query;let u=!1,f=t.queries.get(o);if(f||(u=!0,f=new Cm),u)try{f.Iu=yield t.onListen(o)}catch(E){const T=xc(E,`Initialization of query '${Yl(e.query)}' failed`);return void e.onError(T)}t.queries.set(o,f),f.listeners.push(e),e.Eu(t.onlineState),f.Iu&&e.Au(f.Iu)&&Ap(t)}),Dp.apply(this,arguments)}function Tp(i,e){return Wu.apply(this,arguments)}function Wu(){return Wu=(0,ue.Z)(function*(i,e){const t=j(i),o=e.query;let u=!1;const f=t.queries.get(o);if(f){const E=f.listeners.indexOf(e);E>=0&&(f.listeners.splice(E,1),u=0===f.listeners.length)}if(u)return t.queries.delete(o),t.onUnlisten(o)}),Wu.apply(this,arguments)}function c_(i,e){const t=j(i);let o=!1;for(const u of e){const E=t.queries.get(u.query);if(E){for(const T of E.listeners)T.Au(u)&&(o=!0);E.Iu=u}}o&&Ap(t)}function d_(i,e,t){const o=j(i),u=o.queries.get(e);if(u)for(const f of u.listeners)f.onError(t);o.queries.delete(e)}function Ap(i){i.Tu.forEach(e=>{e.next()})}class Sp{constructor(e,t,o){this.query=e,this.Ru=t,this.bu=!1,this.Pu=null,this.onlineState="Unknown",this.options=o||{}}Au(e){if(!this.options.includeMetadataChanges){const o=[];for(const u of e.docChanges)3!==u.type&&o.push(u);e=new Mc(e.query,e.docs,e.oldDocs,o,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0)}let t=!1;return this.bu?this.Vu(e)&&(this.Ru.next(e),t=!0):this.vu(e,this.onlineState)&&(this.Su(e),t=!0),this.Pu=e,t}onError(e){this.Ru.error(e)}Eu(e){this.onlineState=e;let t=!1;return this.Pu&&!this.bu&&this.vu(this.Pu,e)&&(this.Su(this.Pu),t=!0),t}vu(e,t){return!e.fromCache||!(this.options.Du&&"Offline"!==t||e.docs.isEmpty()&&"Offline"!==t)}Vu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Pu&&this.Pu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}Su(e){e=Mc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache),this.bu=!0,this.Ru.next(e)}}class Ea{constructor(e,t){this.payload=e,this.byteLength=t}Cu(){return"metadata"in this.payload}}class Vh{constructor(e){this.M=e}li(e){return sa(this.M,e)}fi(e){return e.metadata.exists?dc(this.M,e.document,!1):Z.newNoDocument(this.li(e.metadata.name),this.di(e.metadata.readTime))}di(e){return ps(e)}}class bm{constructor(e,t,o){this.xu=e,this.localStore=t,this.M=o,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=xp(e)}Nu(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.payload.namedQuery)this.queries.push(e.payload.namedQuery);else if(e.payload.documentMetadata){this.documents.push({metadata:e.payload.documentMetadata}),e.payload.documentMetadata.exists||++t;const o=pr.fromString(e.payload.documentMetadata.name);this.collectionGroups.add(o.get(o.length-2))}else e.payload.document&&(this.documents[this.documents.length-1].document=e.payload.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}ku(e){const t=new Map,o=new Vh(this.M);for(const u of e)if(u.metadata.queries){const f=o.li(u.metadata.name);for(const E of u.metadata.queries){const T=(t.get(E)||Wr()).add(f);t.set(E,T)}}return t}complete(){var e=this;return(0,ue.Z)(function*(){const t=yield function bc(i,e,t,o){return Ol.apply(this,arguments)}(e.localStore,new Vh(e.M),e.documents,e.xu.id),o=e.ku(e.documents);for(const u of e.queries)yield Dc(e.localStore,u,o.get(u.name));return e.progress.taskState="Success",{progress:e.progress,Mu:e.collectionGroups,Ou:t}})()}}function xp(i){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:i.totalDocuments,totalBytes:i.totalBytes}}class Mp{constructor(e){this.key=e}}class Rp{constructor(e){this.key=e}}class Dm{constructor(e,t){this.query=e,this.Fu=t,this.$u=null,this.current=!1,this.Bu=Wr(),this.mutatedKeys=Wr(),this.Lu=Wd(e),this.Uu=new zu(this.Lu)}get qu(){return this.Fu}Gu(e,t){const o=t?t.Ku:new Im,u=t?t.Uu:this.Uu;let f=t?t.mutatedKeys:this.mutatedKeys,E=u,T=!1;const B=Kl(this.query)&&u.size===this.query.limit?u.last():null,z=au(this.query)&&u.size===this.query.limit?u.first():null;if(e.inorderTraversal((oe,_e)=>{const Ze=u.get(oe),lt=gl(this.query,_e)?_e:null,pt=!!Ze&&this.mutatedKeys.has(Ze.key),ln=!!lt&&(lt.hasLocalMutations||this.mutatedKeys.has(lt.key)&&lt.hasCommittedMutations);let qn=!1;Ze&&lt?Ze.data.isEqual(lt.data)?pt!==ln&&(o.track({type:3,doc:lt}),qn=!0):this.Qu(Ze,lt)||(o.track({type:2,doc:lt}),qn=!0,(B&&this.Lu(lt,B)>0||z&&this.Lu(lt,z)<0)&&(T=!0)):!Ze&&lt?(o.track({type:0,doc:lt}),qn=!0):Ze&&!lt&&(o.track({type:1,doc:Ze}),qn=!0,(B||z)&&(T=!0)),qn&&(lt?(E=E.add(lt),f=ln?f.add(oe):f.delete(oe)):(E=E.delete(oe),f=f.delete(oe)))}),Kl(this.query)||au(this.query))for(;E.size>this.query.limit;){const oe=Kl(this.query)?E.last():E.first();E=E.delete(oe.key),f=f.delete(oe.key),o.track({type:1,doc:oe})}return{Uu:E,Ku:o,ei:T,mutatedKeys:f}}Qu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,o){const u=this.Uu;this.Uu=e.Uu,this.mutatedKeys=e.mutatedKeys;const f=e.Ku.pu();f.sort((z,oe)=>function(_e,Ze){const lt=pt=>{switch(pt){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return _()}};return lt(_e)-lt(Ze)}(z.type,oe.type)||this.Lu(z.doc,oe.doc)),this.ju(o);const E=t?this.Wu():[],T=0===this.Bu.size&&this.current?1:0,B=T!==this.$u;return this.$u=T,0!==f.length||B?{snapshot:new Mc(this.query,e.Uu,u,f,e.mutatedKeys,0===T,B,!1),zu:E}:{zu:E}}Eu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Uu:this.Uu,Ku:new Im,mutatedKeys:this.mutatedKeys,ei:!1},!1)):{zu:[]}}Hu(e){return!this.Fu.has(e)&&!!this.Uu.has(e)&&!this.Uu.get(e).hasLocalMutations}ju(e){e&&(e.addedDocuments.forEach(t=>this.Fu=this.Fu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Fu=this.Fu.delete(t)),this.current=e.current)}Wu(){if(!this.current)return[];const e=this.Bu;this.Bu=Wr(),this.Uu.forEach(o=>{this.Hu(o.key)&&(this.Bu=this.Bu.add(o.key))});const t=[];return e.forEach(o=>{this.Bu.has(o)||t.push(new Rp(o))}),this.Bu.forEach(o=>{e.has(o)||t.push(new Mp(o))}),t}Ju(e){this.Fu=e.hi,this.Bu=Wr();const t=this.Gu(e.documents);return this.applyChanges(t,!0)}Yu(){return Mc.fromInitialDocuments(this.query,this.Uu,this.mutatedKeys,0===this.$u)}}class h_{constructor(e,t,o){this.query=e,this.targetId=t,this.view=o}}class f_{constructor(e){this.key=e,this.Xu=!1}}class p_{constructor(e,t,o,u,f,E){this.localStore=e,this.remoteStore=t,this.eventManager=o,this.sharedClientState=u,this.currentUser=f,this.maxConcurrentLimboResolutions=E,this.Zu={},this.ta=new ha(T=>Wc(T),uu),this.ea=new Map,this.na=new Set,this.sa=new Si(At.comparator),this.ia=new Map,this.ra=new md,this.oa={},this.ua=new Map,this.aa=qa.gn(),this.onlineState="Unknown",this.ca=void 0}get isPrimaryClient(){return!0===this.ca}}function Tm(i,e){return Am.apply(this,arguments)}function Am(){return Am=(0,ue.Z)(function*(i,e){const t=Ju(i);let o,u;const f=t.ta.get(e);if(f)o=f.targetId,t.sharedClientState.addLocalQueryTarget(o),u=f.view.Yu();else{const E=yield Ic(t.localStore,Bo(e));t.isPrimaryClient&&pp(t.remoteStore,E);const T=t.sharedClientState.addLocalQueryTarget(E.targetId);o=E.targetId,u=yield Bh(t,e,o,"current"===T)}return u}),Am.apply(this,arguments)}function Bh(i,e,t,o){return Op.apply(this,arguments)}function Op(){return Op=(0,ue.Z)(function*(i,e,t,o){i.ha=(oe,_e,Ze)=>{return(lt=(0,ue.Z)(function*(pt,ln,qn,Li){let nr=ln.view.Gu(qn);nr.ei&&(nr=yield Ch(pt.localStore,ln.query,!1).then(({documents:Ci})=>ln.view.Gu(Ci,nr)));const Ls=Li&&Li.targetChanges.get(ln.targetId),Ui=ln.view.applyChanges(nr,pt.isPrimaryClient,Ls);return bd(pt,ln.targetId,Ui.zu),Ui.snapshot}),function(pt,ln,qn,Li){return lt.apply(this,arguments)})(i,oe,_e,Ze);var lt};const u=yield Ch(i.localStore,e,!0),f=new Dm(e,u.hi),E=f.Gu(u.documents),T=is.createSynthesizedTargetChangeForCurrentChange(t,o&&"Offline"!==i.onlineState),B=f.applyChanges(E,i.isPrimaryClient,T);bd(i,t,B.zu);const z=new h_(e,t,f);return i.ta.set(e,z),i.ea.has(t)?i.ea.get(t).push(e):i.ea.set(t,[e]),B.snapshot}),Op.apply(this,arguments)}function g_(i,e){return Sm.apply(this,arguments)}function Sm(){return Sm=(0,ue.Z)(function*(i,e){const t=j(i),o=t.ta.get(e),u=t.ea.get(o.targetId);if(u.length>1)return t.ea.set(o.targetId,u.filter(f=>!uu(f,e))),void t.ta.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(o.targetId),t.sharedClientState.isActiveQueryTarget(o.targetId)||(yield Ml(t.localStore,o.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(o.targetId),Sc(t.remoteStore,o.targetId),Ku(t,o.targetId)}).catch(wc))):(Ku(t,o.targetId),yield Ml(t.localStore,o.targetId,!0))}),Sm.apply(this,arguments)}function Cd(){return Cd=(0,ue.Z)(function*(i,e,t){const o=Xu(i);try{const u=yield function(f,E){const T=j(f),B=Gi.now(),z=E.reduce((_e,Ze)=>_e.add(Ze.key),Wr());let oe;return T.persistence.runTransaction("Locally write mutations","readwrite",_e=>T.ai.qs(_e,z).next(Ze=>{oe=Ze;const lt=[];for(const pt of E){const ln=Xl(pt,oe.get(pt.key));null!=ln&&lt.push(new Lu(pt.key,ln,N(ln.value.mapValue),wi.exists(!0)))}return T.$s.addMutationBatch(_e,B,lt,E)})).then(_e=>(_e.applyToLocalDocumentSet(oe),{batchId:_e.batchId,changes:oe}))}(o.localStore,e);o.sharedClientState.addPendingMutation(u.batchId),function(f,E,T){let B=f.oa[f.currentUser.toKey()];B||(B=new Si(Qn)),B=B.insert(E,T),f.oa[f.currentUser.toKey()]=B}(o,u.batchId,t),yield yu(o,u.changes),yield wd(o.remoteStore)}catch(u){const f=xc(u,"Failed to persist write");t.reject(f)}}),Cd.apply(this,arguments)}function xm(i,e){return jh.apply(this,arguments)}function jh(){return jh=(0,ue.Z)(function*(i,e){const t=j(i);try{const o=yield tm(t.localStore,e);e.targetChanges.forEach((u,f)=>{const E=t.ia.get(f);E&&(S(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1),u.addedDocuments.size>0?E.Xu=!0:u.modifiedDocuments.size>0?S(E.Xu):u.removedDocuments.size>0&&(S(E.Xu),E.Xu=!1))}),yield yu(t,o,e)}catch(o){yield wc(o)}}),jh.apply(this,arguments)}function Pp(i,e,t){const o=j(i);if(o.isPrimaryClient&&0===t||!o.isPrimaryClient&&1===t){const u=[];o.ta.forEach((f,E)=>{const T=E.view.Eu(e);T.snapshot&&u.push(T.snapshot)}),function(f,E){const T=j(f);T.onlineState=E;let B=!1;T.queries.forEach((z,oe)=>{for(const _e of oe.listeners)_e.Eu(E)&&(B=!0)}),B&&Ap(T)}(o.eventManager,e),u.length&&o.Zu.Ko(u),o.onlineState=e,o.isPrimaryClient&&o.sharedClientState.setOnlineState(e)}}function Kv(i,e,t){return Ho.apply(this,arguments)}function Ho(){return Ho=(0,ue.Z)(function*(i,e,t){const o=j(i);o.sharedClientState.updateQueryState(e,"rejected",t);const u=o.ia.get(e),f=u&&u.key;if(f){let E=new Si(At.comparator);E=E.insert(f,Z.newNoDocument(f,Wt.min()));const T=Wr().add(f),B=new fa(Wt.min(),new Map,new Ii(Qn),E,T);yield xm(o,B),o.sa=o.sa.remove(f),o.ia.delete(e),kp(o)}else yield Ml(o.localStore,e,!1).then(()=>Ku(o,e,t)).catch(wc)}),Ho.apply(this,arguments)}function Yv(i,e){return Mm.apply(this,arguments)}function Mm(){return Mm=(0,ue.Z)(function*(i,e){const t=j(i),o=e.batch.batchId;try{const u=yield n_(t.localStore,e);Hh(t,o,null),Pm(t,o),t.sharedClientState.updateMutationState(o,"acknowledged"),yield yu(t,u)}catch(u){yield wc(u)}}),Mm.apply(this,arguments)}function Rm(i,e,t){return $h.apply(this,arguments)}function $h(){return $h=(0,ue.Z)(function*(i,e,t){const o=j(i);try{const u=yield function(f,E){const T=j(f);return T.persistence.runTransaction("Reject batch","readwrite-primary",B=>{let z;return T.$s.lookupMutationBatch(B,E).next(oe=>(S(null!==oe),z=oe.keys(),T.$s.removeMutationBatch(B,oe))).next(()=>T.$s.performConsistencyCheck(B)).next(()=>T.ai.qs(B,z))})}(o.localStore,e);Hh(o,e,t),Pm(o,e),o.sharedClientState.updateMutationState(e,"rejected",t),yield yu(o,u)}catch(u){yield wc(u)}}),$h.apply(this,arguments)}function Np(){return Np=(0,ue.Z)(function*(i,e){const t=j(i);qu(t.remoteStore)||gt("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const o=yield function(f){const E=j(f);return E.persistence.runTransaction("Get highest unacknowledged batch id","readonly",T=>E.$s.getHighestUnacknowledgedBatchId(T))}(t.localStore);if(-1===o)return void e.resolve();const u=t.ua.get(o)||[];u.push(e),t.ua.set(o,u)}catch(o){const u=xc(o,"Initialization of waitForPendingWrites() operation failed");e.reject(u)}}),Np.apply(this,arguments)}function Pm(i,e){(i.ua.get(e)||[]).forEach(t=>{t.resolve()}),i.ua.delete(e)}function Hh(i,e,t){const o=j(i);let u=o.oa[o.currentUser.toKey()];if(u){const f=u.get(e);f&&(t?f.reject(t):f.resolve(),u=u.remove(e)),o.oa[o.currentUser.toKey()]=u}}function Ku(i,e,t=null){i.sharedClientState.removeLocalQueryTarget(e);for(const o of i.ea.get(e))i.ta.delete(o),t&&i.Zu.la(o,t);i.ea.delete(e),i.isPrimaryClient&&i.ra.Ri(e).forEach(o=>{i.ra.containsKey(o)||Nm(i,o)})}function Nm(i,e){i.na.delete(e.path.canonicalString());const t=i.sa.get(e);null!==t&&(Sc(i.remoteStore,t),i.sa=i.sa.remove(e),i.ia.delete(t),kp(i))}function bd(i,e,t){for(const o of t)o instanceof Mp?(i.ra.addReference(o.key,e),m_(i,o)):o instanceof Rp?(gt("SyncEngine","Document no longer in limbo: "+o.key),i.ra.removeReference(o.key,e),i.ra.containsKey(o.key)||Nm(i,o.key)):_()}function m_(i,e){const t=e.key,o=t.path.canonicalString();i.sa.get(t)||i.na.has(o)||(gt("SyncEngine","New document in limbo: "+t),i.na.add(o),kp(i))}function kp(i){for(;i.na.size>0&&i.sa.size<i.maxConcurrentLimboResolutions;){const e=i.na.values().next().value;i.na.delete(e);const t=new At(pr.fromString(e)),o=i.aa.next();i.ia.set(o,new f_(t)),i.sa=i.sa.insert(t,o),pp(i.remoteStore,new ma(Bo(Pu(t.path)),o,2,di.A))}}function yu(i,e,t){return Fp.apply(this,arguments)}function Fp(){return Fp=(0,ue.Z)(function*(i,e,t){const o=j(i),u=[],f=[],E=[];var T;o.ta.isEmpty()||(o.ta.forEach((T,B)=>{E.push(o.ha(B,e,t).then(z=>{if(z){o.isPrimaryClient&&o.sharedClientState.updateQueryState(B.targetId,z.fromCache?"not-current":"current"),u.push(z);const oe=pd.Js(B.targetId,z);f.push(oe)}}))}),yield Promise.all(E),o.Zu.Ko(u),yield(T=(0,ue.Z)(function*(B,z){const oe=j(B);try{yield oe.persistence.runTransaction("notifyLocalViewChanges","readwrite",_e=>tt.forEach(z,Ze=>tt.forEach(Ze.zs,lt=>oe.persistence.referenceDelegate.addReference(_e,Ze.targetId,lt)).next(()=>tt.forEach(Ze.Hs,lt=>oe.persistence.referenceDelegate.removeReference(_e,Ze.targetId,lt)))))}catch(_e){if(!Bu(_e))throw _e;gt("LocalStore","Failed to update sequence numbers: "+_e)}for(const _e of z){const Ze=_e.targetId;if(!_e.fromCache){const lt=oe.si.get(Ze),ln=lt.withLastLimboFreeSnapshotVersion(lt.snapshotVersion);oe.si=oe.si.insert(Ze,ln)}}}),function(B,z){return T.apply(this,arguments)})(o.localStore,f))}),Fp.apply(this,arguments)}function y_(i,e){return Lp.apply(this,arguments)}function Lp(){return Lp=(0,ue.Z)(function*(i,e){const t=j(i);if(!t.currentUser.isEqual(e)){gt("SyncEngine","User change. New user:",e.toKey());const o=yield np(t.localStore,e);t.currentUser=e,(u=t).ua.forEach(E=>{E.forEach(T=>{T.reject(new X(G.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),u.ua.clear(),t.sharedClientState.handleUserChange(e,o.removedBatchIds,o.addedBatchIds),yield yu(t,o.ci)}var u}),Lp.apply(this,arguments)}function Gh(i,e){const t=j(i),o=t.ia.get(e);if(o&&o.Xu)return Wr().add(o.key);{let u=Wr();const f=t.ea.get(e);if(!f)return u;for(const E of f){const T=t.ta.get(E);u=u.unionWith(T.view.qu)}return u}}function Oc(i,e){return Up.apply(this,arguments)}function Up(){return Up=(0,ue.Z)(function*(i,e){const t=j(i),o=yield Ch(t.localStore,e.query,!0),u=e.view.Ju(o);return t.isPrimaryClient&&bd(t,e.targetId,u.zu),u}),Up.apply(this,arguments)}function Dd(i,e){return Vp.apply(this,arguments)}function Vp(){return Vp=(0,ue.Z)(function*(i,e){const t=j(i);return Rl(t.localStore,e).then(o=>yu(t,o))}),Vp.apply(this,arguments)}function __(i,e,t,o){return Td.apply(this,arguments)}function Td(){return Td=(0,ue.Z)(function*(i,e,t,o){const u=j(i),f=yield function(E,T){const B=j(E),z=j(B.$s);return B.persistence.runTransaction("Lookup mutation documents","readonly",oe=>z.ln(oe,T).next(_e=>_e?B.ai.qs(oe,_e):tt.resolve(null)))}(u.localStore,e);var T;null!==f?("pending"===t?yield wd(u.remoteStore):"acknowledged"===t||"rejected"===t?(Hh(u,e,o||null),Pm(u,e),T=e,j(j(u.localStore).$s).dn(T)):_(),yield yu(u,f)):gt("SyncEngine","Cannot apply mutation batch with id: "+e)}),Td.apply(this,arguments)}function kl(){return kl=(0,ue.Z)(function*(i,e){const t=j(i);if(Ju(t),Xu(t),!0===e&&!0!==t.ca){const o=t.sharedClientState.getAllActiveQueryTargets(),u=yield to(t,o.toArray());t.ca=!0,yield bp(t.remoteStore,!0);for(const f of u)pp(t.remoteStore,f)}else if(!1===e&&!1!==t.ca){const o=[];let u=Promise.resolve();t.ea.forEach((f,E)=>{t.sharedClientState.isLocalQueryTarget(E)?o.push(E):u=u.then(()=>(Ku(t,E),Ml(t.localStore,E,!0))),Sc(t.remoteStore,E)}),yield u,yield to(t,o),function(f){const E=j(f);E.ia.forEach((T,B)=>{Sc(E.remoteStore,B)}),E.ra.bi(),E.ia=new Map,E.sa=new Si(At.comparator)}(t),t.ca=!1,yield bp(t.remoteStore,!1)}}),kl.apply(this,arguments)}function to(i,e,t){return _u.apply(this,arguments)}function _u(){return _u=(0,ue.Z)(function*(i,e,t){const o=j(i),u=[],f=[];for(const E of e){let T;const B=o.ea.get(E);if(B&&0!==B.length){T=yield Ic(o.localStore,Bo(B[0]));for(const z of B){const oe=o.ta.get(z),_e=yield Oc(o,oe);_e.snapshot&&f.push(_e.snapshot)}}else{const z=yield Cc(o.localStore,E);T=yield Ic(o.localStore,z),yield Bh(o,Ad(z),E,!1)}u.push(T)}return o.Zu.Ko(f),u}),_u.apply(this,arguments)}function Ad(i){return zd(i.path,i.collectionGroup,i.orderBy,i.filters,i.limit,"F",i.startAt,i.endAt)}function aa(i){const e=j(i);return j(j(e.localStore).persistence).Os()}function Bp(i,e,t,o){return Yu.apply(this,arguments)}function Yu(){return Yu=(0,ue.Z)(function*(i,e,t,o){const u=j(i);if(u.ca)return void gt("SyncEngine","Ignoring unexpected query state notification.");const f=u.ea.get(e);if(f&&f.length>0)switch(t){case"current":case"not-current":{const E=yield Rl(u.localStore,Kc(f[0])),T=fa.createSynthesizedRemoteEventForCurrentChange(e,"current"===t);yield yu(u,E,T);break}case"rejected":yield Ml(u.localStore,e,!0),Ku(u,e,o);break;default:_()}}),Yu.apply(this,arguments)}function Pc(i,e,t){return Qu.apply(this,arguments)}function Qu(){return Qu=(0,ue.Z)(function*(i,e,t){const o=Ju(i);if(o.ca){for(const u of e){if(o.ea.has(u)){gt("SyncEngine","Adding an already active target "+u);continue}const f=yield Cc(o.localStore,u),E=yield Ic(o.localStore,f);yield Bh(o,Ad(f),E.targetId,!1),pp(o.remoteStore,E)}for(const u of t)o.ea.has(u)&&(yield Ml(o.localStore,u,!1).then(()=>{Sc(o.remoteStore,u),Ku(o,u)}).catch(wc))}}),Qu.apply(this,arguments)}function Ju(i){const e=j(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=xm.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Gh.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Kv.bind(null,e),e.Zu.Ko=c_.bind(null,e.eventManager),e.Zu.la=d_.bind(null,e.eventManager),e}function Xu(i){const e=j(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Yv.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rm.bind(null,e),e}class Fl{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,ue.Z)(function*(){t.M=Tc(e.databaseInfo.databaseId),t.sharedClientState=t.da(e),t.persistence=t._a(e),yield t.persistence.start(),t.gcScheduler=t.wa(e),t.localStore=t.ma(e)})()}wa(e){return null}ma(e){return Ih(this.persistence,new Xg,e.initialUser,this.M)}_a(e){return new qv(Th.Wi,this.M)}da(e){return new lp}terminate(){var e=this;return(0,ue.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class Ll extends Fl{constructor(e,t,o){super(),this.ga=e,this.cacheSizeBytes=t,this.forceOwnership=o,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,o=this;return(0,ue.Z)(function*(){yield t().call(o,e),yield o.ga.initialize(o,e),yield Xu(o.ga.syncEngine),yield wd(o.ga.remoteStore),yield o.persistence.Is(()=>(o.gcScheduler&&!o.gcScheduler.started&&o.gcScheduler.start(o.localStore),Promise.resolve()))})()}ma(e){return Ih(this.persistence,new Xg,e.initialUser,this.M)}wa(e){return new Qy(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue)}_a(e){const t=Jg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),o=void 0!==this.cacheSizeBytes?ho.withCacheSize(this.cacheSizeBytes):ho.DEFAULT;return new Qg(this.synchronizeTabs,t,e.clientId,o,e.asyncQueue,fm(),xh(),this.M,this.sharedClientState,!!this.forceOwnership)}da(e){return new lp}}class kc extends Ll{constructor(e,t){super(e,t,!1),this.ga=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,o=this;return(0,ue.Z)(function*(){yield t().call(o,e);const u=o.ga.syncEngine;o.sharedClientState instanceof cm&&(o.sharedClientState.syncEngine={kr:__.bind(null,u),Mr:Bp.bind(null,u),Or:Pc.bind(null,u),Os:aa.bind(null,u),Nr:Dd.bind(null,u)},yield o.sharedClientState.start()),yield o.persistence.Is(function(){var f=(0,ue.Z)(function*(E){yield function Wa(i,e){return kl.apply(this,arguments)}(o.ga.syncEngine,E),o.gcScheduler&&(E&&!o.gcScheduler.started?o.gcScheduler.start(o.localStore):E||o.gcScheduler.stop())});return function(E){return f.apply(this,arguments)}}())})()}da(e){const t=fm();if(!cm.vt(t))throw new X(G.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const o=Jg(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new cm(t,e.asyncQueue,o,e.clientId,e.initialUser)}}class Zh{initialize(e,t){var o=this;return(0,ue.Z)(function*(){o.localStore||(o.localStore=e.localStore,o.sharedClientState=e.sharedClientState,o.datastore=o.createDatastore(t),o.remoteStore=o.createRemoteStore(t),o.eventManager=o.createEventManager(t),o.syncEngine=o.createSyncEngine(t,!e.synchronizeTabs),o.sharedClientState.onlineStateHandler=u=>Pp(o.syncEngine,u,1),o.remoteStore.remoteSyncer.handleCredentialChange=y_.bind(null,o.syncEngine),yield bp(o.remoteStore,o.syncEngine.isPrimaryClient))})()}createEventManager(e){return new Rc}createDatastore(e){const t=Tc(e.databaseInfo.databaseId),o=new i_(e.databaseInfo);return new pm(e.authCredentials,e.appCheckCredentials,o,t)}createRemoteStore(e){return t=this.localStore,o=this.datastore,u=e.asyncQueue,f=T=>Pp(this.syncEngine,T,0),E=dm.vt()?new dm:new zv,new a_(t,o,u,f,E);var t,o,u,f,E}createSyncEngine(e,t){return function(o,u,f,E,T,B,z){const oe=new p_(o,u,f,E,T,B);return z&&(oe.ca=!0),oe}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,ue.Z)(function*(t){const o=j(t);gt("RemoteStore","RemoteStore shutting down."),o.lu.add(5),yield Ac(o),o.du.shutdown(),o._u.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function jp(i,e=10240){let t=0;return{read:()=>(0,ue.Z)(function*(){if(t<i.byteLength){const o={value:i.slice(t,t+e),done:!1};return t+=e,o}return{done:!0}})(),cancel:()=>(0,ue.Z)(function*(){})(),releaseLock(){},closed:Promise.reject("unimplemented")}}class Sd{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.ya(this.observer.next,e)}error(e){this.observer.error?this.ya(this.observer.error,e):console.error("Uncaught Error in snapshot listener:",e)}pa(){this.muted=!0}ya(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class km{constructor(e,t){this.Ia=e,this.M=t,this.metadata=new He,this.buffer=new Uint8Array,this.Ta=new TextDecoder("utf-8"),this.Ea().then(o=>{o&&o.Cu()?this.metadata.resolve(o.payload.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(null==o?void 0:o.payload)}`))},o=>this.metadata.reject(o))}close(){return this.Ia.cancel()}getMetadata(){var e=this;return(0,ue.Z)(function*(){return e.metadata.promise})()}fa(){var e=this;return(0,ue.Z)(function*(){return yield e.getMetadata(),e.Ea()})()}Ea(){var e=this;return(0,ue.Z)(function*(){const t=yield e.Aa();if(null===t)return null;const o=e.Ta.decode(t),u=Number(o);isNaN(u)&&e.Ra(`length string (${o}) is not valid number`);const f=yield e.ba(u);return new Ea(JSON.parse(f),t.length+u)})()}Pa(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Aa(){var e=this;return(0,ue.Z)(function*(){for(;e.Pa()<0&&!(yield e.Va()););if(0===e.buffer.length)return null;const t=e.Pa();t<0&&e.Ra("Reached the end of bundle when a length string is expected.");const o=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),o})()}ba(e){var t=this;return(0,ue.Z)(function*(){for(;t.buffer.length<e;)(yield t.Va())&&t.Ra("Reached the end of bundle when more is expected.");const o=t.Ta.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),o})()}Ra(e){throw this.Ia.cancel(),new Error(`Invalid bundle format: ${e}`)}Va(){var e=this;return(0,ue.Z)(function*(){const t=yield e.Ia.read();if(!t.done){const o=new Uint8Array(e.buffer.length+t.value.length);o.set(e.buffer),o.set(t.value,e.buffer.length),e.buffer=o}return t.done})()}}class Fm{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,ue.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new X(G.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const o=yield(u=(0,ue.Z)(function*(f,E){const T=j(f),B=Vu(T.M)+"/documents",z={documents:E.map(lt=>Uu(T.M,lt))},oe=yield T.co("BatchGetDocuments",B,z),_e=new Map;oe.forEach(lt=>{const pt=function jf(i,e){return"found"in e?function(t,o){S(!!o.found);const u=sa(t,o.found.name),f=ps(o.found.updateTime),E=new x({mapValue:{fields:o.found.fields}});return Z.newFoundDocument(u,f,E)}(i,e):"missing"in e?function(t,o){S(!!o.missing),S(!!o.readTime);const u=sa(t,o.missing),f=ps(o.readTime);return Z.newNoDocument(u,f)}(i,e):_()}(T.M,lt);_e.set(pt.key.toString(),pt)});const Ze=[];return E.forEach(lt=>{const pt=_e.get(lt.toString());S(!!pt),Ze.push(pt)}),Ze}),function(f,E){return u.apply(this,arguments)})(t.datastore,e);var u;return o.forEach(u=>t.recordVersion(u)),o})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(o){this.lastWriteError=o}this.writtenDocs.add(e.toString())}delete(e){this.write(new rc(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,ue.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var o;e.mutations.forEach(o=>{t.delete(o.key.toString())}),t.forEach((o,u)=>{const f=At.fromPath(u);e.mutations.push(new Jc(f,e.precondition(f)))}),yield(o=(0,ue.Z)(function*(u,f){const E=j(u),T=Vu(E.M)+"/documents",B={writes:f.map(z=>ga(E.M,z))};yield E.ro("Commit",T,B)}),function(u,f){return o.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw _();t=Wt.min()}const o=this.readVersions.get(e.key.toString());if(o){if(!t.isEqual(o))throw new X(G.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?wi.updateTime(t):wi.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Wt.min()))throw new X(G.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return wi.updateTime(t)}return wi.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class Lm{constructor(e,t,o,u){this.asyncQueue=e,this.datastore=t,this.updateFunction=o,this.deferred=u,this.va=5,this.So=new dp(this.asyncQueue,"transaction_retry")}run(){this.va-=1,this.Sa()}Sa(){var e=this;this.So.Io((0,ue.Z)(function*(){const t=new Fm(e.datastore),o=e.Da(t);o&&o.then(u=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(u)}).catch(f=>{e.Ca(f)}))}).catch(u=>{e.Ca(u)})}))}Da(e){try{const t=this.updateFunction(e);return!Ds(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}Ca(e){this.va>0&&this.xa(e)?(this.va-=1,this.asyncQueue.enqueueAndForget(()=>(this.Sa(),Promise.resolve()))):this.deferred.reject(e)}xa(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||!sc(t)}return!1}}class Um{constructor(e,t,o,u){var f=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=o,this.databaseInfo=u,this.user=Pi.UNAUTHENTICATED,this.clientId=zl.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(o,function(){var E=(0,ue.Z)(function*(T){gt("FirestoreClient","Received user=",T.uid),yield f.authCredentialListener(T),f.user=T});return function(T){return E.apply(this,arguments)}}()),this.appCheckCredentials.start(o,E=>(gt("FirestoreClient","Received new app check token=",E),this.appCheckCredentialListener(E,this.user)))}getConfiguration(){var e=this;return(0,ue.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new X(G.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new He;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(o){const u=xc(o,"Failed to shutdown persistence");t.reject(u)}})),t.promise}}function $p(i,e){return qh.apply(this,arguments)}function qh(){return qh=(0,ue.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress(),gt("FirestoreClient","Initializing OfflineComponentProvider");const t=yield i.getConfiguration();yield e.initialize(t);let o=t.initialUser;i.setCredentialChangeListener(function(){var u=(0,ue.Z)(function*(f){o.isEqual(f)||(yield np(e.localStore,f),o=f)});return function(f){return u.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i.offlineComponents=e}),qh.apply(this,arguments)}function Vm(i,e){return zh.apply(this,arguments)}function zh(){return zh=(0,ue.Z)(function*(i,e){i.asyncQueue.verifyOperationInProgress();const t=yield Hp(i);gt("FirestoreClient","Initializing OnlineComponentProvider");const o=yield i.getConfiguration();yield e.initialize(t,o),i.setCredentialChangeListener(u=>Fh(e.remoteStore,u)),i.setAppCheckTokenChangeListener((u,f)=>Fh(e.remoteStore,f)),i.onlineComponents=e}),zh.apply(this,arguments)}function Hp(i){return Gp.apply(this,arguments)}function Gp(){return Gp=(0,ue.Z)(function*(i){return i.offlineComponents||(gt("FirestoreClient","Using default OfflineComponentProvider"),yield $p(i,new Fl)),i.offlineComponents}),Gp.apply(this,arguments)}function xd(i){return Zp.apply(this,arguments)}function Zp(){return Zp=(0,ue.Z)(function*(i){return i.onlineComponents||(gt("FirestoreClient","Using default OnlineComponentProvider"),yield Vm(i,new Zh)),i.onlineComponents}),Zp.apply(this,arguments)}function Bm(i){return Hp(i).then(e=>e.persistence)}function Wh(i){return Hp(i).then(e=>e.localStore)}function jm(i){return xd(i).then(e=>e.remoteStore)}function Kh(i){return xd(i).then(e=>e.syncEngine)}function Fc(i){return qp.apply(this,arguments)}function qp(){return qp=(0,ue.Z)(function*(i){const e=yield xd(i),t=e.eventManager;return t.onListen=Tm.bind(null,e.syncEngine),t.onUnlisten=g_.bind(null,e.syncEngine),t}),qp.apply(this,arguments)}function Yh(i,e,t={}){const o=new He;return i.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(u,f,E,T,B){const z=new Sd({next:_e=>{f.enqueueAndForget(()=>Tp(u,oe));const Ze=_e.docs.has(E);!Ze&&_e.fromCache?B.reject(new X(G.UNAVAILABLE,"Failed to get document because the client is offline.")):Ze&&_e.fromCache&&T&&"server"===T.source?B.reject(new X(G.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):B.resolve(_e)},error:_e=>B.reject(_e)}),oe=new Sp(Pu(E.path),z,{includeMetadataChanges:!0,Du:!0});return Uh(u,oe)}(yield Fc(i),i.asyncQueue,e,t,o)})),o.promise}function w_(i,e,t={}){const o=new He;return i.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function(u,f,E,T,B){const z=new Sd({next:_e=>{f.enqueueAndForget(()=>Tp(u,oe)),_e.fromCache&&"server"===T.source?B.reject(new X(G.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):B.resolve(_e)},error:_e=>B.reject(_e)}),oe=new Sp(E,z,{includeMetadataChanges:!0,Du:!0});return Uh(u,oe)}(yield Fc(i),i.asyncQueue,e,t,o)})),o.promise}const C_=new Map;function Wp(i,e,t){if(!t)throw new X(G.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function Ul(i,e,t,o){if(!0===e&&!0===o)throw new X(G.INVALID_ARGUMENT,`${i} and ${t} cannot be used together.`)}function Hm(i){if(!At.isDocumentKey(i))throw new X(G.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Kp(i){if(At.isDocumentKey(i))throw new X(G.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Qh(i){if(void 0===i)return"undefined";if(null===i)return"null";if("string"==typeof i)return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if("number"==typeof i||"boolean"==typeof i)return""+i;if("object"==typeof i){if(i instanceof Array)return"an array";{const e=(t=i).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof i?"a function":_()}function Sr(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new X(G.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Qh(i);throw new X(G.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return i}function Md(i,e){if(e<=0)throw new X(G.INVALID_ARGUMENT,`Function ${i}() requires a positive number, but it was: ${e}.`)}class Gm{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new X(G.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new X(G.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,Ul("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Lc{constructor(e,t,o){this._authCredentials=t,this._appCheckCredentials=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Gm({}),this._settingsFrozen=!1,e instanceof Ki?this._databaseId=e:(this._app=e,this._databaseId=function(u){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new X(G.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Ki(u.options.projectId)}(e))}get app(){if(!this._app)throw new X(G.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new X(G.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Gm(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new Gn;switch(t.type){case"gapi":const o=t.client;return S(!("object"!=typeof o||null===o||!o.auth||!o.auth.getAuthHeaderValueForFirstParty)),new Ks(o,t.sessionIndex||"0",t.iamToken||null);case"provider":return t.client;default:throw new X(G.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=C_.get(e);t&&(gt("ComponentProvider","Removing Datastore"),C_.delete(e),t.terminate())}(this),Promise.resolve()}}class Fi{constructor(e,t,o){this.converter=t,this._key=o,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ka(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Fi(this.firestore,e,this._key)}}class fo{constructor(e,t,o){this.converter=t,this._query=o,this.type="query",this.firestore=e}withConverter(e){return new fo(this.firestore,e,this._query)}}class Ka extends fo{constructor(e,t,o){super(e,t,Pu(o)),this._path=o,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Fi(this.firestore,null,new At(e))}withConverter(e){return new Ka(this.firestore,e,this._path)}}function Zm(i,e,...t){if(i=(0,et.m9)(i),Wp("collection","path",e),i instanceof Lc){const o=pr.fromString(e,...t);return Kp(o),new Ka(i,null,o)}{if(!(i instanceof Fi||i instanceof Ka))throw new X(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(pr.fromString(e,...t));return Kp(o),new Ka(i.firestore,null,o)}}function Jh(i,e,...t){if(i=(0,et.m9)(i),1===arguments.length&&(e=zl.R()),Wp("doc","path",e),i instanceof Lc){const o=pr.fromString(e,...t);return Hm(o),new Fi(i,null,new At(o))}{if(!(i instanceof Fi||i instanceof Ka))throw new X(G.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const o=i._path.child(pr.fromString(e,...t));return Hm(o),new Fi(i.firestore,i instanceof Ka?i.converter:null,new At(o))}}function Yp(i,e){return i=(0,et.m9)(i),e=(0,et.m9)(e),(i instanceof Fi||i instanceof Ka)&&(e instanceof Fi||e instanceof Ka)&&i.firestore===e.firestore&&i.path===e.path&&i.converter===e.converter}function Qp(i,e){return i=(0,et.m9)(i),e=(0,et.m9)(e),i instanceof fo&&e instanceof fo&&i.firestore===e.firestore&&uu(i._query,e._query)&&i.converter===e.converter}class Jp{constructor(){this.Na=Promise.resolve(),this.ka=[],this.Ma=!1,this.Oa=[],this.Fa=null,this.$a=!1,this.Ba=!1,this.La=[],this.So=new dp(this,"async_queue_retry"),this.Ua=()=>{const t=xh();t&&gt("AsyncQueue","Visibility state changed to "+t.visibilityState),this.So.Eo()};const e=xh();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Ua)}get isShuttingDown(){return this.Ma}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.qa(),this.Ga(e)}enterRestrictedMode(e){if(!this.Ma){this.Ma=!0,this.Ba=e||!1;const t=xh();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Ua)}}enqueue(e){if(this.qa(),this.Ma)return new Promise(()=>{});const t=new He;return this.Ga(()=>this.Ma&&this.Ba?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ka.push(e),this.Ka()))}Ka(){var e=this;return(0,ue.Z)(function*(){if(0!==e.ka.length){try{yield e.ka[0](),e.ka.shift(),e.So.reset()}catch(t){if(!Bu(t))throw t;gt("AsyncQueue","Operation failed with retryable error: "+t)}e.ka.length>0&&e.So.Io(()=>e.Ka())}})()}Ga(e){const t=this.Na.then(()=>(this.$a=!0,e().catch(o=>{throw this.Fa=o,this.$a=!1,Dr("INTERNAL UNHANDLED ERROR: ",function(f){let E=f.message||"";return f.stack&&(E=f.stack.includes(f.message)?f.stack:f.message+"\n"+f.stack),E}(o)),o}).then(o=>(this.$a=!1,o))));return this.Na=t,t}enqueueAfterDelay(e,t,o){this.qa(),this.La.indexOf(e)>-1&&(t=0);const u=Lh.createAndSchedule(this,e,t,o,f=>this.Qa(f));return this.Oa.push(u),u}qa(){this.Fa&&_()}verifyOperationInProgress(){}ja(){var e=this;return(0,ue.Z)(function*(){let t;do{t=e.Na,yield t}while(t!==e.Na)})()}Wa(e){for(const t of this.Oa)if(t.timerId===e)return!0;return!1}za(e){return this.ja().then(()=>{this.Oa.sort((t,o)=>t.targetTimeMs-o.targetTimeMs);for(const t of this.Oa)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.ja()})}Ha(e){this.La.push(e)}Qa(e){const t=this.Oa.indexOf(e);this.Oa.splice(t,1)}}function zm(i){return function(e,t){if("object"!=typeof e||null===e)return!1;const o=e;for(const u of["next","error","complete"])if(u in o&&"function"==typeof o[u])return!0;return!1}(i)}class Xp{constructor(){this._progressObserver={},this._taskCompletionResolver=new He,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,o){this._progressObserver={next:e,error:t,complete:o}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Ji extends Lc{constructor(e,t,o){super(e,t,o),this.type="firestore",this._queue=new Jp,this._persistenceKey="name"in e?e.name:"[DEFAULT]"}_terminate(){return this._firestoreClient||ef(this),this._firestoreClient.terminate()}}function ss(i){return i._firestoreClient||ef(i),i._firestoreClient.verifyNotTerminated(),i._firestoreClient}function ef(i){var e;const t=i._freezeSettings(),o=(f=(null===(e=i._app)||void 0===e?void 0:e.options.appId)||"",new ta(i._databaseId,f,i._persistenceKey,(T=t).host,T.ssl,T.experimentalForceLongPolling,T.experimentalAutoDetectLongPolling,T.useFetchStreams));var f,T;i._firestoreClient=new Um(i._authCredentials,i._appCheckCredentials,i._queue,o)}function Rd(i,e,t){const o=new He;return i.asyncQueue.enqueue((0,ue.Z)(function*(){try{yield $p(i,t),yield Vm(i,e),o.resolve()}catch(u){if(!("FirebaseError"===(f=u).name?f.code===G.FAILED_PRECONDITION||f.code===G.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&f instanceof DOMException)||22===f.code||20===f.code||11===f.code))throw u;console.warn("Error enabling offline persistence. Falling back to persistence disabled: "+u),o.reject(u)}var f})).then(()=>o.promise)}function nf(i){if(i._initialized||i._terminated)throw new X(G.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class Ya{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new X(G.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new hs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ua{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ua(Jn.fromBase64String(e))}catch(t){throw new X(G.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ua(Jn.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class el{constructor(e){this._methodName=e}}class rf{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new X(G.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new X(G.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Qn(this._lat,e._lat)||Qn(this._long,e._long)}}const Qm=/^__.*__$/;class Jm{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return null!==this.fieldMask?new Lu(e,this.data,this.fieldMask,t,this.fieldTransforms):new Fu(e,this.data,t,this.fieldTransforms)}}class sf{constructor(e,t,o){this.data=e,this.fieldMask=t,this.fieldTransforms=o}toMutation(e,t){return new Lu(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function ng(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw _()}}class af{constructor(e,t,o,u,f,E){this.settings=e,this.databaseId=t,this.M=o,this.ignoreUndefinedProperties=u,void 0===f&&this.Ja(),this.fieldTransforms=f||[],this.fieldMask=E||[]}get path(){return this.settings.path}get Ya(){return this.settings.Ya}Xa(e){return new af(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.M,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Za(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.Xa({path:o,tc:!1});return u.ec(e),u}nc(e){var t;const o=null===(t=this.path)||void 0===t?void 0:t.child(e),u=this.Xa({path:o,tc:!1});return u.Ja(),u}sc(e){return this.Xa({path:void 0,tc:!0})}ic(e){return hf(e,this.settings.methodName,this.settings.rc||!1,this.path,this.settings.oc)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}Ja(){if(this.path)for(let e=0;e<this.path.length;e++)this.ec(this.path.get(e))}ec(e){if(0===e.length)throw this.ic("Document fields must not be empty");if(ng(this.Ya)&&Qm.test(e))throw this.ic('Document fields cannot begin and end with "__"')}}class M_{constructor(e,t,o){this.databaseId=e,this.ignoreUndefinedProperties=t,this.M=o||Tc(e)}uc(e,t,o,u=!1){return new af({Ya:e,methodName:t,oc:o,path:hs.emptyPath(),tc:!1,rc:u},this.databaseId,this.M,this.ignoreUndefinedProperties)}}function Vl(i){const e=i._freezeSettings(),t=Tc(i._databaseId);return new M_(i._databaseId,!!e.ignoreUndefinedProperties,t)}function Od(i,e,t,o,u,f={}){const E=i.uc(f.merge||f.mergeFields?2:0,e,t,u);df("Data must be an object, but it was:",E,o);const T=ny(o,E);let B,z;if(f.merge)B=new oo(E.fieldMask),z=E.fieldTransforms;else if(f.mergeFields){const oe=[];for(const _e of f.mergeFields){const Ze=sg(e,_e,t);if(!E.contains(Ze))throw new X(G.INVALID_ARGUMENT,`Field '${Ze}' is specified in your field mask but missing from your input data.`);iy(oe,Ze)||oe.push(Ze)}B=new oo(oe),z=E.fieldTransforms.filter(_e=>B.covers(_e.field))}else B=null,z=E.fieldTransforms;return new Jm(new x(T),B,z)}class Bl extends el{_toFieldTransform(e){if(2!==e.Ya)throw e.ic(1===e.Ya?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Bl}}function rg(i,e,t){return new af({Ya:3,oc:e.settings.oc,methodName:i._methodName,tc:t},e.databaseId,e.M,e.ignoreUndefinedProperties)}class uf extends el{_toFieldTransform(e){return new jo(e.path,new lu)}isEqual(e){return e instanceof uf}}class Xm extends el{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=rg(this,e,!0),o=this.ac.map(f=>Uc(f,t)),u=new Nu(o);return new jo(e.path,u)}isEqual(e){return this===e}}class ey extends el{constructor(e,t){super(e),this.ac=t}_toFieldTransform(e){const t=rg(this,e,!0),o=this.ac.map(f=>Uc(f,t)),u=new cu(o);return new jo(e.path,u)}isEqual(e){return this===e}}class ty extends el{constructor(e,t){super(e),this.cc=t}_toFieldTransform(e){const t=new ku(e.M,Yd(e.M,this.cc));return new jo(e.path,t)}isEqual(e){return this===e}}function lf(i,e,t,o){const u=i.uc(1,e,t);df("Data must be an object, but it was:",u,o);const f=[],E=x.empty();iu(o,(B,z)=>{const oe=Pd(e,B,t);z=(0,et.m9)(z);const _e=u.nc(oe);if(z instanceof Bl)f.push(oe);else{const Ze=Uc(z,_e);null!=Ze&&(f.push(oe),E.set(oe,Ze))}});const T=new oo(f);return new sf(E,T,u.fieldTransforms)}function cf(i,e,t,o,u,f){const E=i.uc(1,e,t),T=[sg(e,o,t)],B=[u];if(f.length%2!=0)throw new X(G.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let Ze=0;Ze<f.length;Ze+=2)T.push(sg(e,f[Ze])),B.push(f[Ze+1]);const z=[],oe=x.empty();for(let Ze=T.length-1;Ze>=0;--Ze)if(!iy(z,T[Ze])){const lt=T[Ze];let pt=B[Ze];pt=(0,et.m9)(pt);const ln=E.nc(lt);if(pt instanceof Bl)z.push(lt);else{const qn=Uc(pt,ln);null!=qn&&(z.push(lt),oe.set(lt,qn))}}const _e=new oo(z);return new sf(oe,_e,E.fieldTransforms)}function ig(i,e,t,o=!1){return Uc(t,i.uc(o?4:3,e))}function Uc(i,e){if(ry(i=(0,et.m9)(i)))return df("Unsupported field value:",e,i),ny(i,e);if(i instanceof el)return function(t,o){if(!ng(o.Ya))throw o.ic(`${t._methodName}() can only be used with update() and set()`);if(!o.path)throw o.ic(`${t._methodName}() is not currently supported inside arrays`);const u=t._toFieldTransform(o);u&&o.fieldTransforms.push(u)}(i,e),null;if(void 0===i&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.tc&&4!==e.Ya)throw e.ic("Nested arrays are not supported");return function(t,o){const u=[];let f=0;for(const E of t){let T=Uc(E,o.sc(f));null==T&&(T={nullValue:"NULL_VALUE"}),u.push(T),f++}return{arrayValue:{values:u}}}(i,e)}return function(t,o){if(null===(t=(0,et.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return Yd(o.M,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const u=Gi.fromDate(t);return{timestampValue:$a(o.M,u)}}if(t instanceof Gi){const u=new Gi(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:$a(o.M,u)}}if(t instanceof rf)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ua)return{bytesValue:lc(o.M,t._byteString)};if(t instanceof Fi){const u=o.databaseId,f=t.firestore._databaseId;if(!f.isEqual(u))throw o.ic(`Document reference is for database ${f.projectId}/${f.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:nd(t.firestore._databaseId||o.databaseId,t._key.path)}}throw o.ic(`Unsupported field value: ${Qh(t)}`)}(i,e)}function ny(i,e){const t={};return Zc(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):iu(i,(o,u)=>{const f=Uc(u,e.Za(o));null!=f&&(t[o]=f)}),{mapValue:{fields:t}}}function ry(i){return!("object"!=typeof i||null===i||i instanceof Array||i instanceof Date||i instanceof Gi||i instanceof rf||i instanceof ua||i instanceof Fi||i instanceof el)}function df(i,e,t){if(!ry(t)||"object"!=typeof(o=t)||null===o||Object.getPrototypeOf(o)!==Object.prototype&&null!==Object.getPrototypeOf(o)){const o=Qh(t);throw e.ic("an object"===o?i+" a custom object":i+" "+o)}var o}function sg(i,e,t){if((e=(0,et.m9)(e))instanceof Ya)return e._internalPath;if("string"==typeof e)return Pd(i,e);throw hf("Field path arguments must be of type string or ",i,!1,void 0,t)}const Fs=new RegExp("[~\\*/\\[\\]]");function Pd(i,e,t){if(e.search(Fs)>=0)throw hf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,t);try{return new Ya(...e.split("."))._internalPath}catch(o){throw hf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,t)}}function hf(i,e,t,o,u){const f=o&&!o.isEmpty(),E=void 0!==u;let T=`Function ${e}() called with invalid data`;t&&(T+=" (via `toFirestore()`)"),T+=". ";let B="";return(f||E)&&(B+=" (found",f&&(B+=` in field ${o}`),E&&(B+=` in document ${u}`),B+=")"),new X(G.INVALID_ARGUMENT,T+i+B)}function iy(i,e){return i.some(t=>t.isEqual(e))}class Vc{constructor(e,t,o,u,f){this._firestore=e,this._userDataWriter=t,this._key=o,this._document=u,this._converter=f}get id(){return this._key.path.lastSegment()}get ref(){return new Fi(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new R_(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(Nd("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class R_ extends Vc{data(){return super.data()}}function Nd(i,e){return"string"==typeof e?Pd(i,e):e instanceof Ya?e._internalPath:e._delegate._internalPath}class tl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oo extends Vc{constructor(e,t,o,u,f,E){super(e,t,o,u,E),this._firestore=e,this._firestoreImpl=e,this.metadata=f}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new kd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const o=this._document.data.field(Nd("DocumentSnapshot.get",e));if(null!==o)return this._userDataWriter.convertValue(o,t.serverTimestamps)}}}class kd extends Oo{data(e={}){return super.data(e)}}class nl{constructor(e,t,o,u){this._firestore=e,this._userDataWriter=t,this._snapshot=u,this.metadata=new tl(u.hasPendingWrites,u.fromCache),this.query=o}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(o=>{e.call(t,new kd(this._firestore,this._userDataWriter,o.key,o,new tl(this._snapshot.mutatedKeys.has(o.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new X(G.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(o,u){if(o._snapshot.oldDocs.isEmpty()){let f=0;return o._snapshot.docChanges.map(E=>({type:"added",doc:new kd(o._firestore,o._userDataWriter,E.doc.key,E.doc,new tl(o._snapshot.mutatedKeys.has(E.doc.key),o._snapshot.fromCache),o.query.converter),oldIndex:-1,newIndex:f++}))}{let f=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(E=>u||3!==E.type).map(E=>{const T=new kd(o._firestore,o._userDataWriter,E.doc.key,E.doc,new tl(o._snapshot.mutatedKeys.has(E.doc.key),o._snapshot.fromCache),o.query.converter);let B=-1,z=-1;return 0!==E.type&&(B=f.indexOf(E.doc.key),f=f.delete(E.doc.key)),1!==E.type&&(f=f.add(E.doc),z=f.indexOf(E.doc.key)),{type:sy(E.type),doc:T,oldIndex:B,newIndex:z}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function sy(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return _()}}function oy(i,e){return i instanceof Oo&&e instanceof Oo?i._firestore===e._firestore&&i._key.isEqual(e._key)&&(null===i._document?null===e._document:i._document.isEqual(e._document))&&i._converter===e._converter:i instanceof nl&&e instanceof nl&&i._firestore===e._firestore&&Qp(i.query,e.query)&&i.metadata.isEqual(e.metadata)&&i._snapshot.isEqual(e._snapshot)}function og(i){if(au(i)&&0===i.explicitOrderBy.length)throw new X(G.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ff{}function vu(i,...e){for(const t of e)i=t._apply(i);return i}class ag extends ff{constructor(e,t,o){super(),this.hc=e,this.lc=t,this.fc=o,this.type="where"}_apply(e){const t=Vl(e.firestore),o=function(u,f,E,T,B,z,oe){let _e;if(B.isKeyField()){if("array-contains"===z||"array-contains-any"===z)throw new X(G.INVALID_ARGUMENT,`Invalid Query. You can't perform '${z}' queries on documentId().`);if("in"===z||"not-in"===z){ly(oe,z);const lt=[];for(const pt of oe)lt.push(Bc(T,u,pt));_e={arrayValue:{values:lt}}}else _e=Bc(T,u,oe)}else"in"!==z&&"not-in"!==z&&"array-contains-any"!==z||ly(oe,z),_e=ig(E,"where",oe,"in"===z||"not-in"===z);const Ze=Ei.create(B,z,_e);return function(lt,pt){if(pt.S()){const qn=Ua(lt);if(null!==qn&&!qn.isEqual(pt.field))throw new X(G.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${qn.toString()}' and '${pt.field.toString()}'`);const Li=fl(lt);null!==Li&&lg(0,pt.field,Li)}const ln=function(qn,Li){for(const nr of qn.filters)if(Li.indexOf(nr.op)>=0)return nr.op;return null}(lt,function(qn){switch(qn){case"!=":return["!=","not-in"];case"array-contains":return["array-contains","array-contains-any","not-in"];case"in":return["array-contains-any","in","not-in"];case"array-contains-any":return["array-contains","array-contains-any","in","not-in"];case"not-in":return["array-contains","array-contains-any","in","not-in","!="];default:return[]}}(pt.op));if(null!==ln)throw new X(G.INVALID_ARGUMENT,ln===pt.op?`Invalid query. You cannot use more than one '${pt.op.toString()}' filter.`:`Invalid query. You cannot use '${pt.op.toString()}' filters with '${ln.toString()}' filters.`)}(u,Ze),Ze}(e._query,0,t,e.firestore._databaseId,this.hc,this.lc,this.fc);return new fo(e.firestore,e.converter,function(u,f){const E=u.filters.concat([f]);return new La(u.path,u.collectionGroup,u.explicitOrderBy.slice(),E,u.limit,u.limitType,u.startAt,u.endAt)}(e._query,o))}}class O_ extends ff{constructor(e,t){super(),this.hc=e,this.dc=t,this.type="orderBy"}_apply(e){const t=function(o,u,f){if(null!==o.startAt)throw new X(G.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==o.endAt)throw new X(G.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const E=new Ou(u,f);return function(T,B){if(null===fl(T)){const z=Ua(T);null!==z&&lg(0,z,B.field)}}(o,E),E}(e._query,this.hc,this.dc);return new fo(e.firestore,e.converter,function(o,u){const f=o.explicitOrderBy.concat([u]);return new La(o.path,o.collectionGroup,f,o.filters.slice(),o.limit,o.limitType,o.startAt,o.endAt)}(e._query,t))}}class wa extends ff{constructor(e,t,o){super(),this.type=e,this._c=t,this.wc=o}_apply(e){return new fo(e.firestore,e.converter,pl(e._query,this._c,this.wc))}}class ug extends ff{constructor(e,t,o){super(),this.type=e,this.mc=t,this.gc=o}_apply(e){const t=pf(e,this.type,this.mc,this.gc);return new fo(e.firestore,e.converter,(u=t,new La((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,u,o.endAt)));var o,u}}class uy extends ff{constructor(e,t,o){super(),this.type=e,this.mc=t,this.gc=o}_apply(e){const t=pf(e,this.type,this.mc,this.gc);return new fo(e.firestore,e.converter,(u=t,new La((o=e._query).path,o.collectionGroup,o.explicitOrderBy.slice(),o.filters.slice(),o.limit,o.limitType,o.startAt,u)));var o,u}}function pf(i,e,t,o){if(t[0]=(0,et.m9)(t[0]),t[0]instanceof Vc)return function(u,f,E,T,B){if(!T)throw new X(G.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${E}().`);const z=[];for(const oe of Va(u))if(oe.field.isKeyField())z.push(ra(f,T.key));else{const _e=T.data.field(oe.field);if(ts(_e))throw new X(G.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+oe.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===_e){const Ze=oe.field.canonicalString();throw new X(G.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${Ze}' (used as the orderBy) does not exist.`)}z.push(_e)}return new xo(z,B)}(i._query,i.firestore._databaseId,e,t[0]._document,o);{const u=Vl(i.firestore);return function(f,E,T,B,z,oe){const _e=f.explicitOrderBy;if(z.length>_e.length)throw new X(G.INVALID_ARGUMENT,`Too many arguments provided to ${B}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const Ze=[];for(let lt=0;lt<z.length;lt++){const pt=z[lt];if(_e[lt].field.isKeyField()){if("string"!=typeof pt)throw new X(G.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${B}(), but got a ${typeof pt}`);if(!zc(f)&&-1!==pt.indexOf("/"))throw new X(G.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${B}() must be a plain document ID, but '${pt}' contains a slash.`);const ln=f.path.child(pr.fromString(pt));if(!At.isDocumentKey(ln))throw new X(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${B}() must result in a valid document path, but '${ln}' is not because it contains an odd number of segments.`);const qn=new At(ln);Ze.push(ra(E,qn))}else{const ln=ig(T,B,pt);Ze.push(ln)}}return new xo(Ze,oe)}(i._query,i.firestore._databaseId,u,e,t,o)}}function Bc(i,e,t){if("string"==typeof(t=(0,et.m9)(t))){if(""===t)throw new X(G.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zc(e)&&-1!==t.indexOf("/"))throw new X(G.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const o=e.path.child(pr.fromString(t));if(!At.isDocumentKey(o))throw new X(G.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${o}' is not because it has an odd number of segments (${o.length}).`);return ra(i,new At(o))}if(t instanceof Fi)return ra(i,t._key);throw new X(G.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Qh(t)}.`)}function ly(i,e){if(!Array.isArray(i)||0===i.length)throw new X(G.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`);if(i.length>10)throw new X(G.INVALID_ARGUMENT,`Invalid Query. '${e.toString()}' filters support a maximum of 10 elements in the value array.`)}function lg(i,e,t){if(!t.isEqual(e))throw new X(G.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class cg{convertValue(e,t="none"){switch(Yi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ni(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Fo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw _()}}convertObject(e,t){const o={};return iu(e.fields,(u,f)=>{o[u]=this.convertValue(f,t)}),o}convertGeoPoint(e){return new rf(Ni(e.latitude),Ni(e.longitude))}convertArray(e,t){return(e.values||[]).map(o=>this.convertValue(o,t))}convertServerTimestamp(e,t){switch(t){case"previous":const o=Js(e);return null==o?null:this.convertValue(o,t);case"estimate":return this.convertTimestamp(Pa(e));default:return null}}convertTimestamp(e){const t=Qs(e);return new Gi(t.seconds,t.nanos)}convertDocumentKey(e,t){const o=pr.fromString(e);S(xe(o));const u=new Ki(o.get(1),o.get(3)),f=new At(o.popFirst(5));return u.isEqual(t)||Dr(`Document ${f} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),f}}function Fd(i,e,t){let o;return o=i?t&&(t.merge||t.mergeFields)?i.toFirestore(e,t):i.toFirestore(e):e,o}class cy extends cg{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fi(this.firestore,null,t)}}class Ld{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=Vl(e)}set(e,t,o){this._verifyNotCommitted();const u=rl(e,this._firestore),f=Fd(u.converter,t,o),E=Od(this._dataReader,"WriteBatch.set",u._key,f,null!==u.converter,o);return this._mutations.push(E.toMutation(u._key,wi.none())),this}update(e,t,o,...u){this._verifyNotCommitted();const f=rl(e,this._firestore);let E;return E="string"==typeof(t=(0,et.m9)(t))||t instanceof Ya?cf(this._dataReader,"WriteBatch.update",f._key,t,o,u):lf(this._dataReader,"WriteBatch.update",f._key,t),this._mutations.push(E.toMutation(f._key,wi.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=rl(e,this._firestore);return this._mutations=this._mutations.concat(new rc(t._key,wi.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new X(G.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function rl(i,e){if((i=(0,et.m9)(i)).firestore!==e)throw new X(G.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return i}class il extends cg{constructor(e){super(),this.firestore=e}convertBytes(e){return new ua(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Fi(this.firestore,null,t)}}function fg(i,e,t){i=Sr(i,Fi);const o=Sr(i.firestore,Ji),u=Fd(i.converter,e,t);return jc(o,[Od(Vl(o),"setDoc",i._key,u,null!==i.converter,t).toMutation(i._key,wi.none())])}function pg(i,e,t,...o){i=Sr(i,Fi);const u=Sr(i.firestore,Ji),f=Vl(u);let E;return E="string"==typeof(e=(0,et.m9)(e))||e instanceof Ya?cf(f,"updateDoc",i._key,e,t,o):lf(f,"updateDoc",i._key,e),jc(u,[E.toMutation(i._key,wi.exists(!0))])}function gg(i,...e){var t,o,u;i=(0,et.m9)(i);let f={includeMetadataChanges:!1},E=0;"object"!=typeof e[E]||zm(e[E])||(f=e[E],E++);const T={includeMetadataChanges:f.includeMetadataChanges};if(zm(e[E])){const _e=e[E];e[E]=null===(t=_e.next)||void 0===t?void 0:t.bind(_e),e[E+1]=null===(o=_e.error)||void 0===o?void 0:o.bind(_e),e[E+2]=null===(u=_e.complete)||void 0===u?void 0:u.bind(_e)}let B,z,oe;if(i instanceof Fi)z=Sr(i.firestore,Ji),oe=Pu(i._key.path),B={next:_e=>{e[E]&&e[E](mg(z,i,_e))},error:e[E+1],complete:e[E+2]};else{const _e=Sr(i,fo);z=Sr(_e.firestore,Ji),oe=_e._query;const Ze=new il(z);B={next:lt=>{e[E]&&e[E](new nl(z,Ze,_e,lt))},error:e[E+1],complete:e[E+2]},og(i._query)}return function(_e,Ze,lt,pt){const ln=new Sd(pt),qn=new Sp(Ze,ln,lt);return _e.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return Uh(yield Fc(_e),qn)})),()=>{ln.pa(),_e.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return Tp(yield Fc(_e),qn)}))}}(ss(z),oe,T,B)}function jc(i,e){return function(t,o){const u=new He;return t.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function Wv(i,e,t){return Cd.apply(this,arguments)}(yield Kh(t),o,u)})),u.promise}(ss(i),e)}function mg(i,e,t){const o=t.docs.get(e._key),u=new il(i);return new Oo(i,u,e._key,o,new tl(t.hasPendingWrites,t.fromCache),e.converter)}class U_ extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=Vl(e)}get(e){const t=rl(e,this._firestore),o=new cy(this._firestore);return this._transaction.lookup([t._key]).then(u=>{if(!u||1!==u.length)return _();const f=u[0];if(f.isFoundDocument())return new Vc(this._firestore,o,f.key,f,t.converter);if(f.isNoDocument())return new Vc(this._firestore,o,t._key,null,t.converter);throw _()})}set(e,t,o){const u=rl(e,this._firestore),f=Fd(u.converter,t,o),E=Od(this._dataReader,"Transaction.set",u._key,f,null!==u.converter,o);return this._transaction.set(u._key,E),this}update(e,t,o,...u){const f=rl(e,this._firestore);let E;return E="string"==typeof(t=(0,et.m9)(t))||t instanceof Ya?cf(this._dataReader,"Transaction.update",f._key,t,o,u):lf(this._dataReader,"Transaction.update",f._key,t),this._transaction.update(f._key,E),this}delete(e){const t=rl(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=rl(e,this._firestore),o=new il(this._firestore);return super.get(e).then(u=>new Oo(this._firestore,o,t._key,u._document,new tl(!1,!1),t.converter))}}function yg(i,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new X("invalid-argument",`Invalid options passed to function ${i}(): You cannot specify both "merge" and "mergeFields".`);return e}function yy(){if("undefined"==typeof Uint8Array)throw new X("unimplemented","Uint8Arrays are not available in this environment.")}function _y(){if(!function Hd(){return"undefined"!=typeof atob}())throw new X("unimplemented","Blobs are unavailable in Firestore in this environment.")}!function(i,e=!0){Do=Ce.SDK_VERSION,(0,Ce._registerComponent)(new We.wA("firestore",(t,{options:o})=>{const u=t.getProvider("app").getImmediate(),f=new Ji(u,new Tr(t.getProvider("auth-internal")),new ea(t.getProvider("app-check-internal")));return o=Object.assign({useFetchStreams:e},o),f._setSettings(o),f},"PUBLIC")),(0,Ce.registerVersion)(nu,"3.4.7",i),(0,Ce.registerVersion)(nu,"3.4.7","esm2017")}();class $c{constructor(e){this._delegate=e}static fromBase64String(e){return _y(),new $c(ua.fromBase64String(e))}static fromUint8Array(e){return yy(),new $c(ua.fromUint8Array(e))}toBase64(){return _y(),this._delegate.toBase64()}toUint8Array(){return yy(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function mf(i){return function vy(i,e){if("object"!=typeof i||null===i)return!1;const t=i;for(const o of e)if(o in t&&"function"==typeof t[o])return!0;return!1}(i,["next","error","complete"])}class Ey{enableIndexedDbPersistence(e,t){return function A_(i,e){nf(i=Sr(i,Ji));const t=ss(i),o=i._freezeSettings(),u=new Zh;return Rd(t,u,new Ll(u,o.cacheSizeBytes,null==e?void 0:e.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function tf(i){nf(i=Sr(i,Ji));const e=ss(i),t=i._freezeSettings(),o=new Zh;return Rd(e,o,new kc(o,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function eg(i){if(i._initialized&&!i._terminated)throw new X(G.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new He;return i._queue.enqueueAndForgetEvenWhileRestricted((0,ue.Z)(function*(){try{yield(t=(0,ue.Z)(function*(o){if(!oa.vt())return Promise.resolve();const u=o+"main";yield oa.delete(u)}),function(o){return t.apply(this,arguments)})(Jg(i._databaseId,i._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class _g{constructor(e,t,o){this._delegate=t,this._persistenceProvider=o,this.INTERNAL={delete:()=>this.terminate()},e instanceof Ki||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&b("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,o={}){!function b_(i,e,t,o={}){var u;const f=(i=Sr(i,Lc))._getSettings();if("firestore.googleapis.com"!==f.host&&f.host!==e&&b("Host has been set in both settings() and useEmulator(), emulator host will be used"),i._setSettings(Object.assign(Object.assign({},f),{host:`${e}:${t}`,ssl:!1})),o.mockUserToken){let E,T;if("string"==typeof o.mockUserToken)E=o.mockUserToken,T=Pi.MOCK_USER;else{E=(0,et.Sg)(o.mockUserToken,null===(u=i._app)||void 0===u?void 0:u.options.projectId);const B=o.mockUserToken.sub||o.mockUserToken.user_id;if(!B)throw new X(G.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");T=new Pi(B)}i._authCredentials=new nn(new xt(E,T))}}(this._delegate,e,t,o)}enableNetwork(){return function S_(i){return function Qv(i){return i.asyncQueue.enqueue((0,ue.Z)(function*(){const e=yield Bm(i),t=yield jm(i);return e.setNetworkEnabled(!0),function(o){const u=j(o);return u.lu.delete(0),Ro(u)}(t)}))}(ss(i=Sr(i,Ji)))}(this._delegate)}disableNetwork(){return function tg(i){return function v_(i){return i.asyncQueue.enqueue((0,ue.Z)(function*(){const e=yield Bm(i),t=yield jm(i);return e.setNetworkEnabled(!1),(o=(0,ue.Z)(function*(u){const f=j(u);f.lu.add(0),yield Ac(f),f._u.set("Offline")}),function(u){return o.apply(this,arguments)})(t);var o}))}(ss(i=Sr(i,Ji)))}(this._delegate)}enablePersistence(e){let t=!1,o=!1;return e&&(t=!!e.synchronizeTabs,o=!!e.experimentalForceOwningTab,Ul("synchronizeTabs",t,"experimentalForceOwningTab",o)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,o)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function e0(i){return function(e){const t=new He;return e.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return function Om(i,e){return Np.apply(this,arguments)}(yield Kh(e),t)})),t.promise}(ss(i=Sr(i,Ji)))}(this._delegate)}onSnapshotsInSync(e){return function L_(i,e){return function Jv(i,e){const t=new Sd(e);return i.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return o=yield Fc(i),u=t,j(o).Tu.add(u),void u.next();var o,u})),()=>{t.pa(),i.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return o=yield Fc(i),u=t,void j(o).Tu.delete(u);var o,u}))}}(ss(i=Sr(i,Ji)),zm(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new X("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new jl(this,Zm(this._delegate,e))}catch(t){throw gs(t,"collection()","Firestore.collection()")}}doc(e){try{return new Go(this,Jh(this._delegate,e))}catch(t){throw gs(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new no(this,function qm(i,e){if(i=Sr(i,Lc),Wp("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new X(G.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new fo(i,null,(t=e,new La(pr.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw gs(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function V_(i,e){return function Xv(i,e){const t=new He;return i.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){const o=yield(u=i,xd(u).then(f=>f.datastore));var u;new Lm(i.asyncQueue,o,e,t).run()})),t.promise}(ss(i=Sr(i,Ji)),t=>e(new U_(i,t)))}(this._delegate,t=>e(new vg(this,t)))}batch(){return ss(this._delegate),new Eg(new Ld(this._delegate,e=>jc(this._delegate,e)))}loadBundle(e){return function Km(i,e){const t=ss(i=Sr(i,Ji)),o=new Xp;return function I_(i,e,t,o){const u=function(f,E){let T;return T="string"==typeof f?(new TextEncoder).encode(f):f,B=function(B,z){if(B instanceof Uint8Array)return jp(B,z);if(B instanceof ArrayBuffer)return jp(new Uint8Array(B),z);if(B instanceof ReadableStream)return B.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(T),new km(B,E);var B}(t,Tc(e));i.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){!function Nc(i,e,t){const o=j(i);var u;(u=(0,ue.Z)(function*(f,E,T){try{const B=yield E.getMetadata();if(yield function(Ze,lt){const pt=j(Ze),ln=ps(lt.createTime);return pt.persistence.runTransaction("hasNewerBundle","readonly",qn=>pt.ds.getBundleMetadata(qn,lt.id)).then(qn=>!!qn&&qn.createTime.compareTo(ln)>=0)}(f.localStore,B))return yield E.close(),T._completeWith({taskState:"Success",documentsLoaded:(Ze=B).totalDocuments,bytesLoaded:Ze.totalBytes,totalDocuments:Ze.totalDocuments,totalBytes:Ze.totalBytes}),Promise.resolve(new Set);T._updateProgress(xp(B));const z=new bm(B,f.localStore,E.M);let oe=yield E.fa();for(;oe;){const Ze=yield z.Nu(oe);Ze&&T._updateProgress(Ze),oe=yield E.fa()}const _e=yield z.complete();return yield yu(f,_e.Ou,void 0),yield function(Ze,lt){const pt=j(Ze);return pt.persistence.runTransaction("Save bundle","readwrite",ln=>pt.ds.saveBundleMetadata(ln,lt))}(f.localStore,B),T._completeWith(_e.progress),Promise.resolve(_e.Mu)}catch(B){return b("SyncEngine",`Loading bundle failed with ${B}`),T._failWith(B),Promise.resolve(new Set)}var Ze}),function(f,E,T){return u.apply(this,arguments)})(o,e,t).then(u=>{o.sharedClientState.notifyBundleLoaded(u)})}(yield Kh(i),u,o)}))}(t,i._databaseId,e,o),o}(this._delegate,e)}namedQuery(e){return function Ym(i,e){return function $m(i,e){return i.asyncQueue.enqueue((0,ue.Z)(function*(){return function(t,o){const u=j(t);return u.persistence.runTransaction("Get named query","readonly",f=>u.ds.getNamedQuery(f,o))}(yield Wh(i),e)}))}(ss(i=Sr(i,Ji)),e).then(t=>t?new fo(i,null,t.query):null)}(this._delegate,e).then(t=>t?new no(this,t):null)}}class Ud extends cg{constructor(e){super(),this.firestore=e}convertBytes(e){return new $c(new ua(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Go.forKey(t,this.firestore,null)}}class vg{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new Ud(e)}get(e){const t=Hc(e);return this._delegate.get(t).then(o=>new Ja(this._firestore,new Oo(this._firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,t.converter)))}set(e,t,o){const u=Hc(e);return o?(yg("Transaction.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const f=Hc(e);return 2===arguments.length?this._delegate.update(f,t):this._delegate.update(f,t,o,...u),this}delete(e){const t=Hc(e);return this._delegate.delete(t),this}}class Eg{constructor(e){this._delegate=e}set(e,t,o){const u=Hc(e);return o?(yg("WriteBatch.set",o),this._delegate.set(u,t,o)):this._delegate.set(u,t),this}update(e,t,o,...u){const f=Hc(e);return 2===arguments.length?this._delegate.update(f,t):this._delegate.update(f,t,o,...u),this}delete(e){const t=Hc(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class sl{constructor(e,t,o){this._firestore=e,this._userDataWriter=t,this._delegate=o}fromFirestore(e,t){const o=new kd(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new yf(this._firestore,o),null!=t?t:{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const o=sl.INSTANCES;let u=o.get(e);u||(u=new WeakMap,o.set(e,u));let f=u.get(t);return f||(f=new sl(e,new Ud(e),t),u.set(t,f)),f}}sl.INSTANCES=new WeakMap;class Go{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ud(e)}static forPath(e,t,o){if(e.length%2!=0)throw new X("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Go(t,new Fi(t._delegate,o,new At(e)))}static forKey(e,t,o){return new Go(t,new Fi(t._delegate,o,e))}get id(){return this._delegate.id}get parent(){return new jl(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new jl(this.firestore,Zm(this._delegate,e))}catch(t){throw gs(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,et.m9)(e))instanceof Fi&&Yp(this._delegate,e)}set(e,t){t=yg("DocumentReference.set",t);try{return t?fg(this._delegate,e,t):fg(this._delegate,e)}catch(o){throw gs(o,"setDoc()","DocumentReference.set()")}}update(e,t,...o){try{return 1===arguments.length?pg(this._delegate,e):pg(this._delegate,e,t,...o)}catch(u){throw gs(u,"updateDoc()","DocumentReference.update()")}}delete(){return function py(i){return jc(Sr(i.firestore,Ji),[new rc(i._key,wi.none())])}(this._delegate)}onSnapshot(...e){const t=Iy(e),o=Cy(e,u=>new Ja(this.firestore,new Oo(this.firestore._delegate,this._userDataWriter,u._key,u._document,u.metadata,this._delegate.converter)));return gg(this._delegate,t,o)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function dg(i){i=Sr(i,Fi);const e=Sr(i.firestore,Ji),t=ss(e),o=new il(e);return function zp(i,e){const t=new He;return i.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return(o=(0,ue.Z)(function*(u,f,E){try{const T=yield function(B,z){const oe=j(B);return oe.persistence.runTransaction("read document","readonly",_e=>oe.ai.Bs(_e,z))}(u,f);T.isFoundDocument()?E.resolve(T):T.isNoDocument()?E.resolve(null):E.reject(new X(G.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(T){const B=xc(T,`Failed to get document '${f} from cache`);E.reject(B)}}),function(u,f,E){return o.apply(this,arguments)})(yield Wh(i),e,t);var o})),t.promise}(t,i._key).then(u=>new Oo(e,o,i._key,u,new tl(null!==u&&u.hasLocalMutations,!0),i.converter))}(this._delegate):"server"===(null==e?void 0:e.source)?function gf(i){i=Sr(i,Fi);const e=Sr(i.firestore,Ji);return Yh(ss(e),i._key,{source:"server"}).then(t=>mg(e,i,t))}(this._delegate):function dy(i){i=Sr(i,Fi);const e=Sr(i.firestore,Ji);return Yh(ss(e),i._key).then(t=>mg(e,i,t))}(this._delegate),t.then(o=>new Ja(this.firestore,new Oo(this.firestore._delegate,this._userDataWriter,o._key,o._document,o.metadata,this._delegate.converter)))}withConverter(e){return new Go(this.firestore,this._delegate.withConverter(e?sl.getInstance(this.firestore,e):null))}}function gs(i,e,t){return i.message=i.message.replace(e,t),i}function Iy(i){for(const e of i)if("object"==typeof e&&!mf(e))return e;return{}}function Cy(i,e){var t,o;let u;return u=mf(i[0])?i[0]:mf(i[1])?i[1]:"function"==typeof i[0]?{next:i[0],error:i[1],complete:i[2]}:{next:i[1],error:i[2],complete:i[3]},{next:f=>{u.next&&u.next(e(f))},error:null===(t=u.error)||void 0===t?void 0:t.bind(u),complete:null===(o=u.complete)||void 0===o?void 0:o.bind(u)}}class Ja{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Go(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return oy(this._delegate,e._delegate)}}class yf extends Ja{data(e){const t=this._delegate.data(e);return function F(i,e){i||_()}(void 0!==t),t}}class no{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new Ud(e)}where(e,t,o){try{return new no(this.firestore,vu(this._delegate,function Qa(i,e,t){const o=e,u=Nd("where",i);return new ag(u,o,t)}(e,t,o)))}catch(u){throw gs(u,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new no(this.firestore,vu(this._delegate,function P_(i,e="asc"){const t=e,o=Nd("orderBy",i);return new O_(o,t)}(e,t)))}catch(o){throw gs(o,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new no(this.firestore,vu(this._delegate,function Ia(i){return Md("limit",i),new wa("limit",i,"F")}(e)))}catch(t){throw gs(t,"limit()","Query.limit()")}}limitToLast(e){try{return new no(this.firestore,vu(this._delegate,function Ca(i){return Md("limitToLast",i),new wa("limitToLast",i,"L")}(e)))}catch(t){throw gs(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new no(this.firestore,vu(this._delegate,function ay(...i){return new ug("startAt",i,!0)}(...e)))}catch(t){throw gs(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new no(this.firestore,vu(this._delegate,function N_(...i){return new ug("startAfter",i,!1)}(...e)))}catch(t){throw gs(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new no(this.firestore,vu(this._delegate,function k_(...i){return new uy("endBefore",i,!1)}(...e)))}catch(t){throw gs(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new no(this.firestore,vu(this._delegate,function F_(...i){return new uy("endAt",i,!0)}(...e)))}catch(t){throw gs(t,"endAt()","Query.endAt()")}}isEqual(e){return Qp(this._delegate,e._delegate)}get(e){let t;return t="cache"===(null==e?void 0:e.source)?function hy(i){i=Sr(i,fo);const e=Sr(i.firestore,Ji),t=ss(e),o=new il(e);return function E_(i,e){const t=new He;return i.asyncQueue.enqueueAndForget((0,ue.Z)(function*(){return(o=(0,ue.Z)(function*(u,f,E){try{const T=yield Ch(u,f,!0),B=new Dm(f,T.hi),z=B.Gu(T.documents),oe=B.applyChanges(z,!1);E.resolve(oe.snapshot)}catch(T){const B=xc(T,`Failed to execute query '${f} against cache`);E.reject(B)}}),function(u,f,E){return o.apply(this,arguments)})(yield Wh(i),e,t);var o})),t.promise}(t,i._query).then(u=>new nl(e,o,i,u))}(this._delegate):"server"===(null==e?void 0:e.source)?function fy(i){i=Sr(i,fo);const e=Sr(i.firestore,Ji),t=ss(e),o=new il(e);return w_(t,i._query,{source:"server"}).then(u=>new nl(e,o,i,u))}(this._delegate):function hg(i){i=Sr(i,fo);const e=Sr(i.firestore,Ji),t=ss(e),o=new il(e);return og(i._query),w_(t,i._query).then(u=>new nl(e,o,i,u))}(this._delegate),t.then(o=>new _f(this.firestore,new nl(this.firestore._delegate,this._userDataWriter,this._delegate,o._snapshot)))}onSnapshot(...e){const t=Iy(e),o=Cy(e,u=>new _f(this.firestore,new nl(this.firestore._delegate,this._userDataWriter,this._delegate,u._snapshot)));return gg(this._delegate,t,o)}withConverter(e){return new no(this.firestore,this._delegate.withConverter(e?sl.getInstance(this.firestore,e):null))}}class r0{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new yf(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class _f{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new no(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new yf(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new r0(this._firestore,t))}forEach(e,t){this._delegate.forEach(o=>{e.call(t,new yf(this._firestore,o))})}isEqual(e){return oy(this._delegate,e._delegate)}}class jl extends no{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Go(this.firestore,e):null}doc(e){try{return new Go(this.firestore,void 0===e?Jh(this._delegate):Jh(this._delegate,e))}catch(t){throw gs(t,"doc()","CollectionReference.doc()")}}add(e){return function gy(i,e){const t=Sr(i.firestore,Ji),o=Jh(i),u=Fd(i.converter,e);return jc(t,[Od(Vl(i.firestore),"addDoc",o._key,u,null!==i.converter,{}).toMutation(o._key,wi.exists(!1))]).then(()=>o)}(this._delegate,e).then(t=>new Go(this.firestore,t))}isEqual(e){return Yp(this._delegate,e._delegate)}withConverter(e){return new jl(this.firestore,this._delegate.withConverter(e?sl.getInstance(this.firestore,e):null))}}function Hc(i){return Sr(i,Fi)}class Cn{constructor(...e){this._delegate=new Ya(...e)}static documentId(){return new Cn(hs.keyField().canonicalString())}isEqual(e){return(e=(0,et.m9)(e))instanceof Ya&&this._delegate._internalPath.isEqual(e._internalPath)}}class $l{constructor(e){this._delegate=e}static serverTimestamp(){const e=function j_(){return new uf("serverTimestamp")}();return e._methodName="FieldValue.serverTimestamp",new $l(e)}static delete(){const e=function B_(){return new Bl("deleteField")}();return e._methodName="FieldValue.delete",new $l(e)}static arrayUnion(...e){const t=function $_(...i){return new Xm("arrayUnion",i)}(...e);return t._methodName="FieldValue.arrayUnion",new $l(t)}static arrayRemove(...e){const t=function H_(...i){return new ey("arrayRemove",i)}(...e);return t._methodName="FieldValue.arrayRemove",new $l(t)}static increment(e){const t=function G_(i){return new ty("increment",i)}(e);return t._methodName="FieldValue.increment",new $l(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const z_={Firestore:_g,GeoPoint:rf,Timestamp:Gi,Blob:$c,Transaction:vg,WriteBatch:Eg,DocumentReference:Go,DocumentSnapshot:Ja,Query:no,QueryDocumentSnapshot:yf,QuerySnapshot:_f,CollectionReference:jl,FieldPath:Cn,FieldValue:$l,setLogLevel:function wy(i){!function so(i){Os.setLogLevel(i)}(i)},CACHE_SIZE_UNLIMITED:-1};!function vf(i){(function W_(i,e){i.INTERNAL.registerComponent(new We.wA("firestore-compat",t=>{const o=t.getProvider("app-compat").getImmediate(),u=t.getProvider("firestore").getImmediate();return e(o,u)},"PUBLIC").setServiceProps(Object.assign({},z_)))})(i,(e,t)=>new _g(e,t,new Ey)),i.registerVersion("@firebase/firestore-compat","0.1.16")}(vt.Z);var ol=L(1205),Ef=L(440),wf=L(127);function K_(i,e){return function os(i,e=p.z){return new Y.y(t=>{let o;return null!=e?e.schedule(()=>{o=i.onSnapshot({includeMetadataChanges:!0},t)}):o=i.onSnapshot({includeMetadataChanges:!0},t),()=>{null!=o&&o()}})}(i,e)}function wg(i,e){return K_(i,e).pipe((0,qe.U)(t=>({payload:t,type:"query"})))}function If(i,e){return wg(i,e).pipe((0,ft.O)(void 0),Me(),(0,qe.U)(([t,o])=>{const u=o.payload.docChanges(),f=u.map(E=>({type:E.type,payload:E}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(o.payload.metadata)&&o.payload.docs.forEach((E,T)=>{const B=u.find(oe=>oe.doc.ref.isEqual(E.ref)),z=null==t?void 0:t.payload.docs.find(oe=>oe.ref.isEqual(E.ref));B&&JSON.stringify(B.doc.metadata)===JSON.stringify(E.metadata)||!B&&z&&JSON.stringify(z.metadata)===JSON.stringify(E.metadata)||f.push({type:"modified",payload:{oldIndex:T,newIndex:T,type:"modified",doc:E}})}),f}))}function Ig(i,e,t){return If(i,t).pipe((0,Xe.R)((o,u)=>function Dy(i,e,t){return e.forEach(o=>{t.indexOf(o.type)>-1&&(i=function Ty(i,e){switch(e.type){case"added":if(!i[e.newIndex]||!i[e.newIndex].doc.ref.isEqual(e.doc.ref))return Cf(i,e.newIndex,0,e);break;case"modified":if(null==i[e.oldIndex]||i[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=i.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return Cf(i,e.newIndex,1,e)}break;case"removed":if(i[e.oldIndex]&&i[e.oldIndex].doc.ref.isEqual(e.doc.ref))return Cf(i,e.oldIndex,1)}return i}(i,o))}),i}(o,u.map(f=>f.payload),e),[]),function ie(i,e=le.y){return i=null!=i?i:Se,(0,Te.e)((t,o)=>{let u,f=!0;t.subscribe((0,Ae.x)(o,E=>{const T=e(E);(f||!i(u,T))&&(f=!1,u=T,o.next(E))}))})}(),(0,qe.U)(o=>o.map(u=>({type:u.type,payload:u}))))}function Cf(i,e,t,...o){const u=i.slice();return u.splice(e,t,...o),u}function Ay(i){return(!i||0===i.length)&&(i=["added","removed","modified"]),i}class Sy{constructor(e,t,o){this.ref=e,this.query=t,this.afs=o}stateChanges(e){let t=If(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,qe.U)(o=>o.filter(u=>e.indexOf(u.type)>-1)))),t.pipe((0,ft.O)(void 0),Me(),(0,at.h)(([o,u])=>u.length>0||!o),(0,qe.U)(([o,u])=>u),we.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Xe.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Ay(e);return Ig(this.query,t,this.afs.schedulers.outsideAngular).pipe(we.iC)}valueChanges(e={}){return wg(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(t=>t.payload.docs.map(o=>e.idField?Object.assign(Object.assign({},o.data()),{[e.idField]:o.id}):o.data())),we.iC)}get(e){return(0,pe.D)(this.query.get(e)).pipe(we.iC)}add(e){return this.ref.add(e)}doc(e){return new xy(this.ref.doc(e),this.afs)}}class xy{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const o=this.ref.collection(e),{ref:u,query:f}=Cg(o,t);return new Sy(u,f,this.afs)}snapshotChanges(){return function by(i,e){return K_(i,e).pipe((0,ft.O)(void 0),Me(),(0,qe.U)(([t,o])=>o.exists?(null==t?void 0:t.exists)?{payload:o,type:"modified"}:{payload:o,type:"added"}:{payload:o,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(we.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,qe.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,pe.D)(this.ref.get(e)).pipe(we.iC)}}class Vd{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?If(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(t=>t.filter(o=>e.indexOf(o.type)>-1)),(0,at.h)(t=>t.length>0),we.iC):If(this.query,this.afs.schedulers.outsideAngular).pipe(we.iC)}auditTrail(e){return this.stateChanges(e).pipe((0,Xe.R)((t,o)=>[...t,...o],[]))}snapshotChanges(e){const t=Ay(e);return Ig(this.query,t,this.afs.schedulers.outsideAngular).pipe(we.iC)}valueChanges(e={}){return wg(this.query,this.afs.schedulers.outsideAngular).pipe((0,qe.U)(o=>o.payload.docs.map(u=>e.idField?Object.assign({[e.idField]:u.id},u.data()):u.data())),we.iC)}get(e){return(0,pe.D)(this.query.get(e)).pipe(we.iC)}}const My=new g.OlP("angularfire2.enableFirestorePersistence"),Ry=new g.OlP("angularfire2.firestore.persistenceSettings"),Y_=new g.OlP("angularfire2.firestore.settings"),bf=new g.OlP("angularfire2.firestore.use-emulator");function Cg(i,e=(t=>t)){return{query:e(i),ref:i}}let bg=(()=>{class i{constructor(t,o,u,f,E,T,B,z,oe,_e,Ze,lt,pt,ln,qn,Li,nr){this.schedulers=B;const Ls=(0,Ge.on)(t,T,o),Ui=oe;_e&&(0,ol.nw)(Ls,T,Ze,pt,ln,qn,lt,Li),[this.firestore,this.persistenceEnabled$]=(0,Ge.cc)(`${Ls.name}.firestore`,"AngularFirestore",Ls.name,()=>{const Ci=T.runOutsideAngular(()=>Ls.firestore());if(f&&Ci.settings(f),Ui&&Ci.useEmulator(...Ui),u&&!(0,Je.PM)(E)){const Nr=()=>{try{return(0,pe.D)(Ci.enablePersistence(z||void 0).then(()=>!0,()=>!1))}catch(Xa){return"undefined"!=typeof console&&console.warn(Xa),(0,ce.of)(!1)}};return[Ci,T.runOutsideAngular(Nr)]}return[Ci,(0,ce.of)(!1)]},[f,Ui,u])}collection(t,o){let u;u="string"==typeof t?this.firestore.collection(t):t;const{ref:f,query:E}=Cg(u,o),T=this.schedulers.ngZone.run(()=>f);return new Sy(T,E,this)}collectionGroup(t,o){const u=o||(E=>E),f=this.firestore.collectionGroup(t);return new Vd(u(f),this)}doc(t){let o;o="string"==typeof t?this.firestore.doc(t):t;const u=this.schedulers.ngZone.run(()=>o);return new xy(u,this)}createId(){return this.firestore.collection("_").doc().id}}return i.\u0275fac=function(t){return new(t||i)(g.LFG(Ge.Dh),g.LFG(Ge.xv,8),g.LFG(My,8),g.LFG(Y_,8),g.LFG(g.Lbi),g.LFG(g.R0b),g.LFG(we.HU),g.LFG(Ry,8),g.LFG(bf,8),g.LFG(ol.zQ,8),g.LFG(ol.Qv,8),g.LFG(ol.L6,8),g.LFG(ol._Q,8),g.LFG(ol.rT,8),g.LFG(ol.lh,8),g.LFG(ol.f7,8),g.LFG(Ef.nm,8))},i.\u0275prov=g.Yz7({token:i,factory:i.\u0275fac,providedIn:"any"}),i})(),Oy=(()=>{class i{constructor(){wf.Z.registerVersion("angularfire",we.q4.full,"fst-compat")}static enablePersistence(t){return{ngModule:i,providers:[{provide:My,useValue:!0},{provide:Ry,useValue:t}]}}}return i.\u0275fac=function(t){return new(t||i)},i.\u0275mod=g.oAB({type:i}),i.\u0275inj=g.cJS({providers:[bg]}),i})()},2084:(St,Be,L)=>{L.d(Be,{Q1:()=>Bs,TE:()=>M});var g=L(8306),p=L(9646),Y=L(8996),pe=L(4986),ce=L(4482),we=L(5403),Ae=L(4004),Me=L(3900),le=L(5813),ie=L(5e3),Se=L(2011),ft=L(3942),qe=L(5861),Xe=L(9681),at=L(2090),Ge=L(4859);const Je="firebasestorage.googleapis.com",Tt="storageBucket";class Ce extends at.ZR{constructor(D,W){super(We(D),`Firebase Storage: ${W} (${We(D)})`),this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Ce.prototype)}_codeEquals(D){return We(D)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(D){this.customData.serverResponse=D,this.message=this.customData.serverResponse?`${this._baseMessage}\n${this.customData.serverResponse}`:this._baseMessage}}function We(y){return"storage/"+y}function st(){return new Ce("unknown","An unknown error occurred, please check the error payload for server response.")}function rt(){return new Ce("canceled","User canceled the upload/download.")}function sn(){return new Ce("cannot-slice-blob","Cannot slice blob for upload. Please retry the upload.")}function Qt(y){return new Ce("invalid-argument",y)}function Pt(){return new Ce("app-deleted","The Firebase app was deleted.")}function Tn(y){return new Ce("invalid-root-operation","The operation '"+y+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function It(y,D){return new Ce("invalid-format","String does not match format '"+y+"': "+D)}function pn(y){throw new Ce("internal-error","Internal error: "+y)}class kt{constructor(D,W){this.bucket=D,this.path_=W}get path(){return this.path_}get isRoot(){return 0===this.path.length}fullServerUrl(){const D=encodeURIComponent;return"/b/"+D(this.bucket)+"/o/"+D(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(D,W){let ee;try{ee=kt.makeFromUrl(D,W)}catch(ye){return new kt(D,"")}if(""===ee.path)return ee;throw function en(y){return new Ce("invalid-default-bucket","Invalid default bucket '"+y+"'.")}(D)}static makeFromUrl(D,W){let ee=null;const ye="([A-Za-z0-9.\\-_]+)",Ut=new RegExp("^gs://"+ye+"(/(.*))?$","i");function vn(li){li.path_=decodeURIComponent(li.path)}const qr=W.replace(/[.]/g,"\\."),Yr=[{regex:Ut,indices:{bucket:1,path:3},postModify:function Le(li){"/"===li.path.charAt(li.path.length-1)&&(li.path_=li.path_.slice(0,-1))}},{regex:new RegExp(`^https?://${qr}/v[A-Za-z0-9_]+/b/${ye}/o(/([^?#]*).*)?$`,"i"),indices:{bucket:1,path:3},postModify:vn},{regex:new RegExp(`^https?://${W===Je?"(?:storage.googleapis.com|storage.cloud.google.com)":W}/${ye}/([^?#]*)`,"i"),indices:{bucket:1,path:2},postModify:vn}];for(let li=0;li<Yr.length;li++){const Pr=Yr[li],Rs=Pr.regex.exec(D);if(Rs){let Zs=Rs[Pr.indices.path];Zs||(Zs=""),ee=new kt(Rs[Pr.indices.bucket],Zs),Pr.postModify(ee);break}}if(null==ee)throw function Ue(y){return new Ce("invalid-url","Invalid URL '"+y+"'.")}(D);return ee}}class yn{constructor(D){this.promise_=Promise.reject(D)}getPromise(){return this.promise_}cancel(D=!1){}}function Wn(y){return"string"==typeof y||y instanceof String}function xr(y){return jn()&&y instanceof Blob}function jn(){return"undefined"!=typeof Blob}function Vt(y,D,W,ee){if(ee<D)throw Qt(`Invalid value for '${y}'. Expected ${D} or greater.`);if(ee>W)throw Qt(`Invalid value for '${y}'. Expected ${W} or less.`)}function Zt(y,D,W){let ee=D;return null==W&&(ee=`https://${D}`),`${W}://${ee}/v0${y}`}function An(y){const D=encodeURIComponent;let W="?";for(const ee in y)y.hasOwnProperty(ee)&&(W=W+(D(ee)+"=")+D(y[ee])+"&");return W=W.slice(0,-1),W}var tn=(()=>{return(y=tn||(tn={}))[y.NO_ERROR=0]="NO_ERROR",y[y.NETWORK_ERROR=1]="NETWORK_ERROR",y[y.ABORT=2]="ABORT",tn;var y})();class Br{constructor(D,W,ee,ye,Le,nt,Ut,Ct,vn,Hn,qr){this.url_=D,this.method_=W,this.headers_=ee,this.body_=ye,this.successCodes_=Le,this.additionalRetryCodes_=nt,this.callback_=Ut,this.errorCallback_=Ct,this.timeout_=vn,this.progressCallback_=Hn,this.connectionFactory_=qr,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((fr,Yn)=>{this.resolve_=fr,this.reject_=Yn,this.start_()})}start_(){const W=(ee,ye)=>{const Le=this.resolve_,nt=this.reject_,Ut=ye.connection;if(ye.wasSuccessCode)try{const Ct=this.callback_(Ut,Ut.getResponse());!function Qr(y){return void 0!==y}(Ct)?Le():Le(Ct)}catch(Ct){nt(Ct)}else if(null!==Ut){const Ct=st();Ct.serverResponse=Ut.getErrorText(),nt(this.errorCallback_?this.errorCallback_(Ut,Ct):Ct)}else nt(ye.canceled?this.appDelete_?Pt():rt():function Ee(){return new Ce("retry-limit-exceeded","Max retry time for operation exceeded, please try again.")}())};this.canceled_?W(0,new bi(!1,null,!0)):this.backoffId_=function kn(y,D,W){let ee=1,ye=null,Le=null,nt=!1,Ut=0;function Ct(){return 2===Ut}let vn=!1;function Hn(...Er){vn||(vn=!0,D.apply(null,Er))}function qr(Er){ye=setTimeout(()=>{ye=null,y(Yn,Ct())},Er)}function fr(){Le&&clearTimeout(Le)}function Yn(Er,...ui){if(vn)return void fr();if(Er)return fr(),void Hn.call(null,Er,...ui);if(Ct()||nt)return fr(),void Hn.call(null,Er,...ui);let Yr;ee<64&&(ee*=2),1===Ut?(Ut=2,Yr=0):Yr=1e3*(ee+Math.random()),qr(Yr)}let tr=!1;function Ai(Er){tr||(tr=!0,fr(),!vn&&(null!==ye?(Er||(Ut=2),clearTimeout(ye),qr(0)):Er||(Ut=1)))}return qr(0),Le=setTimeout(()=>{nt=!0,Ai(!0)},W),Ai}((ee,ye)=>{if(ye)return void ee(!1,new bi(!1,null,!0));const Le=this.connectionFactory_();this.pendingConnection_=Le;const nt=Ut=>{null!==this.progressCallback_&&this.progressCallback_(Ut.loaded,Ut.lengthComputable?Ut.total:-1)};null!==this.progressCallback_&&Le.addUploadProgressListener(nt),Le.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{null!==this.progressCallback_&&Le.removeUploadProgressListener(nt),this.pendingConnection_=null;const Ut=Le.getErrorCode()===tn.NO_ERROR,Ct=Le.getStatus();if(!Ut||this.isRetryStatusCode_(Ct)){const Hn=Le.getErrorCode()===tn.ABORT;return void ee(!1,new bi(!1,null,Hn))}const vn=-1!==this.successCodes_.indexOf(Ct);ee(!0,new bi(vn,Le))})},W,this.timeout_)}getPromise(){return this.promise_}cancel(D){this.canceled_=!0,this.appDelete_=D||!1,null!==this.backoffId_&&function zn(y){y(!1)}(this.backoffId_),null!==this.pendingConnection_&&this.pendingConnection_.abort()}isRetryStatusCode_(D){const W=D>=500&&D<600,ye=-1!==[408,429].indexOf(D),Le=-1!==this.additionalRetryCodes_.indexOf(D);return W||ye||Le}}class bi{constructor(D,W,ee){this.wasSuccessCode=D,this.connection=W,this.canceled=!!ee}}function Gt(...y){const D=function Nt(){return"undefined"!=typeof BlobBuilder?BlobBuilder:"undefined"!=typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}();if(void 0!==D){const W=new D;for(let ee=0;ee<y.length;ee++)W.append(y[ee]);return W.getBlob()}if(jn())return new Blob(y);throw new Ce("unsupported-environment","This browser doesn't seem to support creating Blobs")}const fn={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class Di{constructor(D,W){this.data=D,this.contentType=W||null}}function Ir(y,D){switch(y){case fn.RAW:return new Di(Xn(D));case fn.BASE64:case fn.BASE64URL:return new Di(Mr(y,D));case fn.DATA_URL:return new Di(function Mt(y){const D=new wn(y);return D.base64?Mr(fn.BASE64,D.rest):function Kt(y){let D;try{D=decodeURIComponent(y)}catch(W){throw It(fn.DATA_URL,"Malformed data URL.")}return Xn(D)}(D.rest)}(D),function Qe(y){return new wn(y).contentType}(D))}throw st()}function Xn(y){const D=[];for(let W=0;W<y.length;W++){let ee=y.charCodeAt(W);ee<=127?D.push(ee):ee<=2047?D.push(192|ee>>6,128|63&ee):55296==(64512&ee)?W<y.length-1&&56320==(64512&y.charCodeAt(W+1))?(ee=65536|(1023&ee)<<10|1023&y.charCodeAt(++W),D.push(240|ee>>18,128|ee>>12&63,128|ee>>6&63,128|63&ee)):D.push(239,191,189):56320==(64512&ee)?D.push(239,191,189):D.push(224|ee>>12,128|ee>>6&63,128|63&ee)}return new Uint8Array(D)}function Mr(y,D){switch(y){case fn.BASE64:{const ye=-1!==D.indexOf("-"),Le=-1!==D.indexOf("_");if(ye||Le)throw It(y,"Invalid character '"+(ye?"-":"_")+"' found: is it base64url encoded?");break}case fn.BASE64URL:{const ye=-1!==D.indexOf("+"),Le=-1!==D.indexOf("/");if(ye||Le)throw It(y,"Invalid character '"+(ye?"+":"/")+"' found: is it base64 encoded?");D=D.replace(/-/g,"+").replace(/_/g,"/");break}}let W;try{W=function Kr(y){return atob(y)}(D)}catch(ye){throw It(y,"Invalid character found")}const ee=new Uint8Array(W.length);for(let ye=0;ye<W.length;ye++)ee[ye]=W.charCodeAt(ye);return ee}class wn{constructor(D){this.base64=!1,this.contentType=null;const W=D.match(/^data:([^,]+)?,/);if(null===W)throw It(fn.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const ee=W[1]||null;null!=ee&&(this.base64=function bt(y,D){return y.length>=D.length&&y.substring(y.length-D.length)===D}(ee,";base64"),this.contentType=this.base64?ee.substring(0,ee.length-7):ee),this.rest=D.substring(D.indexOf(",")+1)}}class Ft{constructor(D,W){let ee=0,ye="";xr(D)?(this.data_=D,ee=D.size,ye=D.type):D instanceof ArrayBuffer?(W?this.data_=new Uint8Array(D):(this.data_=new Uint8Array(D.byteLength),this.data_.set(new Uint8Array(D))),ee=this.data_.length):D instanceof Uint8Array&&(W?this.data_=D:(this.data_=new Uint8Array(D.length),this.data_.set(D)),ee=D.length),this.size_=ee,this.type_=ye}size(){return this.size_}type(){return this.type_}slice(D,W){if(xr(this.data_)){const ye=function gr(y,D,W){return y.webkitSlice?y.webkitSlice(D,W):y.mozSlice?y.mozSlice(D,W):y.slice?y.slice(D,W):null}(this.data_,D,W);return null===ye?null:new Ft(ye)}{const ee=new Uint8Array(this.data_.buffer,D,W-D);return new Ft(ee,!0)}}static getBlob(...D){if(jn()){const W=D.map(ee=>ee instanceof Ft?ee.data_:ee);return new Ft(Gt.apply(null,W))}{const W=D.map(nt=>Wn(nt)?Ir(fn.RAW,nt).data:nt.data_);let ee=0;W.forEach(nt=>{ee+=nt.byteLength});const ye=new Uint8Array(ee);let Le=0;return W.forEach(nt=>{for(let Ut=0;Ut<nt.length;Ut++)ye[Le++]=nt[Ut]}),new Ft(ye,!0)}}uploadData(){return this.data_}}function gn(y){let D;try{D=JSON.parse(y)}catch(W){return null}return function wr(y){return"object"==typeof y&&!Array.isArray(y)}(D)?D:null}function se(y){const D=y.lastIndexOf("/",y.length-2);return-1===D?y:y.slice(D+1)}function ge(y,D){return D}class Ve{constructor(D,W,ee,ye){this.server=D,this.local=W||D,this.writable=!!ee,this.xform=ye||ge}}let Re=null;function Ht(){if(Re)return Re;const y=[];y.push(new Ve("bucket")),y.push(new Ve("generation")),y.push(new Ve("metageneration")),y.push(new Ve("name","fullPath",!0));const W=new Ve("name");W.xform=function D(Le,nt){return function yt(y){return!Wn(y)||y.length<2?y:se(y)}(nt)},y.push(W);const ye=new Ve("size");return ye.xform=function ee(Le,nt){return void 0!==nt?Number(nt):nt},y.push(ye),y.push(new Ve("timeCreated")),y.push(new Ve("updated")),y.push(new Ve("md5Hash",null,!0)),y.push(new Ve("cacheControl",null,!0)),y.push(new Ve("contentDisposition",null,!0)),y.push(new Ve("contentEncoding",null,!0)),y.push(new Ve("contentLanguage",null,!0)),y.push(new Ve("contentType",null,!0)),y.push(new Ve("metadata","customMetadata",!0)),Re=y,Re}function En(y,D,W){const ee=gn(D);return null===ee?null:function Jt(y,D,W){const ee={type:"file"},ye=W.length;for(let Le=0;Le<ye;Le++){const nt=W[Le];ee[nt.local]=nt.xform(ee,D[nt.server])}return function In(y,D){Object.defineProperty(y,"ref",{get:function W(){const Le=new kt(y.bucket,y.fullPath);return D._makeStorageReference(Le)}})}(ee,y),ee}(y,ee,W)}function Xt(y,D){const W={},ee=D.length;for(let ye=0;ye<ee;ye++){const Le=D[ye];Le.writable&&(W[Le.server]=y[Le.local])}return JSON.stringify(W)}const $n="prefixes";class lr{constructor(D,W,ee,ye){this.url=D,this.method=W,this.handler=ee,this.timeout=ye,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}function er(y){if(!y)throw st()}function ir(y,D){return function W(ee,ye){const Le=En(y,ye,D);return er(null!==Le),Le}}function ot(y){return function D(W,ee){let ye;return ye=401===W.getStatus()?W.getErrorText().includes("Firebase App Check token is invalid")?function fe(){return new Ce("unauthorized-app","This app does not have permission to access Firebase Storage on this project.")}():function be(){return new Ce("unauthenticated","User is not authenticated, please authenticate using Firebase Authentication and try again.")}():402===W.getStatus()?function Ne(y){return new Ce("quota-exceeded","Quota for bucket '"+y+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}(y.bucket):403===W.getStatus()?function Oe(y){return new Ce("unauthorized","User does not have permission to access '"+y+"'.")}(y.path):ee,ye.serverResponse=ee.serverResponse,ye}}function Ot(y){const D=ot(y);return function W(ee,ye){let Le=D(ee,ye);return 404===ee.getStatus()&&(Le=function et(y){return new Ce("object-not-found","Object '"+y+"' does not exist.")}(y.path)),Le.serverResponse=ye.serverResponse,Le}}function on(y,D,W){const ye=Zt(D.fullServerUrl(),y.host,y._protocol),nt=y.maxOperationRetryTime,Ut=new lr(ye,"GET",ir(y,W),nt);return Ut.errorHandler=Ot(D),Ut}function sr(y,D,W,ee,ye){const Le={};Le.prefix=D.isRoot?"":D.path+"/",W&&W.length>0&&(Le.delimiter=W),ee&&(Le.pageToken=ee),ye&&(Le.maxResults=ye);const Ut=Zt(D.bucketOnlyServerUrl(),y.host,y._protocol),vn=y.maxOperationRetryTime,Hn=new lr(Ut,"GET",function pi(y,D){return function W(ee,ye){const Le=function as(y,D,W){const ee=gn(W);return null===ee?null:function Bt(y,D,W){const ee={prefixes:[],items:[],nextPageToken:W.nextPageToken};if(W[$n])for(const ye of W[$n]){const Le=ye.replace(/\/$/,""),nt=y._makeStorageReference(new kt(D,Le));ee.prefixes.push(nt)}if(W.items)for(const ye of W.items){const Le=y._makeStorageReference(new kt(D,ye.name));ee.items.push(Le)}return ee}(y,D,ee)}(y,D,ye);return er(null!==Le),Le}}(y,D.bucket),vn);return Hn.urlParams=Le,Hn.errorHandler=ot(D),Hn}function gi(y,D,W){const ee=Object.assign({},W);return ee.fullPath=y.path,ee.size=D.size(),ee.contentType||(ee.contentType=function mr(y,D){return y&&y.contentType||D&&D.type()||"application/octet-stream"}(null,D)),ee}class jr{constructor(D,W,ee,ye){this.current=D,this.total=W,this.finalized=!!ee,this.metadata=ye||null}}function xi(y,D){let W=null;try{W=y.getResponseHeader("X-Goog-Upload-Status")}catch(ye){er(!1)}return er(!!W&&-1!==(D||["active"]).indexOf(W)),W}const br={STATE_CHANGED:"state_changed"},Pn={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Fn(y){switch(y){case"running":case"pausing":case"canceling":return Pn.RUNNING;case"paused":return Pn.PAUSED;case"success":return Pn.SUCCESS;case"canceled":return Pn.CANCELED;default:return Pn.ERROR}}class es{constructor(D,W,ee){if(function rr(y){return"function"==typeof y}(D)||null!=W||null!=ee)this.next=D,this.error=null!=W?W:void 0,this.complete=null!=ee?ee:void 0;else{const Le=D;this.next=Le.next,this.error=Le.error,this.complete=Le.complete}}}function yr(y){return(...D)=>{Promise.resolve().then(()=>y(...D))}}class us extends class ti{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=tn.NO_ERROR,this.sendPromise_=new Promise(D=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=tn.ABORT,D()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=tn.NETWORK_ERROR,D()}),this.xhr_.addEventListener("load",()=>{D()})})}send(D,W,ee,ye){if(this.sent_)throw pn("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(W,D,!0),void 0!==ye)for(const Le in ye)ye.hasOwnProperty(Le)&&this.xhr_.setRequestHeader(Le,ye[Le].toString());return void 0!==ee?this.xhr_.send(ee):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw pn("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw pn("cannot .getStatus() before sending");try{return this.xhr_.status}catch(D){return-1}}getResponse(){if(!this.sent_)throw pn("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw pn("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(D){return this.xhr_.getResponseHeader(D)}addUploadProgressListener(D){null!=this.xhr_.upload&&this.xhr_.upload.addEventListener("progress",D)}removeUploadProgressListener(D){null!=this.xhr_.upload&&this.xhr_.upload.removeEventListener("progress",D)}}{initXhr(){this.xhr_.responseType="text"}}function _r(){return new us}class _s{constructor(D,W,ee=null){this._transferred=0,this._needToFetchStatus=!1,this._needToFetchMetadata=!1,this._observers=[],this._error=void 0,this._uploadUrl=void 0,this._request=void 0,this._chunkMultiplier=1,this._resolve=void 0,this._reject=void 0,this._ref=D,this._blob=W,this._metadata=ee,this._mappings=Ht(),this._resumable=this._shouldDoResumable(this._blob),this._state="running",this._errorHandler=ye=>{this._request=void 0,this._chunkMultiplier=1,ye._codeEquals("canceled")?(this._needToFetchStatus=!0,this.completeTransitions_()):(this._error=ye,this._transition("error"))},this._metadataErrorHandler=ye=>{this._request=void 0,ye._codeEquals("canceled")?this.completeTransitions_():(this._error=ye,this._transition("error"))},this._promise=new Promise((ye,Le)=>{this._resolve=ye,this._reject=Le,this._start()}),this._promise.then(null,()=>{})}_makeProgressCallback(){const D=this._transferred;return W=>this._updateProgress(D+W)}_shouldDoResumable(D){return D.size()>262144}_start(){"running"===this._state&&void 0===this._request&&(this._resumable?void 0===this._uploadUrl?this._createResumable():this._needToFetchStatus?this._fetchStatus():this._needToFetchMetadata?this._fetchMetadata():this._continueUpload():this._oneShotUpload())}_resolveToken(D){Promise.all([this._ref.storage._getAuthToken(),this._ref.storage._getAppCheckToken()]).then(([W,ee])=>{switch(this._state){case"running":D(W,ee);break;case"canceling":this._transition("canceled");break;case"pausing":this._transition("paused")}})}_createResumable(){this._resolveToken((D,W)=>{const ee=function Mi(y,D,W,ee,ye){const Le=D.bucketOnlyServerUrl(),nt=gi(D,ee,ye),Ut={name:nt.fullPath},Ct=Zt(Le,y.host,y._protocol),Hn={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":`${ee.size()}`,"X-Goog-Upload-Header-Content-Type":nt.contentType,"Content-Type":"application/json; charset=utf-8"},qr=Xt(nt,W),tr=new lr(Ct,"POST",function Yn(Ai){let Er;xi(Ai);try{Er=Ai.getResponseHeader("X-Goog-Upload-URL")}catch(ui){er(!1)}return er(Wn(Er)),Er},y.maxUploadRetryTime);return tr.urlParams=Ut,tr.headers=Hn,tr.body=qr,tr.errorHandler=ot(D),tr}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ye=this._ref.storage._makeRequest(ee,_r,D,W);this._request=ye,ye.getPromise().then(Le=>{this._request=void 0,this._uploadUrl=Le,this._needToFetchStatus=!1,this.completeTransitions_()},this._errorHandler)})}_fetchStatus(){const D=this._uploadUrl;this._resolveToken((W,ee)=>{const ye=function ei(y,D,W,ee){const Ct=new lr(W,"POST",function Le(vn){const Hn=xi(vn,["active","final"]);let qr=null;try{qr=vn.getResponseHeader("X-Goog-Upload-Size-Received")}catch(Yn){er(!1)}qr||er(!1);const fr=Number(qr);return er(!isNaN(fr)),new jr(fr,ee.size(),"final"===Hn)},y.maxUploadRetryTime);return Ct.headers={"X-Goog-Upload-Command":"query"},Ct.errorHandler=ot(D),Ct}(this._ref.storage,this._ref._location,D,this._blob),Le=this._ref.storage._makeRequest(ye,_r,W,ee);this._request=Le,Le.getPromise().then(nt=>{nt=nt,this._request=void 0,this._updateProgress(nt.current),this._needToFetchStatus=!1,nt.finalized&&(this._needToFetchMetadata=!0),this.completeTransitions_()},this._errorHandler)})}_continueUpload(){const D=262144*this._chunkMultiplier,W=new jr(this._transferred,this._blob.size()),ee=this._uploadUrl;this._resolveToken((ye,Le)=>{let nt;try{nt=function cr(y,D,W,ee,ye,Le,nt,Ut){const Ct=new jr(0,0);if(nt?(Ct.current=nt.current,Ct.total=nt.total):(Ct.current=0,Ct.total=ee.size()),ee.size()!==Ct.total)throw function _t(){return new Ce("server-file-wrong-size","Server recorded incorrect upload file size, please retry the upload.")}();const vn=Ct.total-Ct.current;let Hn=vn;ye>0&&(Hn=Math.min(Hn,ye));const qr=Ct.current,tr={"X-Goog-Upload-Command":Hn===vn?"upload, finalize":"upload","X-Goog-Upload-Offset":`${Ct.current}`},Ai=ee.slice(qr,qr+Hn);if(null===Ai)throw sn();const Yr=new lr(W,"POST",function Er(li,Pr){const Rs=xi(li,["active","final"]),po=Ct.current+Hn,Zs=ee.size();let zo;return zo="final"===Rs?ir(D,Le)(li,Pr):null,new jr(po,Zs,"final"===Rs,zo)},D.maxUploadRetryTime);return Yr.headers=tr,Yr.body=Ai.uploadData(),Yr.progressCallback=Ut||null,Yr.errorHandler=ot(y),Yr}(this._ref._location,this._ref.storage,ee,this._blob,D,this._mappings,W,this._makeProgressCallback())}catch(Ct){return this._error=Ct,void this._transition("error")}const Ut=this._ref.storage._makeRequest(nt,_r,ye,Le);this._request=Ut,Ut.getPromise().then(Ct=>{this._increaseMultiplier(),this._request=void 0,this._updateProgress(Ct.current),Ct.finalized?(this._metadata=Ct.metadata,this._transition("success")):this.completeTransitions_()},this._errorHandler)})}_increaseMultiplier(){262144*this._chunkMultiplier<33554432&&(this._chunkMultiplier*=2)}_fetchMetadata(){this._resolveToken((D,W)=>{const ee=on(this._ref.storage,this._ref._location,this._mappings),ye=this._ref.storage._makeRequest(ee,_r,D,W);this._request=ye,ye.getPromise().then(Le=>{this._request=void 0,this._metadata=Le,this._transition("success")},this._metadataErrorHandler)})}_oneShotUpload(){this._resolveToken((D,W)=>{const ee=function hn(y,D,W,ee,ye){const Le=D.bucketOnlyServerUrl(),nt={"X-Goog-Upload-Protocol":"multipart"},Ct=function Ut(){let Yr="";for(let li=0;li<2;li++)Yr+=Math.random().toString().slice(2);return Yr}();nt["Content-Type"]="multipart/related; boundary="+Ct;const vn=gi(D,ee,ye),Hn=Xt(vn,W),Yn=Ft.getBlob("--"+Ct+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+Hn+"\r\n--"+Ct+"\r\nContent-Type: "+vn.contentType+"\r\n\r\n",ee,"\r\n--"+Ct+"--");if(null===Yn)throw sn();const tr={name:vn.fullPath},Ai=Zt(Le,y.host,y._protocol),ui=y.maxUploadRetryTime,$i=new lr(Ai,"POST",ir(y,W),ui);return $i.urlParams=tr,$i.headers=nt,$i.body=Yn.uploadData(),$i.errorHandler=ot(D),$i}(this._ref.storage,this._ref._location,this._mappings,this._blob,this._metadata),ye=this._ref.storage._makeRequest(ee,_r,D,W);this._request=ye,ye.getPromise().then(Le=>{this._request=void 0,this._metadata=Le,this._updateProgress(this._blob.size()),this._transition("success")},this._errorHandler)})}_updateProgress(D){const W=this._transferred;this._transferred=D,this._transferred!==W&&this._notifyObservers()}_transition(D){if(this._state!==D)switch(D){case"canceling":case"pausing":this._state=D,void 0!==this._request&&this._request.cancel();break;case"running":const W="paused"===this._state;this._state=D,W&&(this._notifyObservers(),this._start());break;case"paused":case"error":case"success":this._state=D,this._notifyObservers();break;case"canceled":this._error=rt(),this._state=D,this._notifyObservers()}}completeTransitions_(){switch(this._state){case"pausing":this._transition("paused");break;case"canceling":this._transition("canceled");break;case"running":this._start()}}get snapshot(){const D=Fn(this._state);return{bytesTransferred:this._transferred,totalBytes:this._blob.size(),state:D,metadata:this._metadata,task:this,ref:this._ref}}on(D,W,ee,ye){const Le=new es(W||void 0,ee||void 0,ye||void 0);return this._addObserver(Le),()=>{this._removeObserver(Le)}}then(D,W){return this._promise.then(D,W)}catch(D){return this.then(null,D)}_addObserver(D){this._observers.push(D),this._notifyObserver(D)}_removeObserver(D){const W=this._observers.indexOf(D);-1!==W&&this._observers.splice(W,1)}_notifyObservers(){this._finishPromise(),this._observers.slice().forEach(W=>{this._notifyObserver(W)})}_finishPromise(){if(void 0!==this._resolve){let D=!0;switch(Fn(this._state)){case Pn.SUCCESS:yr(this._resolve.bind(null,this.snapshot))();break;case Pn.CANCELED:case Pn.ERROR:yr(this._reject.bind(null,this._error))();break;default:D=!1}D&&(this._resolve=void 0,this._reject=void 0)}}_notifyObserver(D){switch(Fn(this._state)){case Pn.RUNNING:case Pn.PAUSED:D.next&&yr(D.next.bind(D,this.snapshot))();break;case Pn.SUCCESS:D.complete&&yr(D.complete.bind(D))();break;default:D.error&&yr(D.error.bind(D,this._error))()}}resume(){const D="paused"===this._state||"pausing"===this._state;return D&&this._transition("running"),D}pause(){const D="running"===this._state;return D&&this._transition("pausing"),D}cancel(){const D="running"===this._state||"pausing"===this._state;return D&&this._transition("canceling"),D}}class Sn{constructor(D,W){this._service=D,this._location=W instanceof kt?W:kt.makeFromUrl(W,D.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(D,W){return new Sn(D,W)}get root(){const D=new kt(this._location.bucket,"");return this._newRef(this._service,D)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return se(this._location.path)}get storage(){return this._service}get parent(){const D=function qt(y){if(0===y.length)return null;const D=y.lastIndexOf("/");return-1===D?"":y.slice(0,D)}(this._location.path);if(null===D)return null;const W=new kt(this._location.bucket,D);return new Sn(this._service,W)}_throwIfRoot(D){if(""===this._location.path)throw Tn(D)}}function ht(y,D,W){return Lt.apply(this,arguments)}function Lt(){return(Lt=(0,qe.Z)(function*(y,D,W){const ye=yield Ln(y,{pageToken:W});D.prefixes.push(...ye.prefixes),D.items.push(...ye.items),null!=ye.nextPageToken&&(yield ht(y,D,ye.nextPageToken))})).apply(this,arguments)}function Ln(y,D){null!=D&&"number"==typeof D.maxResults&&Vt("options.maxResults",1,1e3,D.maxResults);const W=D||{},ee=sr(y.storage,y._location,"/",W.pageToken,W.maxResults);return y.storage.makeRequestWithTokens(ee,_r)}function mi(y){y._throwIfRoot("getDownloadURL");const D=function dr(y,D,W){const ye=Zt(D.fullServerUrl(),y.host,y._protocol),nt=y.maxOperationRetryTime,Ut=new lr(ye,"GET",function Hr(y,D){return function W(ee,ye){const Le=En(y,ye,D);return er(null!==Le),function Rn(y,D,W,ee){const ye=gn(D);if(null===ye||!Wn(ye.downloadTokens))return null;const Le=ye.downloadTokens;if(0===Le.length)return null;const nt=encodeURIComponent;return Le.split(",").map(vn=>{const qr=y.fullPath;return Zt("/b/"+nt(y.bucket)+"/o/"+nt(qr),W,ee)+An({alt:"media",token:vn})})[0]}(Le,ye,y.host,y._protocol)}}(y,W),nt);return Ut.errorHandler=Ot(D),Ut}(y.storage,y._location,Ht());return y.storage.makeRequestWithTokens(D,_r).then(W=>{if(null===W)throw function ct(){return new Ce("no-download-url","The given file does not have any download URLs.")}();return W})}function yi(y,D){const W=function he(y,D){const W=D.split("/").filter(ee=>ee.length>0).join("/");return 0===y.length?W:y+"/"+W}(y._location.path,D),ee=new kt(y._location.bucket,W);return new Sn(y.storage,ee)}function Q(y,D){if(y instanceof De){const W=y;if(null==W._bucket)throw function $t(){return new Ce("no-default-bucket","No default bucket found. Did you set the '"+Tt+"' property when initializing the app?")}();const ee=new Sn(W,W._bucket);return null!=D?Q(ee,D):ee}return void 0!==D?yi(y,D):y}function ne(y,D){if(D&&function Zi(y){return/^[A-Za-z]+:\/\//.test(y)}(D)){if(y instanceof De)return function Ti(y,D){return new Sn(y,D)}(y,D);throw Qt("To use ref(service, url), the first argument must be a Storage instance.")}return Q(y,D)}function $(y,D){const W=null==D?void 0:D[Tt];return null==W?null:kt.makeFromBucketSpec(W,y)}class De{constructor(D,W,ee,ye,Le){this.app=D,this._authProvider=W,this._appCheckProvider=ee,this._url=ye,this._firebaseVersion=Le,this._bucket=null,this._host=Je,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=12e4,this._maxUploadRetryTime=6e5,this._requests=new Set,this._bucket=null!=ye?kt.makeFromBucketSpec(ye,this._host):$(this._host,this.app.options)}get host(){return this._host}set host(D){this._host=D,this._bucket=null!=this._url?kt.makeFromBucketSpec(this._url,D):$(D,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(D){Vt("time",0,Number.POSITIVE_INFINITY,D),this._maxUploadRetryTime=D}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(D){Vt("time",0,Number.POSITIVE_INFINITY,D),this._maxOperationRetryTime=D}_getAuthToken(){var D=this;return(0,qe.Z)(function*(){if(D._overrideAuthToken)return D._overrideAuthToken;const W=D._authProvider.getImmediate({optional:!0});if(W){const ee=yield W.getToken();if(null!==ee)return ee.accessToken}return null})()}_getAppCheckToken(){var D=this;return(0,qe.Z)(function*(){const W=D._appCheckProvider.getImmediate({optional:!0});return W?(yield W.getToken()).token:null})()}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(D=>D.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(D){return new Sn(this,D)}_makeRequest(D,W,ee,ye){if(this._deleted)return new yn(Pt());{const Le=function wt(y,D,W,ee,ye,Le){const nt=An(y.urlParams),Ut=y.url+nt,Ct=Object.assign({},y.headers);return function ri(y,D){D&&(y["X-Firebase-GMPID"]=D)}(Ct,D),function ur(y,D){null!==D&&D.length>0&&(y.Authorization="Firebase "+D)}(Ct,W),function Fr(y,D){y["X-Firebase-Storage-Version"]="webjs/"+(null!=D?D:"AppManager")}(Ct,Le),function $r(y,D){null!==D&&(y["X-Firebase-AppCheck"]=D)}(Ct,ee),new Br(Ut,y.method,Ct,y.body,y.successCodes,y.additionalRetryCodes,y.handler,y.errorHandler,y.timeout,y.progressCallback,ye)}(D,this._appId,ee,ye,W,this._firebaseVersion);return this._requests.add(Le),Le.getPromise().then(()=>this._requests.delete(Le),()=>this._requests.delete(Le)),Le}}makeRequestWithTokens(D,W){var ee=this;return(0,qe.Z)(function*(){const[ye,Le]=yield Promise.all([ee._getAuthToken(),ee._getAppCheckToken()]);return ee._makeRequest(D,W,ye,Le).getPromise()})()}}const ut="@firebase/storage";function Es(y,D){return ne(y=(0,at.m9)(y),D)}function vr(y,{instanceIdentifier:D}){const W=y.getProvider("app").getImmediate(),ee=y.getProvider("auth-internal"),ye=y.getProvider("app-check-internal");return new De(W,ee,ye,D,Xe.SDK_VERSION)}!function P(){(0,Xe._registerComponent)(new Ge.wA("storage",vr,"PUBLIC").setMultipleInstances(!0)),(0,Xe.registerVersion)(ut,"0.9.4",""),(0,Xe.registerVersion)(ut,"0.9.4","esm2017")}();class H{constructor(D,W,ee){this._delegate=D,this.task=W,this.ref=ee}get bytesTransferred(){return this._delegate.bytesTransferred}get metadata(){return this._delegate.metadata}get state(){return this._delegate.state}get totalBytes(){return this._delegate.totalBytes}}class O{constructor(D,W){this._delegate=D,this._ref=W,this.cancel=this._delegate.cancel.bind(this._delegate),this.catch=this._delegate.catch.bind(this._delegate),this.pause=this._delegate.pause.bind(this._delegate),this.resume=this._delegate.resume.bind(this._delegate)}get snapshot(){return new H(this._delegate.snapshot,this,this._ref)}then(D,W){return this._delegate.then(ee=>{if(D)return D(new H(ee,this,this._ref))},W)}on(D,W,ee,ye){let Le;return W&&(Le="function"==typeof W?nt=>W(new H(nt,this,this._ref)):{next:W.next?nt=>W.next(new H(nt,this,this._ref)):void 0,complete:W.complete||void 0,error:W.error||void 0}),this._delegate.on(D,Le,ee||void 0,ye||void 0)}}class K{constructor(D,W){this._delegate=D,this._service=W}get prefixes(){return this._delegate.prefixes.map(D=>new de(D,this._service))}get items(){return this._delegate.items.map(D=>new de(D,this._service))}get nextPageToken(){return this._delegate.nextPageToken||null}}class de{constructor(D,W){this._delegate=D,this.storage=W}get name(){return this._delegate.name}get bucket(){return this._delegate.bucket}get fullPath(){return this._delegate.fullPath}toString(){return this._delegate.toString()}child(D){const W=function ws(y,D){return yi(y,D)}(this._delegate,D);return new de(W,this.storage)}get root(){return new de(this._delegate.root,this.storage)}get parent(){const D=this._delegate.parent;return null==D?null:new de(D,this.storage)}put(D,W){return this._throwIfRoot("put"),new O(function Ri(y,D,W){return function me(y,D,W){return y._throwIfRoot("uploadBytesResumable"),new _s(y,new Ft(D),W)}(y=(0,at.m9)(y),D,W)}(this._delegate,D,W),this)}putString(D,W=fn.RAW,ee){this._throwIfRoot("putString");const ye=Ir(W,D),Le=Object.assign({},ee);return null==Le.contentType&&null!=ye.contentType&&(Le.contentType=ye.contentType),new O(new _s(this._delegate,new Ft(ye.data,!0),Le),this)}listAll(){return function Ur(y){return function Ye(y){const D={prefixes:[],items:[]};return ht(y,D).then(()=>D)}(y=(0,at.m9)(y))}(this._delegate).then(D=>new K(D,this.storage))}list(D){return function ai(y,D){return Ln(y=(0,at.m9)(y),D)}(this._delegate,D||void 0).then(W=>new K(W,this.storage))}getMetadata(){return function vs(y){return function Rr(y){y._throwIfRoot("getMetadata");const D=on(y.storage,y._location,Ht());return y.storage.makeRequestWithTokens(D,_r)}(y=(0,at.m9)(y))}(this._delegate)}updateMetadata(D){return function Vs(y,D){return function Un(y,D){y._throwIfRoot("updateMetadata");const W=function si(y,D,W,ee){const Le=Zt(D.fullServerUrl(),y.host,y._protocol),Ut=Xt(W,ee),vn=y.maxOperationRetryTime,Hn=new lr(Le,"PATCH",ir(y,ee),vn);return Hn.headers={"Content-Type":"application/json; charset=utf-8"},Hn.body=Ut,Hn.errorHandler=Ot(D),Hn}(y.storage,y._location,D,Ht());return y.storage.makeRequestWithTokens(W,_r)}(y=(0,at.m9)(y),D)}(this._delegate,D)}getDownloadURL(){return function Oi(y){return mi(y=(0,at.m9)(y))}(this._delegate)}delete(){return this._throwIfRoot("delete"),function Ms(y){return function Bi(y){y._throwIfRoot("deleteObject");const D=function On(y,D){const ee=Zt(D.fullServerUrl(),y.host,y._protocol),Ut=new lr(ee,"DELETE",function nt(Ct,vn){},y.maxOperationRetryTime);return Ut.successCodes=[200,204],Ut.errorHandler=Ot(D),Ut}(y.storage,y._location);return y.storage.makeRequestWithTokens(D,_r)}(y=(0,at.m9)(y))}(this._delegate)}_throwIfRoot(D){if(""===this._delegate._location.path)throw Tn(D)}}class ze{constructor(D,W){this.app=D,this._delegate=W}get maxOperationRetryTime(){return this._delegate.maxOperationRetryTime}get maxUploadRetryTime(){return this._delegate.maxUploadRetryTime}ref(D){if(Ke(D))throw Qt("ref() expected a child path but got a URL, use refFromURL instead.");return new de(Es(this._delegate,D),this)}refFromURL(D){if(!Ke(D))throw Qt("refFromURL() expected a full URL but got a child path, use ref() instead.");try{kt.makeFromUrl(D,this._delegate.host)}catch(W){throw Qt("refFromUrl() expected a valid full URL but got an invalid one.")}return new de(Es(this._delegate,D),this)}setMaxUploadRetryTime(D){this._delegate.maxUploadRetryTime=D}setMaxOperationRetryTime(D){this._delegate.maxOperationRetryTime=D}useEmulator(D,W,ee={}){!function Jr(y,D,W,ee={}){!function te(y,D,W,ee={}){y.host=`${D}:${W}`,y._protocol="http";const{mockUserToken:ye}=ee;ye&&(y._overrideAuthToken="string"==typeof ye?ye:(0,at.Sg)(ye,y.app.options.projectId))}(y,D,W,ee)}(this._delegate,D,W,ee)}}function Ke(y){return/^[A-Za-z]+:\/\//.test(y)}function _n(y,{instanceIdentifier:D}){const W=y.getProvider("app-compat").getImmediate(),ee=y.getProvider("storage").getImmediate({identifier:D});return new ze(W,ee)}!function bn(y){const D={TaskState:Pn,TaskEvent:br,StringFormat:fn,Storage:ze,Reference:de};y.INTERNAL.registerComponent(new Ge.wA("storage-compat",_n,"PUBLIC").setServiceProps(D).setMultipleInstances(!0)),y.registerVersion("@firebase/storage-compat","0.1.12")}(ft.Z);var Or=L(440),ar=L(127);function ji(y){const D=function hr(y){return new g.y(D=>{const W=nt=>D.next(nt);W(y.snapshot);const Le=y.on("state_changed",W);return y.then(nt=>{W(nt),D.complete()},nt=>{W(y.snapshot),(nt=>{D.error(nt)})(nt)}),function(){Le()}}).pipe(function Te(y,D=pe.z){return(0,ce.e)((W,ee)=>{let ye=null,Le=null,nt=null;const Ut=()=>{if(ye){ye.unsubscribe(),ye=null;const vn=Le;Le=null,ee.next(vn)}};function Ct(){const vn=nt+y,Hn=D.now();if(Hn<vn)return ye=this.schedule(void 0,vn-Hn),void ee.add(ye);Ut()}W.subscribe((0,we.x)(ee,vn=>{Le=vn,nt=D.now(),ye||(ye=D.schedule(Ct,y),ee.add(ye))},()=>{Ut(),ee.complete()},void 0,()=>{Le=ye=null}))})}(0))}(y);return{task:y,then:y.then.bind(y),catch:y.catch.bind(y),pause:y.pause.bind(y),cancel:y.cancel.bind(y),resume:y.resume.bind(y),snapshotChanges:()=>D,percentageChanges:()=>D.pipe((0,Ae.U)(W=>W.bytesTransferred/W.totalBytes*100))}}function Xr(y){return{getDownloadURL:()=>(0,p.of)(void 0).pipe(le.fc,(0,Me.w)(()=>y.getDownloadURL()),le.iC),getMetadata:()=>(0,p.of)(void 0).pipe(le.fc,(0,Me.w)(()=>y.getMetadata()),le.iC),delete:()=>(0,Y.D)(y.delete()),child:D=>Xr(y.child(D)),updateMetadata:D=>(0,Y.D)(y.updateMetadata(D)),put:(D,W)=>ji(y.put(D,W)),putString:(D,W,ee)=>ji(y.putString(D,W,ee)),list:D=>(0,Y.D)(y.list(D)),listAll:()=>(0,Y.D)(y.listAll())}}const un=new ie.OlP("angularfire2.storageBucket"),zi=new ie.OlP("angularfire2.storage.maxUploadRetryTime"),Wi=new ie.OlP("angularfire2.storage.maxOperationRetryTime"),Gs=new ie.OlP("angularfire2.storage.use-emulator");let Bs=(()=>{class y{constructor(W,ee,ye,Le,nt,Ut,Ct,vn,Hn,qr){const fr=(0,Se.on)(W,nt,ee);this.storage=(0,Se.cc)(`${fr.name}.storage.${ye}`,"AngularFireStorage",fr.name,()=>{const Yn=nt.runOutsideAngular(()=>fr.storage(ye||void 0)),tr=Hn;return tr&&Yn.useEmulator(...tr),Ct&&Yn.setMaxUploadRetryTime(Ct),vn&&Yn.setMaxOperationRetryTime(vn),Yn},[Ct,vn])}ref(W){return Xr(this.storage.ref(W))}refFromURL(W){return Xr(this.storage.refFromURL(W))}upload(W,ee,ye){return Xr(this.storage.ref(W)).put(ee,ye)}}return y.\u0275fac=function(W){return new(W||y)(ie.LFG(Se.Dh),ie.LFG(Se.xv,8),ie.LFG(un,8),ie.LFG(ie.Lbi),ie.LFG(ie.R0b),ie.LFG(le.HU),ie.LFG(zi,8),ie.LFG(Wi,8),ie.LFG(Gs,8),ie.LFG(Or.nm,8))},y.\u0275prov=ie.Yz7({token:y,factory:y.\u0275fac,providedIn:"any"}),y})(),R=(()=>{class y{}return y.\u0275fac=function(W){return new(W||y)},y.\u0275mod=ie.oAB({type:y}),y.\u0275inj=ie.cJS({}),y})(),M=(()=>{class y{constructor(){ar.Z.registerVersion("angularfire",le.q4.full,"gcs-compat")}}return y.\u0275fac=function(W){return new(W||y)},y.\u0275mod=ie.oAB({type:y}),y.\u0275inj=ie.cJS({providers:[Bs],imports:[R]}),y})()},2011:(St,Be,L)=>{L.d(Be,{hO:()=>ft,xv:()=>Me,Dh:()=>Ae,GT:()=>we,cc:()=>qe,on:()=>le,pX:()=>ce});var g=L(5e3),p=L(127),Y=L(5813);St=L.hmd(St);const pe=["ngOnDestroy"],ce=(Je,Tt,vt,ue={})=>new Proxy(Je,{get:(Ce,We)=>vt.runOutsideAngular(()=>{var st;if(Je[We])return(null===(st=null==ue?void 0:ue.spy)||void 0===st?void 0:st.get)&&ue.spy.get(We,Je[We]),Je[We];if(pe.indexOf(We)>-1)return()=>{};const et=Tt.toPromise().then(Ne=>{const be=Ne&&Ne[We];return"function"==typeof be?be.bind(Ne):be&&be.then?be.then(fe=>vt.run(()=>fe)):vt.run(()=>be)});return new Proxy(()=>{},{get:(Ne,be)=>et[be],apply:(Ne,be,fe)=>et.then(Oe=>{var Ee;const rt=Oe&&Oe(...fe);return(null===(Ee=null==ue?void 0:ue.spy)||void 0===Ee?void 0:Ee.apply)&&ue.spy.apply(We,fe,rt),rt})})})}),we=(Je,Tt)=>{Tt.forEach(vt=>{Object.getOwnPropertyNames(vt.prototype||vt).forEach(ue=>{Object.defineProperty(Je.prototype,ue,Object.getOwnPropertyDescriptor(vt.prototype||vt,ue))})})};class Te{constructor(Tt){return Tt}}const Ae=new g.OlP("angularfire2.app.options"),Me=new g.OlP("angularfire2.app.name");function le(Je,Tt,vt){const Ce="object"==typeof vt&&vt||{};Ce.name=Ce.name||"string"==typeof vt&&vt||"[DEFAULT]";const st=p.Z.apps.filter(et=>et&&et.name===Ce.name)[0]||Tt.runOutsideAngular(()=>p.Z.initializeApp(Je,Ce));try{JSON.stringify(Je)!==JSON.stringify(st.options)&&ie("error",`${st.name} Firebase App already initialized with different options${St.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch(et){}return new Te(st)}const ie=(Je,...Tt)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[Je](...Tt)},Se={provide:Te,useFactory:le,deps:[Ae,g.R0b,[new g.FiY,Me]]};let ft=(()=>{class Je{constructor(vt){p.Z.registerVersion("angularfire",Y.q4.full,"core"),p.Z.registerVersion("angularfire",Y.q4.full,"app-compat"),p.Z.registerVersion("angular",g.q4F.full,vt.toString())}static initializeApp(vt,ue){return{ngModule:Je,providers:[{provide:Ae,useValue:vt},{provide:Me,useValue:ue}]}}}return Je.\u0275fac=function(vt){return new(vt||Je)(g.LFG(g.Lbi))},Je.\u0275mod=g.oAB({type:Je}),Je.\u0275inj=g.cJS({providers:[Se]}),Je})();function qe(Je,Tt,vt,ue,Ce){const[,We,st]=globalThis.\u0275AngularfireInstanceCache.find(et=>et[0]===Je)||[];if(We)return function Xe(Je,Tt){try{return Je.toString()===Tt.toString()}catch(vt){return Je===Tt}}(Ce,st)||(Ge("error",`${Tt} was already initialized on the ${vt} Firebase App with different settings.${at?" You may need to reload as Firebase is not HMR aware.":""}`),Ge("warn",{is:Ce,was:st})),We;{const et=ue();return globalThis.\u0275AngularfireInstanceCache.push([Je,et,Ce]),et}}const at=!!St.hot,Ge=(Je,...Tt)=>{(0,g.X6Q)()&&"undefined"!=typeof console&&console[Je](...Tt)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},5813:(St,Be,L)=>{L.d(Be,{q4:()=>Pa,iC:()=>da,fc:()=>xu,HU:()=>ra,vb:()=>Uo,JM:()=>So});var g=L(5e3),p=L(5867),Y=L(5861),pe=L(9681),ce=L(2090),we=L(4859),Te=L(1877);const Ae="@firebase/installations",ie="w:0.5.7",Se="FIS_v2",Je=new ce.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Tt(x){return x instanceof ce.ZR&&x.code.includes("request-failed")}function vt({projectId:x}){return`https://firebaseinstallations.googleapis.com/v1/projects/${x}/installations`}function ue(x){return{token:x.token,requestStatus:2,expiresIn:fe(x.expiresIn),creationTime:Date.now()}}function Ce(x,N){return We.apply(this,arguments)}function We(){return(We=(0,Y.Z)(function*(x,N){const ae=(yield N.json()).error;return Je.create("request-failed",{requestName:x,serverCode:ae.code,serverMessage:ae.message,serverStatus:ae.status})})).apply(this,arguments)}function st({apiKey:x}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x})}function et(x,{refreshToken:N}){const Z=st(x);return Z.append("Authorization",function Oe(x){return`${Se} ${x}`}(N)),Z}function Ne(x){return be.apply(this,arguments)}function be(){return(be=(0,Y.Z)(function*(x){const N=yield x();return N.status>=500&&N.status<600?x():N})).apply(this,arguments)}function fe(x){return Number(x.replace("s","000"))}function Ee(x,N){return rt.apply(this,arguments)}function rt(){return(rt=(0,Y.Z)(function*({appConfig:x,heartbeatServiceProvider:N},{fid:Z}){const ae=vt(x),Pe=st(x),$e=N.getImmediate({optional:!0});if($e){const Mn=yield $e.getHeartbeatsHeader();Mn&&Pe.append("x-firebase-client",Mn)}const zt={method:"POST",headers:Pe,body:JSON.stringify({fid:Z,authVersion:Se,appId:x.appId,sdkVersion:ie})},an=yield Ne(()=>fetch(ae,zt));if(an.ok){const Mn=yield an.json();return{fid:Mn.fid||Z,registrationStatus:2,refreshToken:Mn.refreshToken,authToken:ue(Mn.authToken)}}throw yield Ce("Create Installation",an)})).apply(this,arguments)}function Ue(x){return new Promise(N=>{setTimeout(N,x)})}const $t=/^[cdef][\w-]{21}$/;function _t(){try{const x=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(x),x[0]=112+x[0]%16;const Z=function ct(x){return function en(x){return btoa(String.fromCharCode(...x)).replace(/\+/g,"-").replace(/\//g,"_")}(x).substr(0,22)}(x);return $t.test(Z)?Z:""}catch(x){return""}}function Qt(x){return`${x.appName}!${x.appId}`}const Pt=new Map;function Tn(x,N){const Z=Qt(x);kt(Z,N),function yn(x,N){const Z=function zn(){return!kn&&"BroadcastChannel"in self&&(kn=new BroadcastChannel("[Firebase] FID Change"),kn.onmessage=x=>{kt(x.data.key,x.data.fid)}),kn}();Z&&Z.postMessage({key:x,fid:N}),function Qr(){0===Pt.size&&kn&&(kn.close(),kn=null)}()}(Z,N)}function kt(x,N){const Z=Pt.get(x);if(Z)for(const ae of Z)ae(N)}let kn=null;const Wn="firebase-installations-store";let xr=null;function jn(){return xr||(xr=(0,ce.X3)("firebase-installations-database",1,(x,N)=>{0===N&&x.createObjectStore(Wn)})),xr}function Vt(x,N){return Zt.apply(this,arguments)}function Zt(){return(Zt=(0,Y.Z)(function*(x,N){const Z=Qt(x),Pe=(yield jn()).transaction(Wn,"readwrite"),$e=Pe.objectStore(Wn),mt=yield $e.get(Z);return yield $e.put(N,Z),yield Pe.complete,(!mt||mt.fid!==N.fid)&&Tn(x,N.fid),N})).apply(this,arguments)}function An(x){return tn.apply(this,arguments)}function tn(){return(tn=(0,Y.Z)(function*(x){const N=Qt(x),ae=(yield jn()).transaction(Wn,"readwrite");yield ae.objectStore(Wn).delete(N),yield ae.complete})).apply(this,arguments)}function Br(x,N){return bi.apply(this,arguments)}function bi(){return(bi=(0,Y.Z)(function*(x,N){const Z=Qt(x),Pe=(yield jn()).transaction(Wn,"readwrite"),$e=Pe.objectStore(Wn),mt=yield $e.get(Z),zt=N(mt);return void 0===zt?yield $e.delete(Z):yield $e.put(zt,Z),yield Pe.complete,zt&&(!mt||mt.fid!==zt.fid)&&Tn(x,zt.fid),zt})).apply(this,arguments)}function ur(x){return Fr.apply(this,arguments)}function Fr(){return(Fr=(0,Y.Z)(function*(x){let N;const Z=yield Br(x.appConfig,ae=>{const Pe=ri(ae),$e=$r(x,Pe);return N=$e.registrationPromise,$e.installationEntry});return""===Z.fid?{installationEntry:yield N}:{installationEntry:Z,registrationPromise:N}})).apply(this,arguments)}function ri(x){return fn(x||{fid:_t(),registrationStatus:0})}function $r(x,N){if(0===N.registrationStatus){if(!navigator.onLine)return{installationEntry:N,registrationPromise:Promise.reject(Je.create("app-offline"))};const Z={fid:N.fid,registrationStatus:1,registrationTime:Date.now()},ae=function wt(x,N){return Nt.apply(this,arguments)}(x,Z);return{installationEntry:Z,registrationPromise:ae}}return 1===N.registrationStatus?{installationEntry:N,registrationPromise:Gt(x)}:{installationEntry:N}}function Nt(){return(Nt=(0,Y.Z)(function*(x,N){try{const Z=yield Ee(x,N);return Vt(x.appConfig,Z)}catch(Z){throw Tt(Z)&&409===Z.customData.serverCode?yield An(x.appConfig):yield Vt(x.appConfig,{fid:N.fid,registrationStatus:0}),Z}})).apply(this,arguments)}function Gt(x){return gr.apply(this,arguments)}function gr(){return(gr=(0,Y.Z)(function*(x){let N=yield Kr(x.appConfig);for(;1===N.registrationStatus;)yield Ue(100),N=yield Kr(x.appConfig);if(0===N.registrationStatus){const{installationEntry:Z,registrationPromise:ae}=yield ur(x);return ae||Z}return N})).apply(this,arguments)}function Kr(x){return Br(x,N=>{if(!N)throw Je.create("installation-not-found");return fn(N)})}function fn(x){return function Di(x){return 1===x.registrationStatus&&x.registrationTime+1e4<Date.now()}(x)?{fid:x.fid,registrationStatus:0}:x}function Ir(x,N){return Xn.apply(this,arguments)}function Xn(){return(Xn=(0,Y.Z)(function*({appConfig:x,heartbeatServiceProvider:N},Z){const ae=Kt(x,Z),Pe=et(x,Z),$e=N.getImmediate({optional:!0});if($e){const Mn=yield $e.getHeartbeatsHeader();Mn&&Pe.append("x-firebase-client",Mn)}const zt={method:"POST",headers:Pe,body:JSON.stringify({installation:{sdkVersion:ie,appId:x.appId}})},an=yield Ne(()=>fetch(ae,zt));if(an.ok)return ue(yield an.json());throw yield Ce("Generate Auth Token",an)})).apply(this,arguments)}function Kt(x,{fid:N}){return`${vt(x)}/${N}/authTokens:generate`}function Mr(x){return wn.apply(this,arguments)}function wn(){return(wn=(0,Y.Z)(function*(x,N=!1){let Z;const ae=yield Br(x.appConfig,$e=>{if(!qt($e))throw Je.create("not-registered");const mt=$e.authToken;if(!N&&he(mt))return $e;if(1===mt.requestStatus)return Z=Mt(x,N),$e;{if(!navigator.onLine)throw Je.create("app-offline");const zt=ge($e);return Z=Ft(x,zt),zt}});return Z?yield Z:ae.authToken})).apply(this,arguments)}function Mt(x,N){return Qe.apply(this,arguments)}function Qe(){return(Qe=(0,Y.Z)(function*(x,N){let Z=yield bt(x.appConfig);for(;1===Z.authToken.requestStatus;)yield Ue(100),Z=yield bt(x.appConfig);const ae=Z.authToken;return 0===ae.requestStatus?Mr(x,N):ae})).apply(this,arguments)}function bt(x){return Br(x,N=>{if(!qt(N))throw Je.create("not-registered");return function Ve(x){return 1===x.requestStatus&&x.requestTime+1e4<Date.now()}(N.authToken)?Object.assign(Object.assign({},N),{authToken:{requestStatus:0}}):N})}function Ft(x,N){return gn.apply(this,arguments)}function gn(){return(gn=(0,Y.Z)(function*(x,N){try{const Z=yield Ir(x,N),ae=Object.assign(Object.assign({},N),{authToken:Z});return yield Vt(x.appConfig,ae),Z}catch(Z){if(!Tt(Z)||401!==Z.customData.serverCode&&404!==Z.customData.serverCode){const ae=Object.assign(Object.assign({},N),{authToken:{requestStatus:0}});yield Vt(x.appConfig,ae)}else yield An(x.appConfig);throw Z}})).apply(this,arguments)}function qt(x){return void 0!==x&&2===x.registrationStatus}function he(x){return 2===x.requestStatus&&!function se(x){const N=Date.now();return N<x.creationTime||x.creationTime+x.expiresIn<N+36e5}(x)}function ge(x){const N={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},x),{authToken:N})}function yt(){return(yt=(0,Y.Z)(function*(x){const N=x,{installationEntry:Z,registrationPromise:ae}=yield ur(N);return ae?ae.catch(console.error):Mr(N).catch(console.error),Z.fid})).apply(this,arguments)}function In(){return(In=(0,Y.Z)(function*(x,N=!1){const Z=x;return yield Jt(Z),(yield Mr(Z,N)).token})).apply(this,arguments)}function Jt(x){return En.apply(this,arguments)}function En(){return(En=(0,Y.Z)(function*(x){const{registrationPromise:N}=yield ur(x);N&&(yield N)})).apply(this,arguments)}function ir(x){return Je.create("missing-app-config-values",{valueName:x})}const pi="installations",ot=x=>{const N=x.getProvider("app").getImmediate(),Z=function er(x){if(!x||!x.options)throw ir("App Configuration");if(!x.name)throw ir("App Name");const N=["projectId","apiKey","appId"];for(const Z of N)if(!x.options[Z])throw ir(Z);return{appName:x.name,projectId:x.options.projectId,apiKey:x.options.apiKey,appId:x.options.appId}}(N);return{app:N,appConfig:Z,heartbeatServiceProvider:(0,pe._getProvider)(N,"heartbeat"),_delete:()=>Promise.resolve()}},Ot=x=>{const N=x.getProvider("app").getImmediate(),Z=(0,pe._getProvider)(N,pi).getImmediate();return{getId:()=>function Re(x){return yt.apply(this,arguments)}(Z),getToken:Pe=>function Ht(x){return In.apply(this,arguments)}(Z,Pe)}};(function on(){(0,pe._registerComponent)(new we.wA(pi,ot,"PUBLIC")),(0,pe._registerComponent)(new we.wA("installations-internal",Ot,"PRIVATE"))})(),(0,pe.registerVersion)(Ae,"0.5.7"),(0,pe.registerVersion)(Ae,"0.5.7","esm2017");const sr="@firebase/remote-config",mr=new ce.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Vi{constructor(N,Z,ae,Pe){this.client=N,this.storage=Z,this.storageCache=ae,this.logger=Pe}isCachedDataFresh(N,Z){if(!Z)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const ae=Date.now()-Z,Pe=ae<=N;return this.logger.debug(`Config fetch cache check. Cache age millis: ${ae}. Cache max age millis (minimumFetchIntervalMillis setting): ${N}. Is cache hit: ${Pe}.`),Pe}fetch(N){var Z=this;return(0,Y.Z)(function*(){const[ae,Pe]=yield Promise.all([Z.storage.getLastSuccessfulFetchTimestampMillis(),Z.storage.getLastSuccessfulFetchResponse()]);if(Pe&&Z.isCachedDataFresh(N.cacheMaxAgeMillis,ae))return Pe;N.eTag=Pe&&Pe.eTag;const $e=yield Z.client.fetch(N),mt=[Z.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===$e.status&&mt.push(Z.storage.setLastSuccessfulFetchResponse($e)),yield Promise.all(mt),$e})()}}function ys(x=navigator){return x.languages&&x.languages[0]||x.language}class _s{constructor(N,Z,ae,Pe,$e,mt){this.firebaseInstallations=N,this.sdkVersion=Z,this.namespace=ae,this.projectId=Pe,this.apiKey=$e,this.appId=mt}fetch(N){var Z=this;return(0,Y.Z)(function*(){const[ae,Pe]=yield Promise.all([Z.firebaseInstallations.getId(),Z.firebaseInstallations.getToken()]),mt=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${Z.projectId}/namespaces/${Z.namespace}:fetch?key=${Z.apiKey}`,zt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":N.eTag||"*"},an={sdk_version:Z.sdkVersion,app_instance_id:ae,app_instance_id_token:Pe,app_id:Z.appId,language_code:ys()},Mn={method:"POST",headers:zt,body:JSON.stringify(an)},Vn=fetch(mt,Mn),Nn=new Promise((Hs,wo)=>{N.signal.addEventListener(()=>{const Ei=new Error("The operation was aborted.");Ei.name="AbortError",wo(Ei)})});let ns;try{yield Promise.race([Vn,Nn]),ns=yield Vn}catch(Hs){let wo="fetch-client-network";throw"AbortError"===Hs.name&&(wo="fetch-timeout"),mr.create(wo,{originalErrorMessage:Hs.message})}let ki=ns.status;const uo=ns.headers.get("ETag")||void 0;let Ru,$s;if(200===ns.status){let Hs;try{Hs=yield ns.json()}catch(wo){throw mr.create("fetch-client-parse",{originalErrorMessage:wo.message})}Ru=Hs.entries,$s=Hs.state}if("INSTANCE_STATE_UNSPECIFIED"===$s?ki=500:"NO_CHANGE"===$s?ki=304:("NO_TEMPLATE"===$s||"EMPTY_CONFIG"===$s)&&(Ru={}),304!==ki&&200!==ki)throw mr.create("fetch-status",{httpStatus:ki});return{status:ki,eTag:uo,config:Ru}})()}}class xs{constructor(N,Z){this.client=N,this.storage=Z}fetch(N){var Z=this;return(0,Y.Z)(function*(){const ae=(yield Z.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return Z.attemptFetch(N,ae)})()}attemptFetch(N,{throttleEndTimeMillis:Z,backoffCount:ae}){var Pe=this;return(0,Y.Z)(function*(){yield function Sn(x,N){return new Promise((Z,ae)=>{const Pe=Math.max(N-Date.now(),0),$e=setTimeout(Z,Pe);x.addEventListener(()=>{clearTimeout($e),ae(mr.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}(N.signal,Z);try{const $e=yield Pe.client.fetch(N);return yield Pe.storage.deleteThrottleMetadata(),$e}catch($e){if(!function Ss(x){if(!(x instanceof ce.ZR&&x.customData))return!1;const N=Number(x.customData.httpStatus);return 429===N||500===N||503===N||504===N}($e))throw $e;const mt={throttleEndTimeMillis:Date.now()+(0,ce.$s)(ae),backoffCount:ae+1};return yield Pe.storage.setThrottleMetadata(mt),Pe.attemptFetch(N,mt)}})()}}class Fe{constructor(N,Z,ae,Pe,$e){this.app=N,this._client=Z,this._storageCache=ae,this._storage=Pe,this._logger=$e,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Ye(x,N){const Z=x.target.error||void 0;return mr.create(N,{originalErrorMessage:Z&&Z.message})}const ht="app_namespace_store";class Un{constructor(N,Z,ae,Pe=function Rr(){return new Promise((x,N)=>{try{const Z=indexedDB.open("firebase_remote_config",1);Z.onerror=ae=>{N(Ye(ae,"storage-open"))},Z.onsuccess=ae=>{x(ae.target.result)},Z.onupgradeneeded=ae=>{0===ae.oldVersion&&ae.target.result.createObjectStore(ht,{keyPath:"compositeKey"})}}catch(Z){N(mr.create("storage-open",{originalErrorMessage:Z}))}})}()){this.appId=N,this.appName=Z,this.namespace=ae,this.openDbPromise=Pe}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(N){return this.set("last_fetch_status",N)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(N){return this.set("last_successful_fetch_timestamp_millis",N)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(N){return this.set("last_successful_fetch_response",N)}getActiveConfig(){return this.get("active_config")}setActiveConfig(N){return this.set("active_config",N)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(N){return this.set("active_config_etag",N)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(N){return this.set("throttle_metadata",N)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(N){var Z=this;return(0,Y.Z)(function*(){const ae=yield Z.openDbPromise;return new Promise((Pe,$e)=>{const zt=ae.transaction([ht],"readonly").objectStore(ht),an=Z.createCompositeKey(N);try{const Mn=zt.get(an);Mn.onerror=Vn=>{$e(Ye(Vn,"storage-get"))},Mn.onsuccess=Vn=>{const Nn=Vn.target.result;Pe(Nn?Nn.value:void 0)}}catch(Mn){$e(mr.create("storage-get",{originalErrorMessage:Mn&&Mn.message}))}})})()}set(N,Z){var ae=this;return(0,Y.Z)(function*(){const Pe=yield ae.openDbPromise;return new Promise(($e,mt)=>{const an=Pe.transaction([ht],"readwrite").objectStore(ht),Mn=ae.createCompositeKey(N);try{const Vn=an.put({compositeKey:Mn,value:Z});Vn.onerror=Nn=>{mt(Ye(Nn,"storage-set"))},Vn.onsuccess=()=>{$e()}}catch(Vn){mt(mr.create("storage-set",{originalErrorMessage:Vn&&Vn.message}))}})})()}delete(N){var Z=this;return(0,Y.Z)(function*(){const ae=yield Z.openDbPromise;return new Promise((Pe,$e)=>{const zt=ae.transaction([ht],"readwrite").objectStore(ht),an=Z.createCompositeKey(N);try{const Mn=zt.delete(an);Mn.onerror=Vn=>{$e(Ye(Vn,"storage-delete"))},Mn.onsuccess=()=>{Pe()}}catch(Mn){$e(mr.create("storage-delete",{originalErrorMessage:Mn&&Mn.message}))}})})()}createCompositeKey(N){return[this.appId,this.appName,this.namespace,N].join()}}class mi{constructor(N){this.storage=N}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var N=this;return(0,Y.Z)(function*(){const Z=N.storage.getLastFetchStatus(),ae=N.storage.getLastSuccessfulFetchTimestampMillis(),Pe=N.storage.getActiveConfig(),$e=yield Z;$e&&(N.lastFetchStatus=$e);const mt=yield ae;mt&&(N.lastSuccessfulFetchTimestampMillis=mt);const zt=yield Pe;zt&&(N.activeConfig=zt)})()}setLastFetchStatus(N){return this.lastFetchStatus=N,this.storage.setLastFetchStatus(N)}setLastSuccessfulFetchTimestampMillis(N){return this.lastSuccessfulFetchTimestampMillis=N,this.storage.setLastSuccessfulFetchTimestampMillis(N)}setActiveConfig(N){return this.activeConfig=N,this.storage.setActiveConfig(N)}}function Ti(){return Q.apply(this,arguments)}function Q(){return(Q=(0,Y.Z)(function*(){if(!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(x){return!1}})).apply(this,arguments)}!function Bi(){(0,pe._registerComponent)(new we.wA("remote-config",function x(N,{instanceIdentifier:Z}){const ae=N.getProvider("app").getImmediate(),Pe=N.getProvider("installations-internal").getImmediate();if("undefined"==typeof window)throw mr.create("registration-window");if(!(0,ce.hl)())throw mr.create("indexed-db-unavailable");const{projectId:$e,apiKey:mt,appId:zt}=ae.options;if(!$e)throw mr.create("registration-project-id");if(!mt)throw mr.create("registration-api-key");if(!zt)throw mr.create("registration-app-id");const an=new Un(zt,ae.name,Z=Z||"firebase"),Mn=new mi(an),Vn=new Te.Yd(sr);Vn.logLevel=Te.in.ERROR;const Nn=new _s(Pe,pe.SDK_VERSION,Z,$e,mt,zt),ns=new xs(Nn,an),ki=new Vi(ns,an,Mn,Vn),uo=new Fe(ae,ki,Mn,an,Vn);return function Pn(x){const N=(0,ce.m9)(x);N._initializePromise||(N._initializePromise=N._storageCache.loadFromStorage().then(()=>{N._isInitializationComplete=!0}))}(uo),uo},"PUBLIC").setMultipleInstances(!0)),(0,pe.registerVersion)(sr,"0.3.6"),(0,pe.registerVersion)(sr,"0.3.6","esm2017")}();const ne="/firebase-messaging-sw.js",$="/firebase-cloud-messaging-push-scope",te="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ut="google.c.a.c_id",Yt="google.c.a.c_l",xn="google.c.a.ts",Zr="google.c.a.e";var ni=(()=>{return(x=ni||(ni={})).PUSH_RECEIVED="push-received",x.NOTIFICATION_CLICKED="notification-clicked",ni;var x})();function Ri(x){const N=new Uint8Array(x);return btoa(String.fromCharCode(...N)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function vs(x){const Z=(x+"=".repeat((4-x.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),ae=atob(Z),Pe=new Uint8Array(ae.length);for(let $e=0;$e<ae.length;++$e)Pe[$e]=ae.charCodeAt($e);return Pe}const Vs="fcm_token_details_db",Ur="fcm_token_object_Store";function Oi(x){return Ms.apply(this,arguments)}function Ms(){return Ms=(0,Y.Z)(function*(x){if("databases"in indexedDB&&!(yield indexedDB.databases()).map($e=>$e.name).includes(Vs))return null;let N=null;return(yield(0,ce.X3)(Vs,5,function(){var ae=(0,Y.Z)(function*(Pe,$e,mt,zt){var an;if($e<2||!Pe.objectStoreNames.contains(Ur))return;const Mn=zt.objectStore(Ur),Vn=yield Mn.index("fcmSenderId").get(x);if(yield Mn.clear(),Vn)if(2===$e){const Nn=Vn;if(!Nn.auth||!Nn.p256dh||!Nn.endpoint)return;N={token:Nn.fcmToken,createTime:null!==(an=Nn.createTime)&&void 0!==an?an:Date.now(),subscriptionOptions:{auth:Nn.auth,p256dh:Nn.p256dh,endpoint:Nn.endpoint,swScope:Nn.swScope,vapidKey:"string"==typeof Nn.vapidKey?Nn.vapidKey:Ri(Nn.vapidKey)}}}else if(3===$e){const Nn=Vn;N={token:Nn.fcmToken,createTime:Nn.createTime,subscriptionOptions:{auth:Ri(Nn.auth),p256dh:Ri(Nn.p256dh),endpoint:Nn.endpoint,swScope:Nn.swScope,vapidKey:Ri(Nn.vapidKey)}}}else if(4===$e){const Nn=Vn;N={token:Nn.fcmToken,createTime:Nn.createTime,subscriptionOptions:{auth:Ri(Nn.auth),p256dh:Ri(Nn.p256dh),endpoint:Nn.endpoint,swScope:Nn.swScope,vapidKey:Ri(Nn.vapidKey)}}}});return function(Pe,$e,mt,zt){return ae.apply(this,arguments)}}())).close(),yield(0,ce.Lj)(Vs),yield(0,ce.Lj)("fcm_vapid_details_db"),yield(0,ce.Lj)("undefined"),Es(N)?N:null}),Ms.apply(this,arguments)}function Es(x){if(!x||!x.subscriptionOptions)return!1;const{subscriptionOptions:N}=x;return"number"==typeof x.createTime&&x.createTime>0&&"string"==typeof x.token&&x.token.length>0&&"string"==typeof N.auth&&N.auth.length>0&&"string"==typeof N.p256dh&&N.p256dh.length>0&&"string"==typeof N.endpoint&&N.endpoint.length>0&&"string"==typeof N.swScope&&N.swScope.length>0&&"string"==typeof N.vapidKey&&N.vapidKey.length>0}const Jr="firebase-messaging-store";let qi=null;function ro(){return qi||(qi=(0,ce.X3)("firebase-messaging-database",1,(x,N)=>{0===N&&x.createObjectStore(Jr)})),qi}function vr(x){return P.apply(this,arguments)}function P(){return(P=(0,Y.Z)(function*(x){const N=ze(x),ae=yield(yield ro()).transaction(Jr).objectStore(Jr).get(N);if(ae)return ae;{const Pe=yield Oi(x.appConfig.senderId);if(Pe)return yield H(x,Pe),Pe}})).apply(this,arguments)}function H(x,N){return O.apply(this,arguments)}function O(){return(O=(0,Y.Z)(function*(x,N){const Z=ze(x),Pe=(yield ro()).transaction(Jr,"readwrite");return yield Pe.objectStore(Jr).put(N,Z),yield Pe.complete,N})).apply(this,arguments)}function K(x){return de.apply(this,arguments)}function de(){return(de=(0,Y.Z)(function*(x){const N=ze(x),ae=(yield ro()).transaction(Jr,"readwrite");yield ae.objectStore(Jr).delete(N),yield ae.complete})).apply(this,arguments)}function ze({appConfig:x}){return x.appId}const Et=new ce.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function or(x,N){return Kn.apply(this,arguments)}function Kn(){return(Kn=(0,Y.Z)(function*(x,N){const Z=yield ji(x),ae=un(N),Pe={method:"POST",headers:Z,body:JSON.stringify(ae)};let $e;try{$e=yield(yield fetch(hr(x.appConfig),Pe)).json()}catch(mt){throw Et.create("token-subscribe-failed",{errorInfo:mt})}if($e.error)throw Et.create("token-subscribe-failed",{errorInfo:$e.error.message});if(!$e.token)throw Et.create("token-subscribe-no-token");return $e.token})).apply(this,arguments)}function _n(x,N){return bn.apply(this,arguments)}function bn(){return(bn=(0,Y.Z)(function*(x,N){const Z=yield ji(x),ae=un(N.subscriptionOptions),Pe={method:"PATCH",headers:Z,body:JSON.stringify(ae)};let $e;try{$e=yield(yield fetch(`${hr(x.appConfig)}/${N.token}`,Pe)).json()}catch(mt){throw Et.create("token-update-failed",{errorInfo:mt})}if($e.error)throw Et.create("token-update-failed",{errorInfo:$e.error.message});if(!$e.token)throw Et.create("token-update-no-token");return $e.token})).apply(this,arguments)}function Or(x,N){return ar.apply(this,arguments)}function ar(){return(ar=(0,Y.Z)(function*(x,N){const ae={method:"DELETE",headers:yield ji(x)};try{const $e=yield(yield fetch(`${hr(x.appConfig)}/${N}`,ae)).json();if($e.error)throw Et.create("token-unsubscribe-failed",{errorInfo:$e.error.message})}catch(Pe){throw Et.create("token-unsubscribe-failed",{errorInfo:Pe})}})).apply(this,arguments)}function hr({projectId:x}){return`https://fcmregistrations.googleapis.com/v1/projects/${x}/registrations`}function ji(x){return Xr.apply(this,arguments)}function Xr(){return(Xr=(0,Y.Z)(function*({appConfig:x,installations:N}){const Z=yield N.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":x.apiKey,"x-goog-firebase-installations-auth":`FIS ${Z}`})})).apply(this,arguments)}function un({p256dh:x,auth:N,endpoint:Z,vapidKey:ae}){const Pe={web:{endpoint:Z,auth:N,p256dh:x}};return ae!==te&&(Pe.web.applicationPubKey=ae),Pe}const zi=6048e5;function Wi(x){return Gs.apply(this,arguments)}function Gs(){return(Gs=(0,Y.Z)(function*(x){const N=yield W(x.swRegistration,x.vapidKey),Z={vapidKey:x.vapidKey,swScope:x.swRegistration.scope,endpoint:N.endpoint,auth:Ri(N.getKey("auth")),p256dh:Ri(N.getKey("p256dh"))},ae=yield vr(x.firebaseDependencies);if(ae){if(ye(ae.subscriptionOptions,Z))return Date.now()>=ae.createTime+zi?R(x,{token:ae.token,createTime:Date.now(),subscriptionOptions:Z}):ae.token;try{yield Or(x.firebaseDependencies,ae.token)}catch(Pe){console.warn(Pe)}return y(x.firebaseDependencies,Z)}return y(x.firebaseDependencies,Z)})).apply(this,arguments)}function Bs(x){return k.apply(this,arguments)}function k(){return(k=(0,Y.Z)(function*(x){const N=yield vr(x.firebaseDependencies);N&&(yield Or(x.firebaseDependencies,N.token),yield K(x.firebaseDependencies));const Z=yield x.swRegistration.pushManager.getSubscription();return!Z||Z.unsubscribe()})).apply(this,arguments)}function R(x,N){return M.apply(this,arguments)}function M(){return(M=(0,Y.Z)(function*(x,N){try{const Z=yield _n(x.firebaseDependencies,N),ae=Object.assign(Object.assign({},N),{token:Z,createTime:Date.now()});return yield H(x.firebaseDependencies,ae),Z}catch(Z){throw yield Bs(x),Z}})).apply(this,arguments)}function y(x,N){return D.apply(this,arguments)}function D(){return(D=(0,Y.Z)(function*(x,N){const ae={token:yield or(x,N),createTime:Date.now(),subscriptionOptions:N};return yield H(x,ae),ae.token})).apply(this,arguments)}function W(x,N){return ee.apply(this,arguments)}function ee(){return(ee=(0,Y.Z)(function*(x,N){return(yield x.pushManager.getSubscription())||x.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:vs(N)})})).apply(this,arguments)}function ye(x,N){return N.vapidKey===x.vapidKey&&N.endpoint===x.endpoint&&N.auth===x.auth&&N.p256dh===x.p256dh}function Le(x){const N={from:x.from,collapseKey:x.collapse_key,messageId:x.fcmMessageId};return function nt(x,N){if(!N.notification)return;x.notification={};const Z=N.notification.title;Z&&(x.notification.title=Z);const ae=N.notification.body;ae&&(x.notification.body=ae);const Pe=N.notification.image;Pe&&(x.notification.image=Pe)}(N,x),function Ut(x,N){!N.data||(x.data=N.data)}(N,x),function Ct(x,N){if(!N.fcmOptions)return;x.fcmOptions={};const Z=N.fcmOptions.link;Z&&(x.fcmOptions.link=Z);const ae=N.fcmOptions.analytics_label;ae&&(x.fcmOptions.analyticsLabel=ae)}(N,x),N}function vn(x){return"object"==typeof x&&!!x&&ut in x}function Hn(x,N){const Z=[];for(let ae=0;ae<x.length;ae++)Z.push(x.charAt(ae)),ae<N.length&&Z.push(N.charAt(ae));return Z.join("")}function fr(x){return Et.create("missing-app-config-values",{valueName:x})}Hn("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),Hn("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Yn{constructor(N,Z,ae){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Pe=function qr(x){if(!x||!x.options)throw fr("App Configuration Object");if(!x.name)throw fr("App Name");const N=["projectId","apiKey","appId","messagingSenderId"],{options:Z}=x;for(const ae of N)if(!Z[ae])throw fr(ae);return{appName:x.name,projectId:Z.projectId,apiKey:Z.apiKey,appId:Z.appId,senderId:Z.messagingSenderId}}(N);this.firebaseDependencies={app:N,appConfig:Pe,installations:Z,analyticsProvider:ae}}_delete(){return Promise.resolve()}}function tr(x){return Ai.apply(this,arguments)}function Ai(){return(Ai=(0,Y.Z)(function*(x){try{x.swRegistration=yield navigator.serviceWorker.register(ne,{scope:$}),x.swRegistration.update().catch(()=>{})}catch(N){throw Et.create("failed-service-worker-registration",{browserErrorMessage:N.message})}})).apply(this,arguments)}function Er(x,N){return ui.apply(this,arguments)}function ui(){return(ui=(0,Y.Z)(function*(x,N){if(!N&&!x.swRegistration&&(yield tr(x)),N||!x.swRegistration){if(!(N instanceof ServiceWorkerRegistration))throw Et.create("invalid-sw-registration");x.swRegistration=N}})).apply(this,arguments)}function $i(x,N){return Yr.apply(this,arguments)}function Yr(){return(Yr=(0,Y.Z)(function*(x,N){N?x.vapidKey=N:x.vapidKey||(x.vapidKey=te)})).apply(this,arguments)}function Pr(){return(Pr=(0,Y.Z)(function*(x,N){if(!navigator)throw Et.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Et.create("permission-blocked");return yield $i(x,null==N?void 0:N.vapidKey),yield Er(x,null==N?void 0:N.serviceWorkerRegistration),Wi(x)})).apply(this,arguments)}function Rs(x,N,Z){return po.apply(this,arguments)}function po(){return(po=(0,Y.Z)(function*(x,N,Z){const ae=Zs(N);(yield x.firebaseDependencies.analyticsProvider.get()).logEvent(ae,{message_id:Z[ut],message_name:Z[Yt],message_time:Z[xn],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function Zs(x){switch(x){case ni.NOTIFICATION_CLICKED:return"notification_open";case ni.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Da(){return(Da=(0,Y.Z)(function*(x,N){const Z=N.data;if(!Z.isFirebaseMessaging)return;x.onMessageHandler&&Z.messageType===ni.PUSH_RECEIVED&&("function"==typeof x.onMessageHandler?x.onMessageHandler(Le(Z)):x.onMessageHandler.next(Le(Z)));const ae=Z.data;vn(ae)&&"1"===ae[Zr]&&(yield Rs(x,Z.messageType,ae))})).apply(this,arguments)}const Wo="@firebase/messaging",Ta=x=>{const N=new Yn(x.getProvider("app").getImmediate(),x.getProvider("installations-internal").getImmediate(),x.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",Z=>function zo(x,N){return Da.apply(this,arguments)}(N,Z)),N},io=x=>{const N=x.getProvider("messaging").getImmediate();return{getToken:ae=>function li(x,N){return Pr.apply(this,arguments)}(N,ae)}};function qs(){return Po.apply(this,arguments)}function Po(){return(Po=(0,Y.Z)(function*(){try{yield(0,ce.eu)()}catch(x){return!1}return"undefined"!=typeof window&&(0,ce.hl)()&&(0,ce.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Aa(){(0,pe._registerComponent)(new we.wA("messaging",Ta,"PUBLIC")),(0,pe._registerComponent)(new we.wA("messaging-internal",io,"PRIVATE")),(0,pe.registerVersion)(Wo,"0.9.11"),(0,pe.registerVersion)(Wo,"0.9.11","esm2017")}();const Ko="analytics",Zl="firebase_id",bo="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Yo="https://www.googletagmanager.com/gtag/js",vi=new Te.Yd("@firebase/analytics");function Hi(x){return Promise.all(x.map(N=>N.catch(Z=>Z)))}function Du(x,N){const Z=document.createElement("script");Z.src=`${Yo}?l=${x}&id=${N}`,Z.async=!0,document.head.appendChild(Z)}function zs(x,N,Z,ae,Pe,$e){return ko.apply(this,arguments)}function ko(){return(ko=(0,Y.Z)(function*(x,N,Z,ae,Pe,$e){const mt=ae[Pe];try{if(mt)yield N[mt];else{const an=(yield Hi(Z)).find(Mn=>Mn.measurementId===Pe);an&&(yield N[an.appId])}}catch(zt){vi.error(zt)}x("config",Pe,$e)})).apply(this,arguments)}function ds(x,N,Z,ae,Pe){return mo.apply(this,arguments)}function mo(){return(mo=(0,Y.Z)(function*(x,N,Z,ae,Pe){try{let $e=[];if(Pe&&Pe.send_to){let mt=Pe.send_to;Array.isArray(mt)||(mt=[mt]);const zt=yield Hi(Z);for(const an of mt){const Mn=zt.find(Nn=>Nn.measurementId===an),Vn=Mn&&N[Mn.appId];if(!Vn){$e=[];break}$e.push(Vn)}}0===$e.length&&($e=Object.values(N)),yield Promise.all($e),x("event",ae,Pe||{})}catch($e){vi.error($e)}})).apply(this,arguments)}function Tu(){const x=window.document.getElementsByTagName("script");for(const N of Object.values(x))if(N.src&&N.src.includes(Yo))return N;return null}const Vr=new ce.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Jo=new class bs{constructor(N={},Z=1e3){this.throttleMetadata=N,this.intervalMillis=Z}getThrottleMetadata(N){return this.throttleMetadata[N]}setThrottleMetadata(N,Z){this.throttleMetadata[N]=Z}deleteThrottleMetadata(N){delete this.throttleMetadata[N]}};function Xo(x){return new Headers({Accept:"application/json","x-goog-api-key":x})}function Ma(x){return zr.apply(this,arguments)}function zr(){return(zr=(0,Y.Z)(function*(x){var N;const{appId:Z,apiKey:ae}=x,Pe={method:"GET",headers:Xo(ae)},$e=bo.replace("{app-id}",Z),mt=yield fetch($e,Pe);if(200!==mt.status&&304!==mt.status){let zt="";try{const an=yield mt.json();(null===(N=an.error)||void 0===N?void 0:N.message)&&(zt=an.error.message)}catch(an){}throw Vr.create("config-fetch-failed",{httpStatus:mt.status,responseMessage:zt})}return mt.json()})).apply(this,arguments)}function ul(x){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,Y.Z)(function*(x,N=Jo,Z){const{appId:ae,apiKey:Pe,measurementId:$e}=x.options;if(!ae)throw Vr.create("no-app-id");if(!Pe){if($e)return{measurementId:$e,appId:ae};throw Vr.create("no-api-key")}const mt=N.getThrottleMetadata(ae)||{backoffCount:0,throttleEndTimeMillis:Date.now()},zt=new Pi;return setTimeout((0,Y.Z)(function*(){zt.abort()}),void 0!==Z?Z:6e4),Ra({appId:ae,apiKey:Pe,measurementId:$e},mt,zt,N)})).apply(this,arguments)}function Ra(x,N,Z){return js.apply(this,arguments)}function js(){return(js=(0,Y.Z)(function*(x,{throttleEndTimeMillis:N,backoffCount:Z},ae,Pe=Jo){const{appId:$e,measurementId:mt}=x;try{yield ql(ae,N)}catch(zt){if(mt)return vi.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mt} provided in the "measurementId" field in the local Firebase config. [${zt.message}]`),{appId:$e,measurementId:mt};throw zt}try{const zt=yield Ma(x);return Pe.deleteThrottleMetadata($e),zt}catch(zt){if(!nu(zt)){if(Pe.deleteThrottleMetadata($e),mt)return vi.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${mt} provided in the "measurementId" field in the local Firebase config. [${zt.message}]`),{appId:$e,measurementId:mt};throw zt}const an=503===Number(zt.customData.httpStatus)?(0,ce.$s)(Z,Pe.intervalMillis,30):(0,ce.$s)(Z,Pe.intervalMillis),Mn={throttleEndTimeMillis:Date.now()+an,backoffCount:Z+1};return Pe.setThrottleMetadata($e,Mn),vi.debug(`Calling attemptFetch again in ${an} millis`),Ra(x,Mn,ae,Pe)}})).apply(this,arguments)}function ql(x,N){return new Promise((Z,ae)=>{const Pe=Math.max(N-Date.now(),0),$e=setTimeout(Z,Pe);x.addEventListener(()=>{clearTimeout($e),ae(Vr.create("fetch-throttle",{throttleEndTimeMillis:N}))})})}function nu(x){if(!(x instanceof ce.ZR&&x.customData))return!1;const N=Number(x.customData.httpStatus);return 429===N||500===N||503===N||504===N}class Pi{constructor(){this.listeners=[]}addEventListener(N){this.listeners.push(N)}abort(){this.listeners.forEach(N=>N())}}function Do(){return Os.apply(this,arguments)}function Os(){return(Os=(0,Y.Z)(function*(){if(!(0,ce.hl)())return vi.warn(Vr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ce.eu)()}catch(x){return vi.warn(Vr.create("indexeddb-unavailable",{errorInfo:x}).message),!1}return!0})).apply(this,arguments)}function so(){return(so=(0,Y.Z)(function*(x,N,Z,ae,Pe,$e,mt){var zt;const an=ul(x);an.then(ki=>{Z[ki.measurementId]=ki.appId,x.options.measurementId&&ki.measurementId!==x.options.measurementId&&vi.warn(`The measurement ID in the local Firebase config (${x.options.measurementId}) does not match the measurement ID fetched from the server (${ki.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(ki=>vi.error(ki)),N.push(an);const Mn=Do().then(ki=>{if(ki)return ae.getId()}),[Vn,Nn]=yield Promise.all([an,Mn]);Tu()||Du($e,Vn.measurementId),Pe("js",new Date);const ns=null!==(zt=null==mt?void 0:mt.config)&&void 0!==zt?zt:{};return ns.origin="firebase",ns.update=!0,null!=Nn&&(ns[Zl]=Nn),Pe("config",Vn.measurementId,ns),Vn.measurementId})).apply(this,arguments)}class gt{constructor(N){this.app=N}_delete(){return delete Dr[this.app.options.appId],Promise.resolve()}}let Dr={},b=[];const I={};let F,j,_="dataLayer",G=!1;function xt(x,N,Z){!function He(){const x=[];if((0,ce.ru)()&&x.push("This is a browser extension environment."),(0,ce.zI)()||x.push("Cookies are not available."),x.length>0){const N=x.map((ae,Pe)=>`(${Pe+1}) ${ae}`).join(" "),Z=Vr.create("invalid-analytics-context",{errorInfo:N});vi.warn(Z.message)}}();const ae=x.options.appId;if(!ae)throw Vr.create("no-app-id");if(!x.options.apiKey){if(!x.options.measurementId)throw Vr.create("no-api-key");vi.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${x.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Dr[ae])throw Vr.create("already-exists",{id:ae});if(!G){!function Cs(x){let N=[];Array.isArray(window[x])?N=window[x]:window[x]=N}(_);const{wrappedGtag:$e,gtagCore:mt}=function eu(x,N,Z,ae,Pe){let $e=function(...mt){window[ae].push(arguments)};return window[Pe]&&"function"==typeof window[Pe]&&($e=window[Pe]),window[Pe]=function xa(x,N,Z,ae){function $e(){return($e=(0,Y.Z)(function*(mt,zt,an){try{"event"===mt?yield ds(x,N,Z,zt,an):"config"===mt?yield zs(x,N,Z,ae,zt,an):x("set",zt)}catch(Mn){vi.error(Mn)}})).apply(this,arguments)}return function Pe(mt,zt,an){return $e.apply(this,arguments)}}($e,x,N,Z),{gtagCore:$e,wrappedGtag:window[Pe]}}(Dr,b,I,_,"gtag");j=$e,F=mt,G=!0}return Dr[ae]=function To(x,N,Z,ae,Pe,$e,mt){return so.apply(this,arguments)}(x,b,I,N,F,_,Z),new gt(x)}function nn(){return(nn=(0,Y.Z)(function*(x,N,Z,ae,Pe){if(Pe&&Pe.global)x("event",Z,ae);else{const $e=yield N;x("event",Z,Object.assign(Object.assign({},ae),{send_to:$e}))}})).apply(this,arguments)}function _o(){return ru.apply(this,arguments)}function ru(){return(ru=(0,Y.Z)(function*(){if((0,ce.ru)()||!(0,ce.zI)()||!(0,ce.hl)())return!1;try{return yield(0,ce.eu)()}catch(x){return!1}})).apply(this,arguments)}const Oa="@firebase/analytics";!function $d(){(0,pe._registerComponent)(new we.wA(Ko,(N,{options:Z})=>xt(N.getProvider("app").getImmediate(),N.getProvider("installations-internal").getImmediate(),Z),"PUBLIC")),(0,pe._registerComponent)(new we.wA("analytics-internal",function x(N){try{const Z=N.getProvider(Ko).getImmediate();return{logEvent:(ae,Pe,$e)=>function Zc(x,N,Z,ae){x=(0,ce.m9)(x),function Gn(x,N,Z,ae,Pe){return nn.apply(this,arguments)}(j,Dr[x.app.options.appId],N,Z,ae).catch(Pe=>vi.error(Pe))}(Z,ae,Pe,$e)}}catch(Z){throw Vr.create("interop-component-reg-failed",{reason:Z})}},"PRIVATE")),(0,pe.registerVersion)(Oa,"0.7.7"),(0,pe.registerVersion)(Oa,"0.7.7","esm2017")}();var hs=L(4408),Hd=L(7565);const ll=new class Jn extends Hd.v{}(class oo extends hs.o{constructor(N,Z){super(N,Z),this.scheduler=N,this.work=Z}schedule(N,Z=0){return Z>0?super.schedule(N,Z):(this.delay=Z,this.state=N,this.scheduler.flush(this),this)}execute(N,Z){return Z>0||this.closed?super.execute(N,Z):this._execute(N,Z)}requestAsyncId(N,Z,ae=0){return null!=ae&&ae>0||null==ae&&this.delay>0?super.requestAsyncId(N,Z,ae):N.flush(this)}});var Ni=L(4986),Fo=L(8505),ts=L(5363),Js=L(9468);const Pa=new g.GfV("7.3.0"),ta="__angularfire_symbol__analyticsIsSupportedValue",Ki="__angularfire_symbol__analyticsIsSupported",Ds="__angularfire_symbol__remoteConfigIsSupportedValue",Lo="__angularfire_symbol__remoteConfigIsSupported",Au="__angularfire_symbol__messagingIsSupportedValue",At="__angularfire_symbol__messagingIsSupported";function So(x,N,Z){if(N){if(1===N.length)return N[0];const $e=N.filter(mt=>mt.app===Z);if(1===$e.length)return $e[0]}return Z.container.getProvider(x).getImmediate({optional:!0})}globalThis[Ki]||(globalThis[Ki]=_o().then(x=>globalThis[ta]=x).catch(()=>globalThis[ta]=!1)),globalThis[At]||(globalThis[At]=qs().then(x=>globalThis[Au]=x).catch(()=>globalThis[Au]=!1)),globalThis[Lo]||(globalThis[Lo]=Ti().then(x=>globalThis[Ds]=x).catch(()=>globalThis[Ds]=!1));const Uo=(x,N)=>{const Z=N?[N]:(0,p.C6)(),ae=[];return Z.forEach(Pe=>{Pe.container.getProvider(x).instances.forEach(mt=>{ae.includes(mt)||ae.push(mt)})}),ae};function na(){}class Vo{constructor(N,Z=ll){this.zone=N,this.delegate=Z}now(){return this.delegate.now()}schedule(N,Z,ae){const Pe=this.zone;return this.delegate.schedule(function(mt){Pe.runGuarded(()=>{N.apply(this,[mt])})},Z,ae)}}class dl{constructor(N){this.zone=N,this.task=null}call(N,Z){const ae=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",na,{},na,na)),Z.pipe((0,Fo.b)({next:ae,complete:ae,error:ae})).subscribe(N).add(ae)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let ra=(()=>{class x{constructor(Z){this.ngZone=Z,this.outsideAngular=Z.runOutsideAngular(()=>new Vo(Zone.current)),this.insideAngular=Z.run(()=>new Vo(Zone.current,Ni.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return x.\u0275fac=function(Z){return new(Z||x)(g.LFG(g.R0b))},x.\u0275prov=g.Yz7({token:x,factory:x.\u0275fac,providedIn:"root"}),x})();function Eo(){const x=globalThis.\u0275AngularFireScheduler;if(!x)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return x}function xu(x){return x.pipe((0,ts.Q)(Eo().outsideAngular))}function da(x){return Eo(),function ia(x){return function(Z){return(Z=Z.lift(new dl(x.ngZone))).pipe((0,Js.R)(x.outsideAngular),(0,ts.Q)(x.insideAngular))}}(Eo())(x)}},2090:(St,Be,L)=>{L.d(Be,{BH:()=>qe,LL:()=>en,ZR:()=>Ue,zI:()=>Oe,US:()=>Te,tV:()=>le,L:()=>Me,$s:()=>Di,r3:()=>kt,Sg:()=>Xe,ne:()=>Vt,vZ:()=>Qr,ZB:()=>Se,Lj:()=>gn,pd:()=>xr,m9:()=>Kt,z$:()=>at,jU:()=>Tt,ru:()=>vt,d:()=>Ce,xb:()=>kn,w1:()=>We,hl:()=>be,uI:()=>Ge,UG:()=>Je,b$:()=>ue,G6:()=>Ne,Mn:()=>st,X3:()=>Ft,xO:()=>wr,zd:()=>Wn,eu:()=>fe});var g=L(5861);const ce=function(he){const se=[];let ge=0;for(let Ve=0;Ve<he.length;Ve++){let Re=he.charCodeAt(Ve);Re<128?se[ge++]=Re:Re<2048?(se[ge++]=Re>>6|192,se[ge++]=63&Re|128):55296==(64512&Re)&&Ve+1<he.length&&56320==(64512&he.charCodeAt(Ve+1))?(Re=65536+((1023&Re)<<10)+(1023&he.charCodeAt(++Ve)),se[ge++]=Re>>18|240,se[ge++]=Re>>12&63|128,se[ge++]=Re>>6&63|128,se[ge++]=63&Re|128):(se[ge++]=Re>>12|224,se[ge++]=Re>>6&63|128,se[ge++]=63&Re|128)}return se},Te={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(he,se){if(!Array.isArray(he))throw Error("encodeByteArray takes an array as a parameter");this.init_();const ge=se?this.byteToCharMapWebSafe_:this.byteToCharMap_,Ve=[];for(let Re=0;Re<he.length;Re+=3){const yt=he[Re],Ht=Re+1<he.length,In=Ht?he[Re+1]:0,Jt=Re+2<he.length,En=Jt?he[Re+2]:0;let $n=(15&In)<<2|En>>6,Lr=63&En;Jt||(Lr=64,Ht||($n=64)),Ve.push(ge[yt>>2],ge[(3&yt)<<4|In>>4],ge[$n],ge[Lr])}return Ve.join("")},encodeString(he,se){return this.HAS_NATIVE_SUPPORT&&!se?btoa(he):this.encodeByteArray(ce(he),se)},decodeString(he,se){return this.HAS_NATIVE_SUPPORT&&!se?atob(he):function(he){const se=[];let ge=0,Ve=0;for(;ge<he.length;){const Re=he[ge++];if(Re<128)se[Ve++]=String.fromCharCode(Re);else if(Re>191&&Re<224){const yt=he[ge++];se[Ve++]=String.fromCharCode((31&Re)<<6|63&yt)}else if(Re>239&&Re<365){const Jt=((7&Re)<<18|(63&he[ge++])<<12|(63&he[ge++])<<6|63&he[ge++])-65536;se[Ve++]=String.fromCharCode(55296+(Jt>>10)),se[Ve++]=String.fromCharCode(56320+(1023&Jt))}else{const yt=he[ge++],Ht=he[ge++];se[Ve++]=String.fromCharCode((15&Re)<<12|(63&yt)<<6|63&Ht)}}return se.join("")}(this.decodeStringToByteArray(he,se))},decodeStringToByteArray(he,se){this.init_();const ge=se?this.charToByteMapWebSafe_:this.charToByteMap_,Ve=[];for(let Re=0;Re<he.length;){const yt=ge[he.charAt(Re++)],In=Re<he.length?ge[he.charAt(Re)]:0;++Re;const En=Re<he.length?ge[he.charAt(Re)]:64;++Re;const Xt=Re<he.length?ge[he.charAt(Re)]:64;if(++Re,null==yt||null==In||null==En||null==Xt)throw Error();Ve.push(yt<<2|In>>4),64!==En&&(Ve.push(In<<4&240|En>>2),64!==Xt&&Ve.push(En<<6&192|Xt))}return Ve},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let he=0;he<this.ENCODED_VALS.length;he++)this.byteToCharMap_[he]=this.ENCODED_VALS.charAt(he),this.charToByteMap_[this.byteToCharMap_[he]]=he,this.byteToCharMapWebSafe_[he]=this.ENCODED_VALS_WEBSAFE.charAt(he),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[he]]=he,he>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(he)]=he,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(he)]=he)}}},Me=function(he){return function(he){const se=ce(he);return Te.encodeByteArray(se,!0)}(he).replace(/\./g,"")},le=function(he){try{return Te.decodeString(he,!0)}catch(se){console.error("base64Decode failed: ",se)}return null};function Se(he,se){if(!(se instanceof Object))return se;switch(se.constructor){case Date:return new Date(se.getTime());case Object:void 0===he&&(he={});break;case Array:he=[];break;default:return se}for(const ge in se)!se.hasOwnProperty(ge)||!ft(ge)||(he[ge]=Se(he[ge],se[ge]));return he}function ft(he){return"__proto__"!==he}class qe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((se,ge)=>{this.resolve=se,this.reject=ge})}wrapCallback(se){return(ge,Ve)=>{ge?this.reject(ge):this.resolve(Ve),"function"==typeof se&&(this.promise.catch(()=>{}),1===se.length?se(ge):se(ge,Ve))}}}function Xe(he,se){if(he.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Ve=se||"demo-project",Re=he.iat||0,yt=he.sub||he.user_id;if(!yt)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Ht=Object.assign({iss:`https://securetoken.google.com/${Ve}`,aud:Ve,iat:Re,exp:Re+3600,auth_time:Re,sub:yt,user_id:yt,firebase:{sign_in_provider:"custom",identities:{}}},he);return[Me(JSON.stringify({alg:"none",type:"JWT"})),Me(JSON.stringify(Ht)),""].join(".")}function at(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Ge(){return"undefined"!=typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(at())}function Je(){try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(he){return!1}}function Tt(){return"object"==typeof self&&self.self===self}function vt(){const he="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof he&&void 0!==he.id}function ue(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ce(){return at().indexOf("Electron/")>=0}function We(){const he=at();return he.indexOf("MSIE ")>=0||he.indexOf("Trident/")>=0}function st(){return at().indexOf("MSAppHost/")>=0}function Ne(){return!Je()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function be(){return"object"==typeof indexedDB}function fe(){return new Promise((he,se)=>{try{let ge=!0;const Ve="validate-browser-context-for-indexeddb-analytics-module",Re=self.indexedDB.open(Ve);Re.onsuccess=()=>{Re.result.close(),ge||self.indexedDB.deleteDatabase(Ve),he(!0)},Re.onupgradeneeded=()=>{ge=!1},Re.onerror=()=>{var yt;se((null===(yt=Re.error)||void 0===yt?void 0:yt.message)||"")}}catch(ge){se(ge)}})}function Oe(){return!("undefined"==typeof navigator||!navigator.cookieEnabled)}class Ue extends Error{constructor(se,ge,Ve){super(ge),this.code=se,this.customData=Ve,this.name="FirebaseError",Object.setPrototypeOf(this,Ue.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,en.prototype.create)}}class en{constructor(se,ge,Ve){this.service=se,this.serviceName=ge,this.errors=Ve}create(se,...ge){const Ve=ge[0]||{},Re=`${this.service}/${se}`,yt=this.errors[se],Ht=yt?function $t(he,se){return he.replace(sn,(ge,Ve)=>{const Re=se[Ve];return null!=Re?String(Re):`<${Ve}?>`})}(yt,Ve):"Error";return new Ue(Re,`${this.serviceName}: ${Ht} (${Re}).`,Ve)}}const sn=/\{\$([^}]+)}/g;function kt(he,se){return Object.prototype.hasOwnProperty.call(he,se)}function kn(he){for(const se in he)if(Object.prototype.hasOwnProperty.call(he,se))return!1;return!0}function Qr(he,se){if(he===se)return!0;const ge=Object.keys(he),Ve=Object.keys(se);for(const Re of ge){if(!Ve.includes(Re))return!1;const yt=he[Re],Ht=se[Re];if(rr(yt)&&rr(Ht)){if(!Qr(yt,Ht))return!1}else if(yt!==Ht)return!1}for(const Re of Ve)if(!ge.includes(Re))return!1;return!0}function rr(he){return null!==he&&"object"==typeof he}function wr(he){const se=[];for(const[ge,Ve]of Object.entries(he))Array.isArray(Ve)?Ve.forEach(Re=>{se.push(encodeURIComponent(ge)+"="+encodeURIComponent(Re))}):se.push(encodeURIComponent(ge)+"="+encodeURIComponent(Ve));return se.length?"&"+se.join("&"):""}function Wn(he){const se={};return he.replace(/^\?/,"").split("&").forEach(Ve=>{if(Ve){const[Re,yt]=Ve.split("=");se[decodeURIComponent(Re)]=decodeURIComponent(yt)}}),se}function xr(he){const se=he.indexOf("?");if(!se)return"";const ge=he.indexOf("#",se);return he.substring(se,ge>0?ge:void 0)}function Vt(he,se){const ge=new Zt(he,se);return ge.subscribe.bind(ge)}class Zt{constructor(se,ge){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=ge,this.task.then(()=>{se(this)}).catch(Ve=>{this.error(Ve)})}next(se){this.forEachObserver(ge=>{ge.next(se)})}error(se){this.forEachObserver(ge=>{ge.error(se)}),this.close(se)}complete(){this.forEachObserver(se=>{se.complete()}),this.close()}subscribe(se,ge,Ve){let Re;if(void 0===se&&void 0===ge&&void 0===Ve)throw new Error("Missing Observer.");Re=function tn(he,se){if("object"!=typeof he||null===he)return!1;for(const ge of se)if(ge in he&&"function"==typeof he[ge])return!0;return!1}(se,["next","error","complete"])?se:{next:se,error:ge,complete:Ve},void 0===Re.next&&(Re.next=Br),void 0===Re.error&&(Re.error=Br),void 0===Re.complete&&(Re.complete=Br);const yt=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Re.error(this.finalError):Re.complete()}catch(Ht){}}),this.observers.push(Re),yt}unsubscribeOne(se){void 0===this.observers||void 0===this.observers[se]||(delete this.observers[se],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(se){if(!this.finalized)for(let ge=0;ge<this.observers.length;ge++)this.sendOne(ge,se)}sendOne(se,ge){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[se])try{ge(this.observers[se])}catch(Ve){"undefined"!=typeof console&&console.error&&console.error(Ve)}})}close(se){this.finalized||(this.finalized=!0,void 0!==se&&(this.finalError=se),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Br(){}function Di(he,se=1e3,ge=2){const Ve=se*Math.pow(ge,he),Re=Math.round(.5*Ve*(Math.random()-.5)*2);return Math.min(144e5,Ve+Re)}function Kt(he){return he&&he._delegate?he._delegate:he}function Mr(he,se){return new Promise((ge,Ve)=>{he.onsuccess=Re=>{ge(Re.target.result)},he.onerror=Re=>{var yt;Ve(`${se}: ${null===(yt=Re.target.error)||void 0===yt?void 0:yt.message}`)}})}class wn{constructor(se){this._db=se,this.objectStoreNames=this._db.objectStoreNames}transaction(se,ge){return new Mt(this._db.transaction.call(this._db,se,ge))}createObjectStore(se,ge){return new Qe(this._db.createObjectStore(se,ge))}close(){this._db.close()}}class Mt{constructor(se){this._transaction=se,this.complete=new Promise((ge,Ve)=>{this._transaction.oncomplete=function(){ge()},this._transaction.onerror=()=>{Ve(this._transaction.error)},this._transaction.onabort=()=>{Ve(this._transaction.error)}})}objectStore(se){return new Qe(this._transaction.objectStore(se))}}class Qe{constructor(se){this._store=se}index(se){return new bt(this._store.index(se))}createIndex(se,ge,Ve){return new bt(this._store.createIndex(se,ge,Ve))}get(se){return Mr(this._store.get(se),"Error reading from IndexedDB")}put(se,ge){return Mr(this._store.put(se,ge),"Error writing to IndexedDB")}delete(se){return Mr(this._store.delete(se),"Error deleting from IndexedDB")}clear(){return Mr(this._store.clear(),"Error clearing IndexedDB object store")}}class bt{constructor(se){this._index=se}get(se){return Mr(this._index.get(se),"Error reading from IndexedDB")}}function Ft(he,se,ge){return new Promise((Ve,Re)=>{try{const yt=indexedDB.open(he,se);yt.onsuccess=Ht=>{Ve(new wn(Ht.target.result))},yt.onerror=Ht=>{var In;Re(`Error opening indexedDB: ${null===(In=Ht.target.error)||void 0===In?void 0:In.message}`)},yt.onupgradeneeded=Ht=>{ge(new wn(yt.result),Ht.oldVersion,Ht.newVersion,new Mt(yt.transaction))}}catch(yt){Re(`Error opening indexedDB: ${yt.message}`)}})}function gn(he){return qt.apply(this,arguments)}function qt(){return(qt=(0,g.Z)(function*(he){return new Promise((se,ge)=>{try{const Ve=indexedDB.deleteDatabase(he);Ve.onsuccess=()=>{se()},Ve.onerror=Re=>{var yt;ge(`Error deleting indexedDB database "${he}": ${null===(yt=Re.target.error)||void 0===yt?void 0:yt.message}`)}}catch(Ve){ge(`Error deleting indexedDB database "${he}": ${Ve.message}`)}})})).apply(this,arguments)}},5107:(St,Be,L)=>{L.d(Be,{a:()=>pe});var g=L(5e3),p=L(7556),Y=L(441);let pe=(()=>{class ce{constructor(Te,Ae){this._AuthService=Te,this.router=Ae}canActivate(Te,Ae){return new Promise(Me=>{this._AuthService.user.subscribe(le=>{le?Me(!0):(this.router.navigate(["./login"]),Me(!1))})})}}return ce.\u0275fac=function(Te){return new(Te||ce)(g.LFG(p.e),g.LFG(Y.F0))},ce.\u0275prov=g.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},7556:(St,Be,L)=>{L.d(Be,{e:()=>Y});var g=L(5e3),p=L(1205);let Y=(()=>{class pe{constructor(we){this.angularFireAuth=we,this.userId="",this.user=we.user}signUp(we,Te){return this.angularFireAuth.createUserWithEmailAndPassword(we,Te)}signIn(we,Te){return this.angularFireAuth.signInWithEmailAndPassword(we,Te)}signOut(){return this.angularFireAuth.signOut()}}return pe.\u0275fac=function(we){return new(we||pe)(g.LFG(p.zQ))},pe.\u0275prov=g.Yz7({token:pe,factory:pe.\u0275fac,providedIn:"root"}),pe})()},910:(St,Be,L)=>{L.d(Be,{N:()=>pe});var g=L(5e3),p=L(7556),Y=L(7566);let pe=(()=>{class ce{constructor(Te,Ae){this._AuthService=Te,this.angularFirestore=Ae}addToCart(Te){return this.angularFirestore.collection(`users/${this._AuthService.userId}/cart`).add(Te)}getCartUser(){return this.angularFirestore.collection(`users/${this._AuthService.userId}/cart`).snapshotChanges()}}return ce.\u0275fac=function(Te){return new(Te||ce)(g.LFG(p.e),g.LFG(Y.ST))},ce.\u0275prov=g.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},9531:(St,Be,L)=>{L.d(Be,{s:()=>ce});var g=L(1135),p=L(5e3),Y=L(7566),pe=L(2084);let ce=(()=>{class we{constructor(Ae,Me){this.angularFirestore=Ae,this.angularFireStorage=Me,this.cartProduct=[],this.countProductCart=new g.X(this.cartProduct.length)}getAllProducts(){return this.angularFirestore.collection("products").snapshotChanges()}deleteProduct(Ae){return this.angularFirestore.doc(`products/${Ae}`).delete()}addNewProduct(Ae,Me,le,ie,Se=1){let ft=this.angularFireStorage.ref("products/"+ie.name);ft.put(ie).then(()=>{ft.getDownloadURL().subscribe(qe=>{this.angularFirestore.collection("products").add({name:Ae,category:Me,price:le,imgUrl:qe,quantity:Se})})})}}return we.\u0275fac=function(Ae){return new(Ae||we)(p.LFG(Y.ST),p.LFG(pe.Q1))},we.\u0275prov=p.Yz7({token:we,factory:we.\u0275fac,providedIn:"root"}),we})()},4961:(St,Be,L)=>{L.d(Be,{f:()=>pe});var g=L(5e3),p=L(7566),Y=L(7556);let pe=(()=>{class ce{constructor(Te,Ae){this.angularFirestore=Te,this._AuthService=Ae}addNewUser(Te,Ae,Me){return this.angularFirestore.doc("users/"+Te).set({name:Ae,city:Me})}getUserData(){return this.angularFirestore.collection("users").doc(this._AuthService.userId).snapshotChanges()}getAllUser(){return this.angularFirestore.collection("users").snapshotChanges()}}return ce.\u0275fac=function(Te){return new(Te||ce)(g.LFG(p.ST),g.LFG(Y.e))},ce.\u0275prov=g.Yz7({token:ce,factory:ce.\u0275fac,providedIn:"root"}),ce})()},7348:(St,Be,L)=>{var g=L(9808),p=L(5e3);class Y extends g.w_{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class pe extends Y{static makeCurrent(){(0,g.HT)(new pe)}onAndCancel(ne,$,te){return ne.addEventListener($,te,!1),()=>{ne.removeEventListener($,te,!1)}}dispatchEvent(ne,$){ne.dispatchEvent($)}remove(ne){ne.parentNode&&ne.parentNode.removeChild(ne)}createElement(ne,$){return($=$||this.getDefaultDocument()).createElement(ne)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(ne){return ne.nodeType===Node.ELEMENT_NODE}isShadowRoot(ne){return ne instanceof DocumentFragment}getGlobalEventTarget(ne,$){return"window"===$?window:"document"===$?ne:"body"===$?ne.body:null}getBaseHref(ne){const $=function we(){return ce=ce||document.querySelector("base"),ce?ce.getAttribute("href"):null}();return null==$?null:function Ae(Q){Te=Te||document.createElement("a"),Te.setAttribute("href",Q);const ne=Te.pathname;return"/"===ne.charAt(0)?ne:`/${ne}`}($)}resetBaseElement(){ce=null}getUserAgent(){return window.navigator.userAgent}getCookie(ne){return(0,g.Mx)(document.cookie,ne)}}let Te,ce=null;const Me=new p.OlP("TRANSITION_ID"),ie=[{provide:p.ip1,useFactory:function le(Q,ne,$){return()=>{$.get(p.CZH).donePromise.then(()=>{const te=(0,g.q)(),De=ne.querySelectorAll(`style[ng-transition="${Q}"]`);for(let ut=0;ut<De.length;ut++)te.remove(De[ut])})}},deps:[Me,g.K0,p.zs3],multi:!0}];class Se{static init(){(0,p.VLi)(new Se)}addToWindow(ne){p.dqk.getAngularTestability=(te,De=!0)=>{const ut=ne.findTestabilityInTree(te,De);if(null==ut)throw new Error("Could not find testability for element.");return ut},p.dqk.getAllAngularTestabilities=()=>ne.getAllTestabilities(),p.dqk.getAllAngularRootElements=()=>ne.getAllRootElements(),p.dqk.frameworkStabilizers||(p.dqk.frameworkStabilizers=[]),p.dqk.frameworkStabilizers.push(te=>{const De=p.dqk.getAllAngularTestabilities();let ut=De.length,Yt=!1;const xn=function(Zr){Yt=Yt||Zr,ut--,0==ut&&te(Yt)};De.forEach(function(Zr){Zr.whenStable(xn)})})}findTestabilityInTree(ne,$,te){if(null==$)return null;const De=ne.getTestability($);return null!=De?De:te?(0,g.q)().isShadowRoot($)?this.findTestabilityInTree(ne,$.host,!0):this.findTestabilityInTree(ne,$.parentElement,!0):null}}let ft=(()=>{class Q{build(){return new XMLHttpRequest}}return Q.\u0275fac=function($){return new($||Q)},Q.\u0275prov=p.Yz7({token:Q,factory:Q.\u0275fac}),Q})();const qe=new p.OlP("EventManagerPlugins");let Xe=(()=>{class Q{constructor($,te){this._zone=te,this._eventNameToPlugin=new Map,$.forEach(De=>De.manager=this),this._plugins=$.slice().reverse()}addEventListener($,te,De){return this._findPluginFor(te).addEventListener($,te,De)}addGlobalEventListener($,te,De){return this._findPluginFor(te).addGlobalEventListener($,te,De)}getZone(){return this._zone}_findPluginFor($){const te=this._eventNameToPlugin.get($);if(te)return te;const De=this._plugins;for(let ut=0;ut<De.length;ut++){const Yt=De[ut];if(Yt.supports($))return this._eventNameToPlugin.set($,Yt),Yt}throw new Error(`No event manager plugin found for event ${$}`)}}return Q.\u0275fac=function($){return new($||Q)(p.LFG(qe),p.LFG(p.R0b))},Q.\u0275prov=p.Yz7({token:Q,factory:Q.\u0275fac}),Q})();class at{constructor(ne){this._doc=ne}addGlobalEventListener(ne,$,te){const De=(0,g.q)().getGlobalEventTarget(this._doc,ne);if(!De)throw new Error(`Unsupported event target ${De} for event ${$}`);return this.addEventListener(De,$,te)}}let Ge=(()=>{class Q{constructor(){this._stylesSet=new Set}addStyles($){const te=new Set;$.forEach(De=>{this._stylesSet.has(De)||(this._stylesSet.add(De),te.add(De))}),this.onStylesAdded(te)}onStylesAdded($){}getAllStyles(){return Array.from(this._stylesSet)}}return Q.\u0275fac=function($){return new($||Q)},Q.\u0275prov=p.Yz7({token:Q,factory:Q.\u0275fac}),Q})(),Je=(()=>{class Q extends Ge{constructor($){super(),this._doc=$,this._hostNodes=new Map,this._hostNodes.set($.head,[])}_addStylesToHost($,te,De){$.forEach(ut=>{const Yt=this._doc.createElement("style");Yt.textContent=ut,De.push(te.appendChild(Yt))})}addHost($){const te=[];this._addStylesToHost(this._stylesSet,$,te),this._hostNodes.set($,te)}removeHost($){const te=this._hostNodes.get($);te&&te.forEach(Tt),this._hostNodes.delete($)}onStylesAdded($){this._hostNodes.forEach((te,De)=>{this._addStylesToHost($,De,te)})}ngOnDestroy(){this._hostNodes.forEach($=>$.forEach(Tt))}}return Q.\u0275fac=function($){return new($||Q)(p.LFG(g.K0))},Q.\u0275prov=p.Yz7({token:Q,factory:Q.\u0275fac}),Q})();function Tt(Q){(0,g.q)().remove(Q)}const vt={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ue=/%COMP%/g;function fe(Q,ne,$){for(let te=0;te<ne.length;te++){let De=ne[te];Array.isArray(De)?fe(Q,De,$):(De=De.replace(ue,Q),$.push(De))}return $}function Oe(Q){return ne=>{if("__ngUnwrap__"===ne)return Q;!1===Q(ne)&&(ne.preventDefault(),ne.returnValue=!1)}}let rt=(()=>{class Q{constructor($,te,De){this.eventManager=$,this.sharedStylesHost=te,this.appId=De,this.rendererByCompId=new Map,this.defaultRenderer=new Ue($)}createRenderer($,te){if(!$||!te)return this.defaultRenderer;switch(te.encapsulation){case p.ifc.Emulated:{let De=this.rendererByCompId.get(te.id);return De||(De=new sn(this.eventManager,this.sharedStylesHost,te,this.appId),this.rendererByCompId.set(te.id,De)),De.applyToHost($),De}case 1:case p.ifc.ShadowDom:return new _t(this.eventManager,this.sharedStylesHost,$,te);default:if(!this.rendererByCompId.has(te.id)){const De=fe(te.id,te.styles,[]);this.sharedStylesHost.addStyles(De),this.rendererByCompId.set(te.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return Q.\u0275fac=function($){return new($||Q)(p.LFG(Xe),p.LFG(Je),p.LFG(p.AFp))},Q.\u0275prov=p.Yz7({token:Q,factory:Q.\u0275fac}),Q})();class Ue{constructor(ne){this.eventManager=ne,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(ne,$){return $?document.createElementNS(vt[$]||$,ne):document.createElement(ne)}createComment(ne){return document.createComment(ne)}createText(ne){return document.createTextNode(ne)}appendChild(ne,$){ne.appendChild($)}insertBefore(ne,$,te){ne&&ne.insertBefore($,te)}removeChild(ne,$){ne&&ne.removeChild($)}selectRootElement(ne,$){let te="string"==typeof ne?document.querySelector(ne):ne;if(!te)throw new Error(`The selector "${ne}" did not match any elements`);return $||(te.textContent=""),te}parentNode(ne){return ne.parentNode}nextSibling(ne){return ne.nextSibling}setAttribute(ne,$,te,De){if(De){$=De+":"+$;const ut=vt[De];ut?ne.setAttributeNS(ut,$,te):ne.setAttribute($,te)}else ne.setAttribute($,te)}removeAttribute(ne,$,te){if(te){const De=vt[te];De?ne.removeAttributeNS(De,$):ne.removeAttribute(`${te}:${$}`)}else ne.removeAttribute($)}addClass(ne,$){ne.classList.add($)}removeClass(ne,$){ne.classList.remove($)}setStyle(ne,$,te,De){De&(p.JOm.DashCase|p.JOm.Important)?ne.style.setProperty($,te,De&p.JOm.Important?"important":""):ne.style[$]=te}removeStyle(ne,$,te){te&p.JOm.DashCase?ne.style.removeProperty($):ne.style[$]=""}setProperty(ne,$,te){ne[$]=te}setValue(ne,$){ne.nodeValue=$}listen(ne,$,te){return"string"==typeof ne?this.eventManager.addGlobalEventListener(ne,$,Oe(te)):this.eventManager.addEventListener(ne,$,Oe(te))}}class sn extends Ue{constructor(ne,$,te,De){super(ne),this.component=te;const ut=fe(De+"-"+te.id,te.styles,[]);$.addStyles(ut),this.contentAttr=function Ne(Q){return"_ngcontent-%COMP%".replace(ue,Q)}(De+"-"+te.id),this.hostAttr=function be(Q){return"_nghost-%COMP%".replace(ue,Q)}(De+"-"+te.id)}applyToHost(ne){super.setAttribute(ne,this.hostAttr,"")}createElement(ne,$){const te=super.createElement(ne,$);return super.setAttribute(te,this.contentAttr,""),te}}class _t extends Ue{constructor(ne,$,te,De){super(ne),this.sharedStylesHost=$,this.hostEl=te,this.shadowRoot=te.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const ut=fe(De.id,De.styles,[]);for(let Yt=0;Yt<ut.length;Yt++){const xn=document.createElement("style");xn.textContent=ut[Yt],this.shadowRoot.appendChild(xn)}}nodeOrShadowRoot(ne){return ne===this.hostEl?this.shadowRoot:ne}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(ne,$){return super.appendChild(this.nodeOrShadowRoot(ne),$)}insertBefore(ne,$,te){return super.insertBefore(this.nodeOrShadowRoot(ne),$,te)}removeChild(ne,$){return super.removeChild(this.nodeOrShadowRoot(ne),$)}parentNode(ne){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(ne)))}}let ct=(()=>{class Q extends at{constructor($){super($)}supports($){return!0}addEventListener($,te,De){return $.addEventListener(te,De,!1),()=>this.removeEventListener($,te,De)}removeEventListener($,te,De){return $.removeEventListener(te,De)}}return Q.\u0275fac=function($){return new($||Q)(p.LFG(g.K0))},Q.\u0275prov=p.Yz7({token:Q,factory:Q.\u0275fac}),Q})();const Qt=["alt","control","meta","shift"],Tn={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},It={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},pn={alt:Q=>Q.altKey,control:Q=>Q.ctrlKey,meta:Q=>Q.metaKey,shift:Q=>Q.shiftKey};let kt=(()=>{class Q extends at{constructor($){super($)}supports($){return null!=Q.parseEventName($)}addEventListener($,te,De){const ut=Q.parseEventName(te),Yt=Q.eventCallback(ut.fullKey,De,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>(0,g.q)().onAndCancel($,ut.domEventName,Yt))}static parseEventName($){const te=$.toLowerCase().split("."),De=te.shift();if(0===te.length||"keydown"!==De&&"keyup"!==De)return null;const ut=Q._normalizeKey(te.pop());let Yt="";if(Qt.forEach(Zr=>{const ls=te.indexOf(Zr);ls>-1&&(te.splice(ls,1),Yt+=Zr+".")}),Yt+=ut,0!=te.length||0===ut.length)return null;const xn={};return xn.domEventName=De,xn.fullKey=Yt,xn}static getEventFullKey($){let te="",De=function yn(Q){let ne=Q.key;if(null==ne){if(ne=Q.keyIdentifier,null==ne)return"Unidentified";ne.startsWith("U+")&&(ne=String.fromCharCode(parseInt(ne.substring(2),16)),3===Q.location&&It.hasOwnProperty(ne)&&(ne=It[ne]))}return Tn[ne]||ne}($);return De=De.toLowerCase()," "===De?De="space":"."===De&&(De="dot"),Qt.forEach(ut=>{ut!=De&&pn[ut]($)&&(te+=ut+".")}),te+=De,te}static eventCallback($,te,De){return ut=>{Q.getEventFullKey(ut)===$&&De.runGuarded(()=>te(ut))}}static _normalizeKey($){return"esc"===$?"escape":$}}return Q.\u0275fac=function($){return new($||Q)(p.LFG(g.K0))},Q.\u0275prov=p.Yz7({token:Q,factory:Q.\u0275fac}),Q})();const wr=(0,p.eFA)(p._c5,"browser",[{provide:p.Lbi,useValue:g.bD},{provide:p.g9A,useValue:function kn(){pe.makeCurrent(),Se.init()},multi:!0},{provide:g.K0,useFactory:function Qr(){return(0,p.RDi)(document),document},deps:[]}]),Wn=[{provide:p.zSh,useValue:"root"},{provide:p.qLn,useFactory:function zn(){return new p.qLn},deps:[]},{provide:qe,useClass:ct,multi:!0,deps:[g.K0,p.R0b,p.Lbi]},{provide:qe,useClass:kt,multi:!0,deps:[g.K0]},{provide:rt,useClass:rt,deps:[Xe,Je,p.AFp]},{provide:p.FYo,useExisting:rt},{provide:Ge,useExisting:Je},{provide:Je,useClass:Je,deps:[g.K0]},{provide:p.dDg,useClass:p.dDg,deps:[p.R0b]},{provide:Xe,useClass:Xe,deps:[qe,p.R0b]},{provide:g.JF,useClass:ft,deps:[]}];let xr=(()=>{class Q{constructor($){if($)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}static withServerTransition($){return{ngModule:Q,providers:[{provide:p.AFp,useValue:$.appId},{provide:Me,useExisting:p.AFp},ie]}}}return Q.\u0275fac=function($){return new($||Q)(p.LFG(Q,12))},Q.\u0275mod=p.oAB({type:Q}),Q.\u0275inj=p.cJS({providers:Wn,imports:[g.ez,p.hGG]}),Q})();"undefined"!=typeof window&&window;const Ht_firebase={apiKey:"AIzaSyCxtnQLMMO7QGOhvXyEwQjGnaas7GUdTjo",authDomain:"e-commerce-69e2f.firebaseapp.com",projectId:"e-commerce-69e2f",storageBucket:"e-commerce-69e2f.appspot.com",messagingSenderId:"863677053131",appId:"1:863677053131:web:07bb6296f227056051034e",measurementId:"G-J72Z8D42N0"};var In=L(2011),Jt=L(7566),En=L(1205),Rn=L(441),Xt=L(9531);function $n(Q,ne){if(1&Q){const $=p.EpF();p.TgZ(0,"tr")(1,"td"),p._UZ(2,"img",9),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.TgZ(5,"td")(6,"button",10),p.NdJ("click",function(){const ut=p.CHM($).index;return p.oxw().countQuantity(ut,-1)}),p._uU(7,"-"),p.qZA(),p.TgZ(8,"span",11),p._uU(9),p.qZA(),p.TgZ(10,"button",10),p.NdJ("click",function(){const ut=p.CHM($).index;return p.oxw().countQuantity(ut,1)}),p._uU(11,"+"),p.qZA()(),p.TgZ(12,"td"),p._uU(13),p.qZA()()}if(2&Q){const $=ne.$implicit;p.xp6(2),p.Q6J("src",$.imgUrl,p.LSH),p.xp6(2),p.Oqu($.name),p.xp6(5),p.hij("",$.quantity," in cart"),p.xp6(4),p.hij("$",$.price,"")}}let Lr=(()=>{class Q{constructor($){this._ProductsService=$,this.cartProduct=[],this.price=[],this.totalPrice=0,this.cartProduct=[...$.cartProduct]}ngOnInit(){this.price=this.cartProduct.map($=>$.price),this.totalPrice=this.price.reduce(($,te)=>$+te)}countQuantity($,te){(0!=this.cartProduct[$].quantity||1==te)&&(this.cartProduct[$].quantity+=te,this.cartProduct[$].price+=te*this.price[$],this.totalPrice=this.cartProduct.map(De=>De.price).reduce((De,ut)=>De+ut))}}return Q.\u0275fac=function($){return new($||Q)(p.Y36(Xt.s))},Q.\u0275cmp=p.Xpm({type:Q,selectors:[["app-cart"]],decls:22,vars:3,consts:[[1,"cart","py-5","bg-white"],[1,"container","pt-5"],[1,"table","text-center","border","mt-5"],[1,"py-3"],[4,"ngFor","ngForOf"],[1,"fw-bolder"],["colspan","3"],[1,"main-color"],["routerLink","/check-out",1,"btn","custom-button","w-100",3,"disabled"],["alt","product1",3,"src"],[1,"btn","bg-gray",3,"click"],[1,"text-muted","mx-4"]],template:function($,te){1&$&&(p.TgZ(0,"div",0)(1,"div",1)(2,"h2"),p._uU(3,"Shopping Cart"),p.qZA(),p.TgZ(4,"table",2)(5,"thead"),p._UZ(6,"th",3),p.TgZ(7,"th",3),p._uU(8,"Product"),p.qZA(),p.TgZ(9,"th",3),p._uU(10,"Quantity"),p.qZA(),p.TgZ(11,"th",3),p._uU(12,"Price"),p.qZA()(),p.TgZ(13,"tbody"),p.YNc(14,$n,14,4,"tr",4),p.TgZ(15,"tr",5)(16,"td",6),p._uU(17," Total Price : "),p.qZA(),p.TgZ(18,"td",7),p._uU(19),p.qZA()()()(),p.TgZ(20,"button",8),p._uU(21,"Check Out"),p.qZA()()()),2&$&&(p.xp6(14),p.Q6J("ngForOf",te.cartProduct),p.xp6(5),p.hij("$",te.totalPrice,""),p.xp6(1),p.Q6J("disabled",0==te.totalPrice))},directives:[g.sg,Rn.rH],styles:[".bg-gray[_ngcontent-%COMP%]{background-color:#ccc}img[_ngcontent-%COMP%]{height:5rem;border-radius:50%}tr[_ngcontent-%COMP%]{vertical-align:middle}td[_ngcontent-%COMP%]{border:1px solid;padding:10px;text-align:center}"]}),Q})();var Bt=L(2382),as=L(910);function lr(Q,ne){1&Q&&(p.TgZ(0,"p",21),p._uU(1,"* name is required"),p.qZA())}function er(Q,ne){1&Q&&(p.TgZ(0,"p",21),p._uU(1,"* name is min length 3 "),p.qZA())}function ir(Q,ne){1&Q&&(p.TgZ(0,"p",21),p._uU(1,"* name is max length 20 "),p.qZA())}function pi(Q,ne){if(1&Q&&(p.TgZ(0,"div",19),p.YNc(1,lr,2,0,"p",20),p.YNc(2,er,2,0,"p",20),p.YNc(3,ir,2,0,"p",20),p.qZA()),2&Q){const $=p.oxw();let te,De,ut;p.xp6(1),p.Q6J("ngIf",null==(te=$.checkOutForm.get("name"))||null==te.errors?null:te.errors.required),p.xp6(1),p.Q6J("ngIf",null==(De=$.checkOutForm.get("name"))||null==De.errors?null:De.errors.minlength),p.xp6(1),p.Q6J("ngIf",null==(ut=$.checkOutForm.get("name"))||null==ut.errors?null:ut.errors.maxllength)}}function Hr(Q,ne){1&Q&&(p.TgZ(0,"p",21),p._uU(1,"* address1 is required"),p.qZA())}function ot(Q,ne){if(1&Q&&(p.TgZ(0,"div",19),p.YNc(1,Hr,2,0,"p",20),p.qZA()),2&Q){const $=p.oxw();let te;p.xp6(1),p.Q6J("ngIf",null==(te=$.checkOutForm.get("address1"))||null==te.errors?null:te.errors.required)}}function Ot(Q,ne){1&Q&&(p.TgZ(0,"p",21),p._uU(1,"* address2 is required"),p.qZA())}function on(Q,ne){if(1&Q&&(p.TgZ(0,"div",19),p.YNc(1,Ot,2,0,"p",20),p.qZA()),2&Q){const $=p.oxw();let te;p.xp6(1),p.Q6J("ngIf",null==(te=$.checkOutForm.get("address2"))||null==te.errors?null:te.errors.required)}}function sr(Q,ne){1&Q&&(p.TgZ(0,"p",21),p._uU(1,"* city is required"),p.qZA())}function ii(Q,ne){1&Q&&(p.TgZ(0,"p",21),p._uU(1,"* city is min length 3 "),p.qZA())}function dr(Q,ne){1&Q&&(p.TgZ(0,"p",21),p._uU(1,"* city is max length 10 "),p.qZA())}function si(Q,ne){if(1&Q&&(p.TgZ(0,"div",19),p.YNc(1,sr,2,0,"p",20),p.YNc(2,ii,2,0,"p",20),p.YNc(3,dr,2,0,"p",20),p.qZA()),2&Q){const $=p.oxw();let te,De,ut;p.xp6(1),p.Q6J("ngIf",null==(te=$.checkOutForm.get("city"))||null==te.errors?null:te.errors.required),p.xp6(1),p.Q6J("ngIf",null==(De=$.checkOutForm.get("city"))||null==De.errors?null:De.errors.minlength),p.xp6(1),p.Q6J("ngIf",null==(ut=$.checkOutForm.get("city"))||null==ut.errors?null:ut.errors.maxlength)}}function On(Q,ne){if(1&Q&&(p.TgZ(0,"div",22)(1,"div",23),p._uU(2),p.qZA(),p.TgZ(3,"div",24),p._uU(4),p.qZA()()),2&Q){const $=ne.$implicit;p.xp6(2),p.AsE(" ",$.quantity," x ",$.name," "),p.xp6(2),p.hij(" $ ",$.price," ")}}let mr=(()=>{class Q{constructor($,te){this._ProductsService=$,this._CartService=te,this.totalProduct=0,this.totalPrice=0,this.orderSummary=[],this.checkOutForm=new Bt.cw({name:new Bt.NI(null,[Bt.kI.required,Bt.kI.minLength(3),Bt.kI.maxLength(20)]),address1:new Bt.NI(null,[Bt.kI.required]),address2:new Bt.NI(null,[Bt.kI.required]),city:new Bt.NI(null,[Bt.kI.required,Bt.kI.minLength(3),Bt.kI.maxLength(10)])}),this.totalProduct=$.cartProduct.length,this.orderSummary=$.cartProduct}ngOnInit(){this.totalPrice=this._ProductsService.cartProduct.map($=>$.price).reduce(($,te)=>$+te)}addToChart(){for(let $=0;$<this.orderSummary.length;$++)this._CartService.addToCart(this.orderSummary[$]).then(()=>console.log(this.orderSummary))}}return Q.\u0275fac=function($){return new($||Q)(p.Y36(Xt.s),p.Y36(as.N))},Q.\u0275cmp=p.Xpm({type:Q,selectors:[["app-check-out"]],decls:36,vars:9,consts:[[1,"check-out","py-5"],[1,"container","mt-5"],["id","shipping"],[1,"row","mt-4","gy-3"],[1,"col-md-6"],[3,"formGroup"],["for","name"],["formControlName","name","type","text","id","name","placeholder","ex:fady",1,"form-control"],["class","alert-danger alert",4,"ngIf"],["for","address"],["formControlName","address1","type","text","id","address","placeholder","line 1",1,"form-control","mb-2"],["formControlName","address2","type","text","placeholder","line 2",1,"form-control"],["for","city"],["formControlName","city","type","text","id","city","placeholder","ex:cairo",1,"form-control","mb-3"],["type","submit","routerLink","/order-succes",1,"btn","btn-info","text-white",3,"disabled","click"],[1,"order-summary","p-2","shadow"],[1,"text-muted"],["class","items-cart d-flex justify-content-between border-top py-2 border-1 border-dark",4,"ngFor","ngForOf"],[1,"total-price","d-flex","justify-content-between","border-top","pt-3","border-1","border-dark"],[1,"alert-danger","alert"],["class","m-0",4,"ngIf"],[1,"m-0"],[1,"items-cart","d-flex","justify-content-between","border-top","py-2","border-1","border-dark"],[1,"items-name"],[1,"item-price"]],template:function($,te){if(1&$&&(p.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"h2"),p._uU(4,"Shipping"),p.qZA(),p.TgZ(5,"div",3)(6,"div",4)(7,"form",5)(8,"label",6),p._uU(9,"Name"),p.qZA(),p._UZ(10,"input",7),p.YNc(11,pi,4,3,"div",8),p.TgZ(12,"label",9),p._uU(13,"Address"),p.qZA(),p._UZ(14,"input",10),p.YNc(15,ot,2,1,"div",8),p._UZ(16,"input",11),p.YNc(17,on,2,1,"div",8),p.TgZ(18,"label",12),p._uU(19,"City"),p.qZA(),p._UZ(20,"input",13),p.YNc(21,si,4,3,"div",8),p.TgZ(22,"button",14),p.NdJ("click",function(){return te.addToChart()}),p._uU(23,"Place Order"),p.qZA()()(),p.TgZ(24,"div",4)(25,"div",15)(26,"h3"),p._uU(27,"Order Summary"),p.qZA(),p.TgZ(28,"p",16),p._uU(29),p.qZA(),p.YNc(30,On,5,3,"div",17),p.TgZ(31,"div",18)(32,"h5"),p._uU(33,"Total Price : "),p.qZA(),p.TgZ(34,"h5"),p._uU(35),p.qZA()()()()()()()()),2&$){let De,ut,Yt,xn;p.xp6(7),p.Q6J("formGroup",te.checkOutForm),p.xp6(4),p.Q6J("ngIf",(null==(De=te.checkOutForm.get("name"))?null:De.errors)&&(null==(De=te.checkOutForm.get("name"))?null:De.touched)),p.xp6(4),p.Q6J("ngIf",(null==(ut=te.checkOutForm.get("address1"))?null:ut.errors)&&(null==(ut=te.checkOutForm.get("address1"))?null:ut.touched)),p.xp6(2),p.Q6J("ngIf",(null==(Yt=te.checkOutForm.get("address2"))?null:Yt.errors)&&(null==(Yt=te.checkOutForm.get("address2"))?null:Yt.touched)),p.xp6(4),p.Q6J("ngIf",(null==(xn=te.checkOutForm.get("city"))?null:xn.errors)&&(null==(xn=te.checkOutForm.get("city"))?null:xn.touched)),p.xp6(1),p.Q6J("disabled",te.checkOutForm.invalid),p.xp6(7),p.hij("You have ",te.totalProduct," items in Your Shopping Cart."),p.xp6(1),p.Q6J("ngForOf",te.orderSummary),p.xp6(5),p.hij("$ ",te.totalPrice,"")}},directives:[Bt._Y,Bt.JL,Bt.sg,Bt.Fj,Bt.JJ,Bt.u,g.O5,Rn.rH,g.sg],styles:[""]}),Q})(),gi=(()=>{class Q{constructor(){}ngOnInit(){}}return Q.\u0275fac=function($){return new($||Q)},Q.\u0275cmp=p.Xpm({type:Q,selectors:[["app-home"]],decls:293,vars:0,consts:[[1,"d-flex","justify-content-center","align-items-center"],[1,"home-content","text-center","w-50"],[1,"main-color"],[1,"text-muted"],[1,"btn","custom-button"],["routerLink","/shopping"],[1,"pt","-5","features"],[1,"container","py-4"],[1,"heading","py-4"],[1,"row","gy-4"],[1,"col-md-4"],[1,"item","bg-white","shadow","p-4","text-center"],["src","./assets/image/feature-img-1.png","alt",""],["src","./assets/image/feature-img-2.png","alt",""],["src","./assets/image/feature-img-3.png","alt",""],[1,"catogeries","pt-5"],[1,"col-lg-3","col-md-6"],[1,"item","bg-white","text-center","shadow","p-4"],["src","./assets/image/cat-1.png","alt",""],["src","./assets/image/cat-2.png","alt",""],["src","./assets/image/cat-3.png","alt",""],["src","./assets/image/cat-4.png","alt",""],[1,"reviews","pt","-5"],[1,"item","text-center","bg-white","p-4"],["src","./assets/image/pic-1.png","alt","",1,"rounded-circle"],[1,"text-muted","my-2"],[1,"rate","d-flex","justify-content-center"],[1,"fa-solid","fa-star"],[1,"fa-solid","fa-star-half-stroke"],["src","./assets/image/pic-2.png","alt","",1,"rounded-circle"],["src","./assets/image/pic-3.png","alt","",1,"rounded-circle"],["src","./assets/image/pic-4.png","alt","",1,"rounded-circle"],[1,"blogs","pt","-5"],[1,"item","shadow"],["src","./assets/image/blog-1.jpg","alt","",1,"w-100"],[1,"bg-white","p-3"],[1,"d-flex","justify-content-between"],["href","#"],[1,"fa-solid","fa-user"],[1,"fa-solid","fa-calendar-days"],["src","./assets/image/blog-2.jpg","alt","",1,"w-100"],["src","./assets/image/blog-3.jpg","alt","",1,"w-100"],[1,"py-5","bg-white"],[1,"container"],[1,"row","gy-3"],[1,"item"],[1,"fa-solid","fa-basket-shopping","main-color"],[1,"social-icons","d-flex"],[1,"fa-brands","fa-facebook-f"],[1,"fa-brands","fa-twitter"],[1,"fa-brands","fa-instagram"],[1,"fa-brands","fa-linkedin-in"],[1,"p-0","mt-4"],[1,"d-flex","align-items-center"],[1,"fa-solid","fa-phone-flip","main-color"],[1,"text-muted","custom-para"],[1,"fa-solid","fa-envelope","main-color"],[1,"fa-solid","fa-location-dot","main-color"],[1,"fa-solid","fa-arrow-right","main-color"],["type","email","placeholder","Your Email",1,"form-control"],[1,"btn","custom-button","my-3","d-block"],["src","./assets/image/payment.png","alt",""],[1,"copy-right","text-center"]],template:function($,te){1&$&&(p.TgZ(0,"header",0)(1,"div",1)(2,"h3"),p._uU(3,"Fresh And "),p.TgZ(4,"span",2),p._uU(5,"Organic"),p.qZA(),p._uU(6," Products For Your"),p.qZA(),p.TgZ(7,"p",3),p._uU(8,"Lorem Ipsum Dolor Sit Amet Consectetur Adipisicing Elit. Aliquam Libero Nostrum Veniam Facere Tempore Nisi."),p.qZA(),p.TgZ(9,"button",4)(10,"a",5),p._uU(11,"Shop Now"),p.qZA()()()(),p.TgZ(12,"section",6)(13,"div",7)(14,"h2",8),p._uU(15," our "),p.TgZ(16,"span"),p._uU(17,"Features"),p.qZA()(),p.TgZ(18,"div",9)(19,"div",10)(20,"div",11),p._UZ(21,"img",12),p.TgZ(22,"h3"),p._uU(23,"Fresh And Organic"),p.qZA(),p.TgZ(24,"p",3),p._uU(25," Lorem, Ipsum Dolor Sit Amet Consectetur Adipisicing Elit. Deserunt, Earum! "),p.qZA(),p.TgZ(26,"button",4),p._uU(27,"Read More"),p.qZA()()(),p.TgZ(28,"div",10)(29,"div",11),p._UZ(30,"img",13),p.TgZ(31,"h3"),p._uU(32,"Free Delivery"),p.qZA(),p.TgZ(33,"p",3),p._uU(34," Lorem, Ipsum Dolor Sit Amet Consectetur Adipisicing Elit. Deserunt, Earum! "),p.qZA(),p.TgZ(35,"button",4),p._uU(36,"Read More"),p.qZA()()(),p.TgZ(37,"div",10)(38,"div",11),p._UZ(39,"img",14),p.TgZ(40,"h3"),p._uU(41,"Easy Payments"),p.qZA(),p.TgZ(42,"p",3),p._uU(43," Lorem, Ipsum Dolor Sit Amet Consectetur Adipisicing Elit. Deserunt, Earum! "),p.qZA(),p.TgZ(44,"button",4),p._uU(45,"Read More"),p.qZA()()()()()(),p.TgZ(46,"section",15)(47,"div",7)(48,"h2",8),p._uU(49," Product "),p.TgZ(50,"span"),p._uU(51,"Categories"),p.qZA()(),p.TgZ(52,"div",9)(53,"div",16)(54,"div",17),p._UZ(55,"img",18),p.TgZ(56,"h3"),p._uU(57,"Vegitables"),p.qZA(),p.TgZ(58,"p",3),p._uU(59,"Upto 45% Off"),p.qZA(),p.TgZ(60,"button",4)(61,"a",5),p._uU(62,"Shop Now"),p.qZA()()()(),p.TgZ(63,"div",16)(64,"div",17),p._UZ(65,"img",19),p.TgZ(66,"h3"),p._uU(67,"Fresh Fruits"),p.qZA(),p.TgZ(68,"p",3),p._uU(69,"Upto 45% Off"),p.qZA(),p.TgZ(70,"button",4)(71,"a",5),p._uU(72,"Shop Now"),p.qZA()()()(),p.TgZ(73,"div",16)(74,"div",17),p._UZ(75,"img",20),p.TgZ(76,"h3"),p._uU(77,"Dairy Products"),p.qZA(),p.TgZ(78,"p",3),p._uU(79,"Upto 45% Off"),p.qZA(),p.TgZ(80,"button",4)(81,"a",5),p._uU(82,"Shop Now"),p.qZA()()()(),p.TgZ(83,"div",16)(84,"div",17),p._UZ(85,"img",21),p.TgZ(86,"h3"),p._uU(87,"Fresh Meat"),p.qZA(),p.TgZ(88,"p",3),p._uU(89,"Upto 45% Off"),p.qZA(),p.TgZ(90,"button",4)(91,"a",5),p._uU(92,"Shop Now"),p.qZA()()()()()()(),p.TgZ(93,"section",22)(94,"div",7)(95,"h2",8),p._uU(96," Customer's "),p.TgZ(97,"span"),p._uU(98,"Review"),p.qZA()(),p.TgZ(99,"div",9)(100,"div",16)(101,"div",23),p._UZ(102,"img",24),p.TgZ(103,"p",25),p._uU(104,"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolor error illum eaque, itaque eius placeat!"),p.qZA(),p.TgZ(105,"h4"),p._uU(106,"John Deo"),p.qZA(),p.TgZ(107,"div",26),p._UZ(108,"i",27)(109,"i",27)(110,"i",27)(111,"i",27)(112,"i",28),p.qZA()()(),p.TgZ(113,"div",16)(114,"div",23),p._UZ(115,"img",29),p.TgZ(116,"p",25),p._uU(117,"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolor error illum eaque, itaque eius placeat!"),p.qZA(),p.TgZ(118,"h4"),p._uU(119,"Tokyo"),p.qZA(),p.TgZ(120,"div",26),p._UZ(121,"i",27)(122,"i",27)(123,"i",27)(124,"i",27)(125,"i",28),p.qZA()()(),p.TgZ(126,"div",16)(127,"div",23),p._UZ(128,"img",30),p.TgZ(129,"p",25),p._uU(130,"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolor error illum eaque, itaque eius placeat!"),p.qZA(),p.TgZ(131,"h4"),p._uU(132,"Triple H"),p.qZA(),p.TgZ(133,"div",26),p._UZ(134,"i",27)(135,"i",27)(136,"i",27)(137,"i",27)(138,"i",28),p.qZA()()(),p.TgZ(139,"div",16)(140,"div",23),p._UZ(141,"img",31),p.TgZ(142,"p",25),p._uU(143,"Lorem, ipsum dolor sit amet consectetur adipisicing elit. Dolor error illum eaque, itaque eius placeat!"),p.qZA(),p.TgZ(144,"h4"),p._uU(145,"Lalita"),p.qZA(),p.TgZ(146,"div",26),p._UZ(147,"i",27)(148,"i",27)(149,"i",27)(150,"i",27)(151,"i",28),p.qZA()()()()()(),p.TgZ(152,"section",32)(153,"div",7)(154,"h2",8),p._uU(155," Our "),p.TgZ(156,"span"),p._uU(157,"Blogs"),p.qZA()(),p.TgZ(158,"div",9)(159,"div",10)(160,"div",33),p._UZ(161,"img",34),p.TgZ(162,"div",35)(163,"div",36)(164,"a",37),p._UZ(165,"i",38),p._uU(166," By User"),p.qZA(),p.TgZ(167,"a",37),p._UZ(168,"i",39),p._uU(169," 1st May, 2021"),p.qZA()(),p._UZ(170,"hr"),p.TgZ(171,"h4"),p._uU(172,"Fresh And Organic Vegitables And Fruits"),p.qZA(),p.TgZ(173,"p",3),p._uU(174,"Lorem Ipsum Dolor Sit Amet Consectetur Adipisicing Elit. Veniam, Expedita."),p.qZA(),p.TgZ(175,"button",4),p._uU(176,"Read More"),p.qZA()()()(),p.TgZ(177,"div",10)(178,"div",33),p._UZ(179,"img",40),p.TgZ(180,"div",35)(181,"div",36)(182,"a",37),p._UZ(183,"i",38),p._uU(184," By User"),p.qZA(),p.TgZ(185,"a",37),p._UZ(186,"i",39),p._uU(187," 1st May, 2021"),p.qZA()(),p._UZ(188,"hr"),p.TgZ(189,"h4"),p._uU(190,"Fresh And Organic Vegitables And Fruits"),p.qZA(),p.TgZ(191,"p",3),p._uU(192,"Lorem Ipsum Dolor Sit Amet Consectetur Adipisicing Elit. Veniam, Expedita."),p.qZA(),p.TgZ(193,"button",4),p._uU(194,"Read More"),p.qZA()()()(),p.TgZ(195,"div",10)(196,"div",33),p._UZ(197,"img",41),p.TgZ(198,"div",35)(199,"div",36)(200,"a",37),p._UZ(201,"i",38),p._uU(202," By User"),p.qZA(),p.TgZ(203,"a",37),p._UZ(204,"i",39),p._uU(205," 1st May, 2021"),p.qZA()(),p._UZ(206,"hr"),p.TgZ(207,"h4"),p._uU(208,"Fresh And Organic Vegitables And Fruits"),p.qZA(),p.TgZ(209,"p",3),p._uU(210,"Lorem Ipsum Dolor Sit Amet Consectetur Adipisicing Elit. Veniam, Expedita."),p.qZA(),p.TgZ(211,"button",4),p._uU(212,"Read More"),p.qZA()()()()()()(),p.TgZ(213,"footer",42)(214,"div",43)(215,"div",44)(216,"div",16)(217,"div",45)(218,"h4"),p._uU(219,"Groco "),p._UZ(220,"i",46),p.qZA(),p.TgZ(221,"p",3),p._uU(222,"Lorem Ipsum Dolor, Sit Amet Consectetur Adipisicing Elit. Aliquam, Saepe."),p.qZA(),p.TgZ(223,"div",47)(224,"div",0),p._UZ(225,"i",48),p.qZA(),p.TgZ(226,"div",0),p._UZ(227,"i",49),p.qZA(),p.TgZ(228,"div",0),p._UZ(229,"i",50),p.qZA(),p.TgZ(230,"div",0),p._UZ(231,"i",51),p.qZA()()()(),p.TgZ(232,"div",16)(233,"div",45)(234,"h4"),p._uU(235,"Contact Info"),p.qZA(),p.TgZ(236,"ul",52)(237,"li",53),p._UZ(238,"i",54),p.TgZ(239,"p",55),p._uU(240,"+2001142261445"),p.qZA()(),p.TgZ(241,"li",53),p._UZ(242,"i",56),p.TgZ(243,"p",55),p._uU(244,"fadyfaresabdulraouf@outlook.com"),p.qZA()(),p.TgZ(245,"li",53),p._UZ(246,"i",57),p.TgZ(247,"p",55),p._uU(248,"Zagazig - AlSharkia - Egyplt"),p.qZA()()()()(),p.TgZ(249,"div",16)(250,"div",45)(251,"h4"),p._uU(252,"Quick Links"),p.qZA(),p.TgZ(253,"ul",52)(254,"li",53),p._UZ(255,"i",58),p.TgZ(256,"p",55),p._uU(257,"Home"),p.qZA()(),p.TgZ(258,"li",53),p._UZ(259,"i",58),p.TgZ(260,"p",55),p._uU(261,"Features"),p.qZA()(),p.TgZ(262,"li",53),p._UZ(263,"i",58),p.TgZ(264,"p",55),p._uU(265,"Catogeries"),p.qZA()(),p.TgZ(266,"li",53),p._UZ(267,"i",58),p.TgZ(268,"p",55),p._uU(269,"Revirew"),p.qZA()(),p.TgZ(270,"li",53),p._UZ(271,"i",58),p.TgZ(272,"p",55),p._uU(273,"Blogs"),p.qZA()()()()(),p.TgZ(274,"div",16)(275,"div",45)(276,"h4"),p._uU(277,"Newsletter"),p.qZA(),p.TgZ(278,"p",3),p._uU(279,"Subscribe For Latest Updates"),p.qZA(),p._UZ(280,"input",59),p.TgZ(281,"button",60),p._uU(282,"Subscribe"),p.qZA(),p._UZ(283,"img",61),p.qZA()()(),p._UZ(284,"hr"),p.TgZ(285,"div",62)(286,"h5"),p._uU(287,"Created By "),p.TgZ(288,"span",2),p._uU(289,"Fady Fares"),p.qZA(),p._uU(290," | All Rights Reserved | "),p.TgZ(291,"span",2),p._uU(292,"\xa9 2022"),p.qZA()()()()())},directives:[Rn.yS],styles:["header[_ngcontent-%COMP%]{background-image:url(banner-bg.15381351316221e2.webp);background-position:center;background-size:cover;min-height:500px}button[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#fff}.heading[_ngcontent-%COMP%]{text-align:center;font-size:32px;color:#000}.heading[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{background:#ff7800;color:#fff;padding:.5rem 3rem;clip-path:polygon(100% 0,93% 50%,100% 99%,0% 100%,7% 50%,0% 0%)}.features[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:10rem}.features[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]{cursor:pointer;transition:all .2s}.features[_ngcontent-%COMP%]   .item[_ngcontent-%COMP%]:hover{transform:translateY(-10px)}.catogeries[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:10rem}.blogs[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{height:18rem}.social-icons[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{width:30px;height:30px;background-color:#eee;border-radius:2px;margin:0 5px;cursor:pointer;transition:.2s}.social-icons[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]:hover{background-color:#ff7800;color:#fff}footer[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin:8px 0}footer[_ngcontent-%COMP%]   .custom-para[_ngcontent-%COMP%]{margin:0 10px;cursor:pointer;transition:all .2s}footer[_ngcontent-%COMP%]   .custom-para[_ngcontent-%COMP%]:hover{transform:translate(8px)}footer[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{background-color:#eee;border:none}@media (max-width:450px){.home-content[_ngcontent-%COMP%]{width:100%!important}.heading[_ngcontent-%COMP%]{font-size:18px}}"]}),Q})();var hn=L(7556),jr=L(4961);function xi(Q,ne){1&Q&&(p.TgZ(0,"p",13),p._uU(1,"* email is required"),p.qZA())}function Mi(Q,ne){1&Q&&(p.TgZ(0,"p",13),p._uU(1,"* email is Invalid "),p.qZA())}function ei(Q,ne){if(1&Q&&(p.TgZ(0,"div",11),p.YNc(1,xi,2,0,"p",12),p.YNc(2,Mi,2,0,"p",12),p.qZA()),2&Q){const $=p.oxw();let te,De;p.xp6(1),p.Q6J("ngIf",null==(te=$.loginForm.get("email"))||null==te.errors?null:te.errors.required),p.xp6(1),p.Q6J("ngIf",null==(De=$.loginForm.get("email"))||null==De.errors?null:De.errors.email)}}function Cr(Q,ne){1&Q&&(p.TgZ(0,"p",13),p._uU(1,"* password is required"),p.qZA())}function cr(Q,ne){if(1&Q&&(p.TgZ(0,"div",11),p.YNc(1,Cr,2,0,"p",12),p.qZA()),2&Q){const $=p.oxw();let te;p.xp6(1),p.Q6J("ngIf",null==(te=$.loginForm.get("password"))||null==te.errors?null:te.errors.required)}}function br(Q,ne){if(1&Q&&(p.TgZ(0,"div",14),p._uU(1),p.qZA()),2&Q){const $=p.oxw();p.xp6(1),p.hij(" ",$.errorMsg," ")}}let Pn=(()=>{class Q{constructor($,te,De){this._AuthService=$,this._UsersService=te,this.router=De,this.errorMsg="",this.loginForm=new Bt.cw({email:new Bt.NI(null,[Bt.kI.required,Bt.kI.email]),password:new Bt.NI(null,[Bt.kI.required])})}ngOnInit(){}login(){let $=this.loginForm.value;this._AuthService.signIn($.email,$.password).then(()=>{this.errorMsg="",this.router.navigate(["./"])}).catch(te=>{let De=te.code;"auth/user-not-found"==De?this.errorMsg="The email is not found":"auth/wrong-password"==De?this.errorMsg="The password is invalid":console.log(te.message)})}}return Q.\u0275fac=function($){return new($||Q)(p.Y36(hn.e),p.Y36(jr.f),p.Y36(Rn.F0))},Q.\u0275cmp=p.Xpm({type:Q,selectors:[["app-login"]],decls:17,vars:5,consts:[[1,"login"],[1,"overlay","d-flex"],[1,"container","d-flex","justify-content-center","align-items-center","text-white"],[1,"w-50","shadow-lg","py-5","px-4",3,"formGroup","ngSubmit"],[1,"mb-5"],["formControlName","email","type","email","id","email","placeholder","email",1,"form-control","my-2"],["class","alert-danger alert",4,"ngIf"],["formControlName","password","type","password","id","password","placeholder","password",1,"form-control","my-2"],["type","submit",1,"btn","w-100","custom-button","my-4",3,"disabled"],["class","alert alert-danger",4,"ngIf"],["routerLink","/register",1,"main-color","register"],[1,"alert-danger","alert"],["class","m-0",4,"ngIf"],[1,"m-0"],[1,"alert","alert-danger"]],template:function($,te){if(1&$&&(p.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),p.NdJ("ngSubmit",function(){return te.login()}),p.TgZ(4,"h2",4),p._uU(5,"Sign In"),p.qZA(),p._UZ(6,"input",5),p.YNc(7,ei,3,2,"div",6),p._UZ(8,"input",7),p.YNc(9,cr,2,1,"div",6),p.TgZ(10,"button",8),p._uU(11,"Sign In"),p.qZA(),p.YNc(12,br,2,1,"div",9),p.TgZ(13,"p"),p._uU(14,"If you have not an account ! "),p.TgZ(15,"a",10),p._uU(16,"Sign Up"),p.qZA()()()()()()),2&$){let De,ut;p.xp6(3),p.Q6J("formGroup",te.loginForm),p.xp6(4),p.Q6J("ngIf",(null==(De=te.loginForm.get("email"))?null:De.errors)&&(null==(De=te.loginForm.get("email"))?null:De.touched)),p.xp6(2),p.Q6J("ngIf",(null==(ut=te.loginForm.get("password"))?null:ut.errors)&&(null==(ut=te.loginForm.get("password"))?null:ut.touched)),p.xp6(1),p.Q6J("disabled",te.loginForm.invalid),p.xp6(2),p.Q6J("ngIf",te.errorMsg)}},directives:[Bt._Y,Bt.JL,Bt.sg,Bt.Fj,Bt.JJ,Bt.u,g.O5,Rn.yS],styles:[".login[_ngcontent-%COMP%]{position:relative;height:100vh;background-image:url(bg.7adfcb746b7cb0ec.avif);background-position:center;background-size:cover}.overlay[_ngcontent-%COMP%]{top:0;left:0;height:100%;width:100%;background-color:#000000b3;z-index:9999}form[_ngcontent-%COMP%]{background-color:#000000bf}input[_ngcontent-%COMP%], input[_ngcontent-%COMP%]:focus{color:#fff;background-color:#333;border-color:#333}.custom-button[_ngcontent-%COMP%]{border:2px solid #000;padding:10px 15px;background-color:#ff7800;color:#fff}.register[_ngcontent-%COMP%]:hover{color:#ff7800}@media (max-width:777px){form[_ngcontent-%COMP%]{width:80%!important}}@media (max-width:450px){form[_ngcontent-%COMP%]{width:100%!important}}"]}),Q})(),Fn=(()=>{class Q{constructor($){this._ProductsService=$}ngOnInit(){this._ProductsService.cartProduct.splice(0,this._ProductsService.cartProduct.length),this._ProductsService.countProductCart.next(0)}}return Q.\u0275fac=function($){return new($||Q)(p.Y36(Xt.s))},Q.\u0275cmp=p.Xpm({type:Q,selectors:[["app-order-succes"]],decls:6,vars:0,consts:[[1,"done","py-5"],[1,"container","mt-5"],[1,"fw-bolder"]],template:function($,te){1&$&&(p.TgZ(0,"div",0)(1,"div",1)(2,"h3",2),p._uU(3,"Thank You"),p.qZA(),p.TgZ(4,"p"),p._uU(5,"We received your order and will process it within the next 24 hours!"),p.qZA()()())},styles:[""]}),Q})(),es=(()=>{class Q{constructor(){}ngOnInit(){}}return Q.\u0275fac=function($){return new($||Q)},Q.\u0275cmp=p.Xpm({type:Q,selectors:[["app-pagenotfound"]],decls:2,vars:0,consts:[[1,"d-flex","justify-content-center","align-items-center","vh-100","bg-white"],["src","../../assets/image/notfound.webp","alt","",1,"img-fluid"]],template:function($,te){1&$&&(p.TgZ(0,"section",0),p._UZ(1,"img",1),p.qZA())},styles:[""]}),Q})();function yr(Q,ne){1&Q&&(p.TgZ(0,"p",15),p._uU(1,"* name is required"),p.qZA())}function Gr(Q,ne){1&Q&&(p.TgZ(0,"p",15),p._uU(1,"* name is min length 3 "),p.qZA())}function ti(Q,ne){1&Q&&(p.TgZ(0,"p",15),p._uU(1,"* name is max length 20 "),p.qZA())}function us(Q,ne){if(1&Q&&(p.TgZ(0,"div",13),p.YNc(1,yr,2,0,"p",14),p.YNc(2,Gr,2,0,"p",14),p.YNc(3,ti,2,0,"p",14),p.qZA()),2&Q){const $=p.oxw();let te,De,ut;p.xp6(1),p.Q6J("ngIf",null==(te=$.registerForm.get("name"))||null==te.errors?null:te.errors.required),p.xp6(1),p.Q6J("ngIf",null==(De=$.registerForm.get("name"))||null==De.errors?null:De.errors.minlength),p.xp6(1),p.Q6J("ngIf",null==(ut=$.registerForm.get("name"))||null==ut.errors?null:ut.errors.maxllength)}}function _r(Q,ne){1&Q&&(p.TgZ(0,"p",15),p._uU(1,"* city is required"),p.qZA())}function ms(Q,ne){1&Q&&(p.TgZ(0,"p",15),p._uU(1,"* city is min length 4 "),p.qZA())}function oi(Q,ne){if(1&Q&&(p.TgZ(0,"div",13),p.YNc(1,_r,2,0,"p",14),p.YNc(2,ms,2,0,"p",14),p.qZA()),2&Q){const $=p.oxw();let te,De;p.xp6(1),p.Q6J("ngIf",null==(te=$.registerForm.get("city"))||null==te.errors?null:te.errors.required),p.xp6(1),p.Q6J("ngIf",null==(De=$.registerForm.get("city"))||null==De.errors?null:De.errors.minlength)}}function Vi(Q,ne){1&Q&&(p.TgZ(0,"p",15),p._uU(1,"* email is required"),p.qZA())}function ys(Q,ne){1&Q&&(p.TgZ(0,"p",15),p._uU(1,"* email is Invalid "),p.qZA())}function _s(Q,ne){if(1&Q&&(p.TgZ(0,"div",13),p.YNc(1,Vi,2,0,"p",14),p.YNc(2,ys,2,0,"p",14),p.qZA()),2&Q){const $=p.oxw();let te,De;p.xp6(1),p.Q6J("ngIf",null==(te=$.registerForm.get("email"))||null==te.errors?null:te.errors.required),p.xp6(1),p.Q6J("ngIf",null==(De=$.registerForm.get("email"))||null==De.errors?null:De.errors.email)}}function Sn(Q,ne){1&Q&&(p.TgZ(0,"p",15),p._uU(1,"* password is required"),p.qZA())}function Ss(Q,ne){if(1&Q&&(p.TgZ(0,"div",13),p.YNc(1,Sn,2,0,"p",14),p.qZA()),2&Q){const $=p.oxw();let te;p.xp6(1),p.Q6J("ngIf",null==(te=$.registerForm.get("password"))||null==te.errors?null:te.errors.required)}}function xs(Q,ne){if(1&Q&&(p.TgZ(0,"div",16),p._uU(1),p.qZA()),2&Q){const $=p.oxw();p.xp6(1),p.hij(" ",$.errorMsg," ")}}let Ie=(()=>{class Q{constructor($,te,De){this._AuthService=$,this._UsersService=te,this.router=De,this.errorMsg="",this.registerForm=new Bt.cw({name:new Bt.NI(null,[Bt.kI.required,Bt.kI.minLength(3),Bt.kI.maxLength(20)]),city:new Bt.NI(null,[Bt.kI.required,Bt.kI.minLength(4)]),email:new Bt.NI(null,[Bt.kI.required,Bt.kI.email]),password:new Bt.NI(null,[Bt.kI.required])})}ngOnInit(){}register(){let $=this.registerForm.value;this._AuthService.signUp($.email,$.password).then(te=>{var De;this.errorMsg="",this._UsersService.addNewUser(null===(De=te.user)||void 0===De?void 0:De.uid,$.name,$.city).then(()=>{this.router.navigate(["./"])})}).catch(te=>{let De=te.code;"auth/email-already-in-use"==De?this.errorMsg="The email address is already in use by another account":"auth/weak-password"==De?this.errorMsg="The password is too weak.":console.log(te.message)})}}return Q.\u0275fac=function($){return new($||Q)(p.Y36(hn.e),p.Y36(jr.f),p.Y36(Rn.F0))},Q.\u0275cmp=p.Xpm({type:Q,selectors:[["app-register"]],decls:21,vars:7,consts:[[1,"register"],[1,"overlay","d-flex"],[1,"container","d-flex","justify-content-center","align-items-center","text-white"],[1,"w-50","shadow-lg","py-5","px-4",3,"formGroup","ngSubmit"],[1,"mb-5"],["formControlName","name","type","text","id","name","placeholder","Name",1,"form-control","my-2"],["class","alert-danger alert",4,"ngIf"],["formControlName","city","type","text","id","city","placeholder","city",1,"form-control","my-2"],["formControlName","email","type","email","id","email","placeholder","email",1,"form-control","my-2"],["formControlName","password","type","password","id","password","placeholder","password",1,"form-control","my-2"],["type","submit",1,"btn","w-100","custom-button","my-4",3,"disabled"],["class","alert alert-danger",4,"ngIf"],["routerLink","/login",1,"main-color","login"],[1,"alert-danger","alert"],["class","m-0",4,"ngIf"],[1,"m-0"],[1,"alert","alert-danger"]],template:function($,te){if(1&$&&(p.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"form",3),p.NdJ("ngSubmit",function(){return te.register()}),p.TgZ(4,"h2",4),p._uU(5,"Sign Up"),p.qZA(),p._UZ(6,"input",5),p.YNc(7,us,4,3,"div",6),p._UZ(8,"input",7),p.YNc(9,oi,3,2,"div",6),p._UZ(10,"input",8),p.YNc(11,_s,3,2,"div",6),p._UZ(12,"input",9),p.YNc(13,Ss,2,1,"div",6),p.TgZ(14,"button",10),p._uU(15,"Sign Up"),p.qZA(),p.YNc(16,xs,2,1,"div",11),p.TgZ(17,"p"),p._uU(18,"Already have an account ! "),p.TgZ(19,"a",12),p._uU(20,"Sign In"),p.qZA()()()()()()),2&$){let De,ut,Yt,xn;p.xp6(3),p.Q6J("formGroup",te.registerForm),p.xp6(4),p.Q6J("ngIf",(null==(De=te.registerForm.get("name"))?null:De.errors)&&(null==(De=te.registerForm.get("name"))?null:De.touched)),p.xp6(2),p.Q6J("ngIf",(null==(ut=te.registerForm.get("city"))?null:ut.errors)&&(null==(ut=te.registerForm.get("city"))?null:ut.touched)),p.xp6(2),p.Q6J("ngIf",(null==(Yt=te.registerForm.get("email"))?null:Yt.errors)&&(null==(Yt=te.registerForm.get("email"))?null:Yt.touched)),p.xp6(2),p.Q6J("ngIf",(null==(xn=te.registerForm.get("password"))?null:xn.errors)&&(null==(xn=te.registerForm.get("password"))?null:xn.touched)),p.xp6(1),p.Q6J("disabled",te.registerForm.invalid),p.xp6(2),p.Q6J("ngIf",te.errorMsg)}},directives:[Bt._Y,Bt.JL,Bt.sg,Bt.Fj,Bt.JJ,Bt.u,g.O5,Rn.yS],styles:[".register[_ngcontent-%COMP%]{position:relative;height:100vh;background-image:url(bg.7adfcb746b7cb0ec.avif);background-position:center;background-size:cover}.overlay[_ngcontent-%COMP%]{top:0;left:0;height:100%;width:100%;background-color:#000000b3;z-index:9999}form[_ngcontent-%COMP%]{background-color:#000000bf}input[_ngcontent-%COMP%], input[_ngcontent-%COMP%]:focus{color:#fff;background-color:#333;border-color:#333}.custom-button[_ngcontent-%COMP%]{border:2px solid #000;padding:10px 15px;background-color:#ff7800;color:#fff}.login[_ngcontent-%COMP%]:hover{color:#ff7800}@media (max-width:777px){form[_ngcontent-%COMP%]{width:80%!important}}@media (max-width:450px){form[_ngcontent-%COMP%]{width:100%!important}}"]}),Q})();function me(Q,ne){if(1&Q){const $=p.EpF();p.TgZ(0,"div",12)(1,"div",13),p._UZ(2,"img",14),p.TgZ(3,"h4"),p._uU(4),p.qZA(),p.TgZ(5,"p",15),p._uU(6),p.qZA(),p.TgZ(7,"button",16),p.NdJ("click",function(De){const Yt=p.CHM($).index;return p.oxw().addProductToCart(Yt,De)}),p._uU(8,"Add To Cart"),p.qZA()()()}if(2&Q){const $=ne.$implicit;p.xp6(2),p.Q6J("src",$.imgUrl,p.LSH),p.xp6(2),p.Oqu($.name),p.xp6(2),p.hij("$",$.price,"")}}let Fe=(()=>{class Q{constructor($){this._ProductsService=$,this.productsCat=[]}ngOnInit(){this._ProductsService.getAllProducts().subscribe($=>this.productsCat=$.map(te=>te.payload.doc.data()))}getProducts($,te){var De;const ut=te.target;this._ProductsService.getAllProducts().subscribe(Yt=>this.productsCat=Yt.map(xn=>xn.payload.doc.data())),$&&this._ProductsService.getAllProducts().subscribe(Yt=>this.productsCat=Yt.map(xn=>xn.payload.doc.data()).filter(xn=>xn.category==$)),null!==document.querySelector("li.active")&&(null===(De=document.querySelector("li.active"))||void 0===De||De.classList.remove("active")),ut.className="active"}addProductToCart($,te){const De=te.target;"Add To Cart"==De.innerHTML&&(this._ProductsService.cartProduct.push(this.productsCat[$]),this._ProductsService.countProductCart.next(this._ProductsService.cartProduct.length),De.innerHTML="Done",De.classList.add("bg-info","border-0"))}}return Q.\u0275fac=function($){return new($||Q)(p.Y36(Xt.s))},Q.\u0275cmp=p.Xpm({type:Q,selectors:[["app-shopping"]],decls:24,vars:1,consts:[[1,"shopping","py-5","mt-5"],[1,"container"],[1,"row"],[1,"col-3"],[1,"item"],[1,"p-0","my-5"],[1,"active",3,"click"],[3,"click"],[1,"col-9"],[1,"d-flex","justify-content-between"],[1,"row","gy-4","py-3"],["class","col-lg-3 col-md-6",4,"ngFor","ngForOf"],[1,"col-lg-3","col-md-6"],[1,"item","text-center","bg-white","text-center","shadow","p-4"],["alt","product",1,"img-fluid",3,"src"],[1,"text-muted"],[1,"btn","custom-button",3,"click"]],template:function($,te){1&$&&(p.TgZ(0,"section",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"div",4)(5,"ul",5)(6,"li",6),p.NdJ("click",function(ut){return te.getProducts("",ut)}),p._uU(7,"All Categories"),p.qZA(),p._UZ(8,"hr"),p.TgZ(9,"li",7),p.NdJ("click",function(ut){return te.getProducts("vegetables",ut)}),p._uU(10,"Vegitables"),p.qZA(),p._UZ(11,"hr"),p.TgZ(12,"li",7),p.NdJ("click",function(ut){return te.getProducts("fruit",ut)}),p._uU(13,"Fresh Fruits"),p.qZA(),p._UZ(14,"hr"),p.TgZ(15,"li",7),p.NdJ("click",function(ut){return te.getProducts("dairy",ut)}),p._uU(16,"Dairy Products"),p.qZA(),p._UZ(17,"hr"),p.TgZ(18,"li",7),p.NdJ("click",function(ut){return te.getProducts("meat",ut)}),p._uU(19,"Fresh Meat"),p.qZA()()()(),p.TgZ(20,"div",8),p._UZ(21,"div",9),p.TgZ(22,"div",10),p.YNc(23,me,9,3,"div",11),p.qZA()()()()()),2&$&&(p.xp6(23),p.Q6J("ngForOf",te.productsCat))},directives:[g.sg],styles:[".shopping[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{cursor:pointer;margin:10px 0}.active[_ngcontent-%COMP%]{background-color:#ff7800;color:#fff}img[_ngcontent-%COMP%]{height:10rem}ul[_ngcontent-%COMP%]{border:1px solid #bbbcbd}ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:20px 10px;font-size:18px;margin:0!important}hr[_ngcontent-%COMP%]{margin:0!important}"]}),Q})();var Ye=L(5107);const ht=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"register",component:Ie},{path:"login",component:Pn},{path:"home",canActivate:[Ye.a],component:gi},{path:"shopping",canActivate:[Ye.a],component:Fe},{path:"cart",canActivate:[Ye.a],component:Lr},{path:"check-out",canActivate:[Ye.a],component:mr},{path:"order-succes",canActivate:[Ye.a],component:Fn},{path:"admin",loadChildren:()=>L.e(490).then(L.bind(L,1490)).then(Q=>Q.DashboardModule)},{path:"**",canActivate:[Ye.a],component:es}];let Lt=(()=>{class Q{}return Q.\u0275fac=function($){return new($||Q)},Q.\u0275mod=p.oAB({type:Q}),Q.\u0275inj=p.cJS({imports:[[Rn.Bz.forRoot(ht,{useHash:!0})],Rn.Bz]}),Q})();function Ln(Q,ne){1&Q&&(p.TgZ(0,"div",9)(1,"a",10),p._UZ(2,"i",11),p.qZA()())}function Rr(Q,ne){if(1&Q&&(p.TgZ(0,"div",12)(1,"a",13),p._UZ(2,"i",14),p.qZA(),p.TgZ(3,"div",15),p._uU(4),p.qZA()()),2&Q){const $=p.oxw();p.xp6(4),p.hij(" ",$.countProductCart," ")}}function Un(Q,ne){if(1&Q){const $=p.EpF();p.TgZ(0,"div",16)(1,"a",17),p._uU(2),p.qZA(),p.TgZ(3,"ul",18)(4,"li")(5,"a",19),p._uU(6,"my orders"),p.qZA()(),p.TgZ(7,"li")(8,"a",20),p._uU(9,"manage orders"),p.qZA()(),p.TgZ(10,"li")(11,"a",21),p._uU(12,"manage products"),p.qZA()(),p.TgZ(13,"li"),p._UZ(14,"hr",22),p.qZA(),p.TgZ(15,"li")(16,"a",23),p.NdJ("click",function(){return p.CHM($),p.oxw().callSignOut()}),p._uU(17,"Log Out"),p.qZA()()()()}if(2&Q){const $=p.oxw();p.xp6(2),p.Oqu($.username)}}const mi=function(Q){return{"bg-white":Q}},Bi=function(Q){return{"text-white":Q}};let yi=(()=>{class Q{constructor($,te,De,ut){this._ProductsService=$,this._AuthService=te,this._UsersService=De,this.router=ut,this.countProductCart=0,this.isLogin=!1,this.username=""}ngOnInit(){this._ProductsService.countProductCart.subscribe(()=>{this.countProductCart=this._ProductsService.countProductCart.getValue()}),this._AuthService.user.subscribe($=>{$?(this.isLogin=!0,this._AuthService.userId=$.uid,this._UsersService.getUserData().subscribe(te=>{let De=te.payload.data();this.username=De.name})):(this.isLogin=!1,this._AuthService.userId="")})}callSignOut(){this._AuthService.signOut().then(()=>{this.isLogin=!1,this.router.navigate(["./login"])})}}return Q.\u0275fac=function($){return new($||Q)(p.Y36(Xt.s),p.Y36(hn.e),p.Y36(jr.f),p.Y36(Rn.F0))},Q.\u0275cmp=p.Xpm({type:Q,selectors:[["app-navbar"]],decls:10,vars:9,consts:[[1,"py-3","position-fixed","top-0","start-0","end-0","shadow",3,"ngClass"],[1,"container","d-flex","justify-content-between","align-items-center"],[1,"logo"],["routerLink","/",3,"ngClass"],[1,"fa-solid","fa-basket-shopping","main-color"],[1,"nav-icons","d-flex"],["class","shopping me-3",4,"ngIf"],["class","cart me-3 position-relative",4,"ngIf"],["class","nav-item dropdown",4,"ngIf"],[1,"shopping","me-3"],["routerLink","/shopping"],[1,"fa-solid","fa-basket-shopping"],[1,"cart","me-3","position-relative"],["routerLink","/cart"],[1,"fa-solid","fa-cart-shopping"],["id","count"],[1,"nav-item","dropdown"],["data-bs-toggle","dropdown","role","button","aria-expanded","false",1,"nav-link","dropdown-toggle","text-black","user-name"],[1,"dropdown-menu"],["routerLink","admin/my-orders",1,"dropdown-item"],["routerLink","admin/manage-orders",1,"dropdown-item"],["routerLink","admin/manage-products",1,"dropdown-item"],[1,"dropdown-divider"],[1,"dropdown-item","log-out",3,"click"]],template:function($,te){1&$&&(p.TgZ(0,"nav",0)(1,"div",1)(2,"div",2)(3,"a",3),p._UZ(4,"i",4),p._uU(5," Groco "),p.qZA()(),p.TgZ(6,"div",5),p.YNc(7,Ln,3,0,"div",6),p.YNc(8,Rr,5,1,"div",7),p.YNc(9,Un,18,1,"div",8),p.qZA()()()),2&$&&(p.Q6J("ngClass",p.VKq(5,mi,te.isLogin)),p.xp6(3),p.Q6J("ngClass",p.VKq(7,Bi,!te.isLogin)),p.xp6(4),p.Q6J("ngIf",te.isLogin),p.xp6(1),p.Q6J("ngIf",te.isLogin),p.xp6(1),p.Q6J("ngIf",te.isLogin))},directives:[g.mk,Rn.yS,g.O5],styles:["nav[_ngcontent-%COMP%]{z-index:1000}.logo[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#000}.nav-items[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{transition:.5s}.nav-items[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]:hover{color:#ff7800}.logo[_ngcontent-%COMP%]{font-size:24px;font-weight:bolder}.nav-links[_ngcontent-%COMP%]{margin:0 10px}.cart[_ngcontent-%COMP%], .shopping[_ngcontent-%COMP%]{background:#eee;padding:10px;width:40px;display:flex;justify-content:center;align-items:center;height:40px;border-radius:3px;cursor:pointer;transition:.5s}.cart[_ngcontent-%COMP%]:hover, .shopping[_ngcontent-%COMP%]:hover{background-color:#ff7800;color:#fff}.cart[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%], .shopping[_ngcontent-%COMP%]:hover   a[_ngcontent-%COMP%]{color:#fff}.nav-icons[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:18px}#count[_ngcontent-%COMP%]{position:absolute;top:-8px;right:-7px;padding-right:2px;width:20px;height:20px;display:flex;font-size:14px;background:#f00;border-radius:50%;justify-content:center;align-items:center;color:#fff}.user-name[_ngcontent-%COMP%]{font-size:18px}.log-out[_ngcontent-%COMP%]{cursor:pointer}"]}),Q})(),Zi=(()=>{class Q{constructor(){this.title="ECOMMERCE"}}return Q.\u0275fac=function($){return new($||Q)},Q.\u0275cmp=p.Xpm({type:Q,selectors:[["app-root"]],decls:2,vars:0,template:function($,te){1&$&&p._UZ(0,"app-navbar")(1,"router-outlet")},directives:[yi,Rn.lC],styles:[""]}),Q})(),Ti=(()=>{class Q{}return Q.\u0275fac=function($){return new($||Q)},Q.\u0275mod=p.oAB({type:Q,bootstrap:[Zi]}),Q.\u0275inj=p.cJS({providers:[],imports:[[xr,Lt,In.hO.initializeApp(Ht_firebase),Jt.yb,Bt.UX,En.ww,Bt.u5]]}),Q})();(0,p.G48)(),wr().bootstrapModule(Ti).catch(Q=>console.error(Q))},5867:(St,Be,L)=>{L.d(Be,{Mq:()=>g.getApp,C6:()=>g.getApps});var g=L(9681);(0,g.registerVersion)("firebase","9.6.10","app")},127:(St,Be,L)=>{L.d(Be,{Z:()=>g.Z});var g=L(3942);g.Z.registerVersion("firebase","9.6.10","app-compat")},4087:(St,Be,L)=>{L.r(Be);var g=L(5861),p=L(3942),Y=L(2090),pe=L(9681),ce=L(655),we=L(1877),Te=L(4859);const Xe=function ft(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},at=function qe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},Ge=new Y.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Tt=new we.Yd("@firebase/auth");function vt(m,...c){Tt.logLevel<=we.in.ERROR&&Tt.error(`Auth (${pe.SDK_VERSION}): ${m}`,...c)}function ue(m,...c){throw et(m,...c)}function Ce(m,...c){return et(m,...c)}function We(m,c,h){const w=Object.assign(Object.assign({},at()),{[c]:h});return new Y.LL("auth","Firebase",w).create(c,{appName:m.name})}function st(m,c,h){if(!(c instanceof h))throw h.name!==c.constructor.name&&ue(m,"argument-error"),We(m,"argument-error",`Type of ${c.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function et(m,...c){if("string"!=typeof m){const h=c[0],w=[...c.slice(1)];return w[0]&&(w[0].appName=m.name),m._errorFactory.create(h,...w)}return Ge.create(m,...c)}function Ne(m,c,...h){if(!m)throw et(c,...h)}function be(m){const c="INTERNAL ASSERTION FAILED: "+m;throw vt(c),new Error(c)}function fe(m,c){m||be(c)}const Oe=new Map;function Ee(m){fe(m instanceof Function,"Expected a class definition");let c=Oe.get(m);return c?(fe(c instanceof m,"Instance stored in cache mismatched with class"),c):(c=new m,Oe.set(m,c),c)}function en(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.href)||""}function $t(){return"http:"===sn()||"https:"===sn()}function sn(){var m;return"undefined"!=typeof self&&(null===(m=self.location)||void 0===m?void 0:m.protocol)||null}class Qt{constructor(c,h){this.shortDelay=c,this.longDelay=h,fe(h>c,"Short delay should be less than long delay!"),this.isMobile=(0,Y.uI)()||(0,Y.b$)()}get(){return function _t(){return!("undefined"!=typeof navigator&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&($t()||(0,Y.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Pt(m,c){fe(m.emulator,"Emulator should always be set here");const{url:h}=m.emulator;return c?`${h}${c.startsWith("/")?c.slice(1):c}`:h}class Tn{static initialize(c,h,w){this.fetchImpl=c,h&&(this.headersImpl=h),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!=typeof self&&"fetch"in self?self.fetch:void be("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!=typeof self&&"Headers"in self?self.Headers:void be("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!=typeof self&&"Response"in self?self.Response:void be("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const It={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},pn=new Qt(3e4,6e4);function kt(m,c){return m.tenantId&&!c.tenantId?Object.assign(Object.assign({},c),{tenantId:m.tenantId}):c}function yn(m,c,h,w){return kn.apply(this,arguments)}function kn(){return(kn=(0,g.Z)(function*(m,c,h,w,U={}){return zn(m,U,(0,g.Z)(function*(){let J={},xe={};w&&("GET"===c?xe=w:J={body:JSON.stringify(w)});const je=(0,Y.xO)(Object.assign({key:m.config.apiKey},xe)).slice(1),Rt=yield m._getAdditionalHeaders();return Rt["Content-Type"]="application/json",m.languageCode&&(Rt["X-Firebase-Locale"]=m.languageCode),Tn.fetch()(Wn(m,m.config.apiHost,h,je),Object.assign({method:c,headers:Rt,referrerPolicy:"no-referrer"},J))}))})).apply(this,arguments)}function zn(m,c,h){return Qr.apply(this,arguments)}function Qr(){return(Qr=(0,g.Z)(function*(m,c,h){m._canInitEmulator=!1;const w=Object.assign(Object.assign({},It),c);try{const U=new xr(m),J=yield Promise.race([h(),U.promise]);U.clearNetworkTimeout();const xe=yield J.json();if("needConfirmation"in xe)throw jn(m,"account-exists-with-different-credential",xe);if(J.ok&&!("errorMessage"in xe))return xe;{const je=J.ok?xe.errorMessage:xe.error.message,[Rt,rn]=je.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Rt)throw jn(m,"credential-already-in-use",xe);if("EMAIL_EXISTS"===Rt)throw jn(m,"email-already-in-use",xe);const dn=w[Rt]||Rt.toLowerCase().replace(/[_\s]+/g,"-");if(rn)throw We(m,dn,rn);ue(m,dn)}}catch(U){if(U instanceof Y.ZR)throw U;ue(m,"network-request-failed")}})).apply(this,arguments)}function rr(m,c,h,w){return wr.apply(this,arguments)}function wr(){return(wr=(0,g.Z)(function*(m,c,h,w,U={}){const J=yield yn(m,c,h,w,U);return"mfaPendingCredential"in J&&ue(m,"multi-factor-auth-required",{_serverResponse:J}),J})).apply(this,arguments)}function Wn(m,c,h,w){const U=`${c}${h}?${w}`;return m.config.emulator?Pt(m.config,U):`${m.config.apiScheme}://${U}`}class xr{constructor(c){this.auth=c,this.timer=null,this.promise=new Promise((h,w)=>{this.timer=setTimeout(()=>w(Ce(this.auth,"network-request-failed")),pn.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jn(m,c,h){const w={appName:m.name};h.email&&(w.email=h.email),h.phoneNumber&&(w.phoneNumber=h.phoneNumber);const U=Ce(m,c,w);return U.customData._tokenResponse=h,U}function Zt(){return(Zt=(0,g.Z)(function*(m,c){return yn(m,"POST","/v1/accounts:delete",c)})).apply(this,arguments)}function An(m,c){return tn.apply(this,arguments)}function tn(){return(tn=(0,g.Z)(function*(m,c){return yn(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Br(m,c){return bi.apply(this,arguments)}function bi(){return(bi=(0,g.Z)(function*(m,c){return yn(m,"POST","/v1/accounts:lookup",c)})).apply(this,arguments)}function ur(m){if(m)try{const c=new Date(Number(m));if(!isNaN(c.getTime()))return c.toUTCString()}catch(c){}}function $r(){return($r=(0,g.Z)(function*(m,c=!1){const h=(0,Y.m9)(m),w=yield h.getIdToken(c),U=Nt(w);Ne(U&&U.exp&&U.auth_time&&U.iat,h.auth,"internal-error");const J="object"==typeof U.firebase?U.firebase:void 0,xe=null==J?void 0:J.sign_in_provider;return{claims:U,token:w,authTime:ur(wt(U.auth_time)),issuedAtTime:ur(wt(U.iat)),expirationTime:ur(wt(U.exp)),signInProvider:xe||null,signInSecondFactor:(null==J?void 0:J.sign_in_second_factor)||null}})).apply(this,arguments)}function wt(m){return 1e3*Number(m)}function Nt(m){const[c,h,w]=m.split(".");if(void 0===c||void 0===h||void 0===w)return vt("JWT malformed, contained fewer than 3 sections"),null;try{const U=(0,Y.tV)(h);return U?JSON.parse(U):(vt("Failed to decode base64 JWT payload"),null)}catch(U){return vt("Caught error parsing JWT payload as JSON",U),null}}function gr(m,c){return Kr.apply(this,arguments)}function Kr(){return(Kr=(0,g.Z)(function*(m,c,h=!1){if(h)return c;try{return yield c}catch(w){throw w instanceof Y.ZR&&fn(w)&&m.auth.currentUser===m&&(yield m.auth.signOut()),w}})).apply(this,arguments)}function fn({code:m}){return"auth/user-disabled"===m||"auth/user-token-expired"===m}class Di{constructor(c){this.user=c,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){!this.isRunning||(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(c){var h;if(c){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const U=(null!==(h=this.user.stsTokenManager.expirationTime)&&void 0!==h?h:0)-Date.now()-3e5;return Math.max(0,U)}}schedule(c=!1){var h=this;if(!this.isRunning)return;const w=this.getInterval(c);this.timerId=setTimeout((0,g.Z)(function*(){yield h.iteration()}),w)}iteration(){var c=this;return(0,g.Z)(function*(){try{yield c.user.getIdToken(!0)}catch(h){return void("auth/network-request-failed"===h.code&&c.schedule(!0))}c.schedule()})()}}class Ir{constructor(c,h){this.createdAt=c,this.lastLoginAt=h,this._initializeTime()}_initializeTime(){this.lastSignInTime=ur(this.lastLoginAt),this.creationTime=ur(this.createdAt)}_copy(c){this.createdAt=c.createdAt,this.lastLoginAt=c.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Xn(m){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,g.Z)(function*(m){var c;const h=m.auth,w=yield m.getIdToken(),U=yield gr(m,Br(h,{idToken:w}));Ne(null==U?void 0:U.users.length,h,"internal-error");const J=U.users[0];m._notifyReloadListener(J);const xe=(null===(c=J.providerUserInfo)||void 0===c?void 0:c.length)?Qe(J.providerUserInfo):[],je=Mt(m.providerData,xe),dn=!!m.isAnonymous&&!(m.email&&J.passwordHash||(null==je?void 0:je.length)),mn={uid:J.localId,displayName:J.displayName||null,photoURL:J.photoUrl||null,email:J.email||null,emailVerified:J.emailVerified||!1,phoneNumber:J.phoneNumber||null,tenantId:J.tenantId||null,providerData:je,metadata:new Ir(J.createdAt,J.lastLoginAt),isAnonymous:dn};Object.assign(m,mn)})).apply(this,arguments)}function wn(){return(wn=(0,g.Z)(function*(m){const c=(0,Y.m9)(m);yield Xn(c),yield c.auth._persistUserIfCurrent(c),c.auth._notifyListenersIfCurrent(c)})).apply(this,arguments)}function Mt(m,c){return[...m.filter(w=>!c.some(U=>U.providerId===w.providerId)),...c]}function Qe(m){return m.map(c=>{var{providerId:h}=c,w=(0,ce._T)(c,["providerId"]);return{providerId:h,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}function Ft(){return(Ft=(0,g.Z)(function*(m,c){const h=yield zn(m,{},(0,g.Z)(function*(){const w=(0,Y.xO)({grant_type:"refresh_token",refresh_token:c}).slice(1),{tokenApiHost:U,apiKey:J}=m.config,xe=Wn(m,U,"/v1/token",`key=${J}`),je=yield m._getAdditionalHeaders();return je["Content-Type"]="application/x-www-form-urlencoded",Tn.fetch()(xe,{method:"POST",headers:je,body:w})}));return{accessToken:h.access_token,expiresIn:h.expires_in,refreshToken:h.refresh_token}})).apply(this,arguments)}class gn{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(c){Ne(c.idToken,"internal-error"),Ne(void 0!==c.idToken,"internal-error"),Ne(void 0!==c.refreshToken,"internal-error");const h="expiresIn"in c&&void 0!==c.expiresIn?Number(c.expiresIn):function Gt(m){const c=Nt(m);return Ne(c,"internal-error"),Ne(void 0!==c.exp,"internal-error"),Ne(void 0!==c.iat,"internal-error"),Number(c.exp)-Number(c.iat)}(c.idToken);this.updateTokensAndExpiration(c.idToken,c.refreshToken,h)}getToken(c,h=!1){var w=this;return(0,g.Z)(function*(){return Ne(!w.accessToken||w.refreshToken,c,"user-token-expired"),h||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(c,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(c,h){var w=this;return(0,g.Z)(function*(){const{accessToken:U,refreshToken:J,expiresIn:xe}=yield function bt(m,c){return Ft.apply(this,arguments)}(c,h);w.updateTokensAndExpiration(U,J,Number(xe))})()}updateTokensAndExpiration(c,h,w){this.refreshToken=h||null,this.accessToken=c||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(c,h){const{refreshToken:w,accessToken:U,expirationTime:J}=h,xe=new gn;return w&&(Ne("string"==typeof w,"internal-error",{appName:c}),xe.refreshToken=w),U&&(Ne("string"==typeof U,"internal-error",{appName:c}),xe.accessToken=U),J&&(Ne("number"==typeof J,"internal-error",{appName:c}),xe.expirationTime=J),xe}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(c){this.accessToken=c.accessToken,this.refreshToken=c.refreshToken,this.expirationTime=c.expirationTime}_clone(){return Object.assign(new gn,this.toJSON())}_performRefresh(){return be("not implemented")}}function qt(m,c){Ne("string"==typeof m||void 0===m,"internal-error",{appName:c})}class he{constructor(c){var{uid:h,auth:w,stsTokenManager:U}=c,J=(0,ce._T)(c,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Di(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=h,this.auth=w,this.stsTokenManager=U,this.accessToken=U.accessToken,this.displayName=J.displayName||null,this.email=J.email||null,this.emailVerified=J.emailVerified||!1,this.phoneNumber=J.phoneNumber||null,this.photoURL=J.photoURL||null,this.isAnonymous=J.isAnonymous||!1,this.tenantId=J.tenantId||null,this.providerData=J.providerData?[...J.providerData]:[],this.metadata=new Ir(J.createdAt||void 0,J.lastLoginAt||void 0)}getIdToken(c){var h=this;return(0,g.Z)(function*(){const w=yield gr(h,h.stsTokenManager.getToken(h.auth,c));return Ne(w,h.auth,"internal-error"),h.accessToken!==w&&(h.accessToken=w,yield h.auth._persistUserIfCurrent(h),h.auth._notifyListenersIfCurrent(h)),w})()}getIdTokenResult(c){return function ri(m){return $r.apply(this,arguments)}(this,c)}reload(){return function Mr(m){return wn.apply(this,arguments)}(this)}_assign(c){this!==c&&(Ne(this.uid===c.uid,this.auth,"internal-error"),this.displayName=c.displayName,this.photoURL=c.photoURL,this.email=c.email,this.emailVerified=c.emailVerified,this.phoneNumber=c.phoneNumber,this.isAnonymous=c.isAnonymous,this.tenantId=c.tenantId,this.providerData=c.providerData.map(h=>Object.assign({},h)),this.metadata._copy(c.metadata),this.stsTokenManager._assign(c.stsTokenManager))}_clone(c){return new he(Object.assign(Object.assign({},this),{auth:c,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(c){Ne(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=c,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(c){this.reloadListener?this.reloadListener(c):this.reloadUserInfo=c}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(c,h=!1){var w=this;return(0,g.Z)(function*(){let U=!1;c.idToken&&c.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(c),U=!0),h&&(yield Xn(w)),yield w.auth._persistUserIfCurrent(w),U&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var c=this;return(0,g.Z)(function*(){const h=yield c.getIdToken();return yield gr(c,function Vt(m,c){return Zt.apply(this,arguments)}(c.auth,{idToken:h})),c.stsTokenManager.clearRefreshToken(),c.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(c=>Object.assign({},c)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(c,h){var w,U,J,xe,je,Rt,rn,dn;const mn=null!==(w=h.displayName)&&void 0!==w?w:void 0,hi=null!==(U=h.email)&&void 0!==U?U:void 0,Co=null!==(J=h.phoneNumber)&&void 0!==J?J:void 0,Cl=null!==(xe=h.photoURL)&&void 0!==xe?xe:void 0,fc=null!==(je=h.tenantId)&&void 0!==je?je:void 0,bl=null!==(Rt=h._redirectEventId)&&void 0!==Rt?Rt:void 0,rd=null!==(rn=h.createdAt)&&void 0!==rn?rn:void 0,Gf=null!==(dn=h.lastLoginAt)&&void 0!==dn?dn:void 0,{uid:Ha,emailVerified:pc,isAnonymous:id,providerData:sd,stsTokenManager:gc}=h;Ne(Ha&&gc,c,"internal-error");const Zf=gn.fromJSON(this.name,gc);Ne("string"==typeof Ha,c,"internal-error"),qt(mn,c.name),qt(hi,c.name),Ne("boolean"==typeof pc,c,"internal-error"),Ne("boolean"==typeof id,c,"internal-error"),qt(Co,c.name),qt(Cl,c.name),qt(fc,c.name),qt(bl,c.name),qt(rd,c.name),qt(Gf,c.name);const od=new he({uid:Ha,auth:c,email:hi,emailVerified:pc,displayName:mn,isAnonymous:id,photoURL:Cl,phoneNumber:Co,tenantId:fc,stsTokenManager:Zf,createdAt:rd,lastLoginAt:Gf});return sd&&Array.isArray(sd)&&(od.providerData=sd.map(qf=>Object.assign({},qf))),bl&&(od._redirectEventId=bl),od}static _fromIdTokenResponse(c,h,w=!1){return(0,g.Z)(function*(){const U=new gn;U.updateFromServerResponse(h);const J=new he({uid:h.localId,auth:c,stsTokenManager:U,isAnonymous:w});return yield Xn(J),J})()}}const ge=(()=>{class m{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,g.Z)(function*(){return!0})()}_set(h,w){var U=this;return(0,g.Z)(function*(){U.storage[h]=w})()}_get(h){var w=this;return(0,g.Z)(function*(){const U=w.storage[h];return void 0===U?null:U})()}_remove(h){var w=this;return(0,g.Z)(function*(){delete w.storage[h]})()}_addListener(h,w){}_removeListener(h,w){}}return m.type="NONE",m})();function Ve(m,c,h){return`firebase:${m}:${c}:${h}`}class Re{constructor(c,h,w){this.persistence=c,this.auth=h,this.userKey=w;const{config:U,name:J}=this.auth;this.fullUserKey=Ve(this.userKey,U.apiKey,J),this.fullPersistenceKey=Ve("persistence",U.apiKey,J),this.boundEventHandler=h._onStorageEvent.bind(h),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(c){return this.persistence._set(this.fullUserKey,c.toJSON())}getCurrentUser(){var c=this;return(0,g.Z)(function*(){const h=yield c.persistence._get(c.fullUserKey);return h?he._fromJSON(c.auth,h):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(c){var h=this;return(0,g.Z)(function*(){if(h.persistence===c)return;const w=yield h.getCurrentUser();return yield h.removeCurrentUser(),h.persistence=c,w?h.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(c,h,w="authUser"){return(0,g.Z)(function*(){if(!h.length)return new Re(Ee(ge),c,w);const U=(yield Promise.all(h.map(function(){var rn=(0,g.Z)(function*(dn){if(yield dn._isAvailable())return dn});return function(dn){return rn.apply(this,arguments)}}()))).filter(rn=>rn);let J=U[0]||Ee(ge);const xe=Ve(w,c.config.apiKey,c.name);let je=null;for(const rn of h)try{const dn=yield rn._get(xe);if(dn){const mn=he._fromJSON(c,dn);rn!==J&&(je=mn),J=rn;break}}catch(dn){}const Rt=U.filter(rn=>rn._shouldAllowMigration);return J._shouldAllowMigration&&Rt.length?(J=Rt[0],je&&(yield J._set(xe,je.toJSON())),yield Promise.all(h.map(function(){var rn=(0,g.Z)(function*(dn){if(dn!==J)try{yield dn._remove(xe)}catch(mn){}});return function(dn){return rn.apply(this,arguments)}}())),new Re(J,c,w)):new Re(J,c,w)})()}}function yt(m){const c=m.toLowerCase();if(c.includes("opera/")||c.includes("opr/")||c.includes("opios/"))return"Opera";if(En(c))return"IEMobile";if(c.includes("msie")||c.includes("trident/"))return"IE";if(c.includes("edge/"))return"Edge";if(Ht(c))return"Firefox";if(c.includes("silk/"))return"Silk";if(Xt(c))return"Blackberry";if($n(c))return"Webos";if(In(c))return"Safari";if((c.includes("chrome/")||Jt(c))&&!c.includes("edge/"))return"Chrome";if(Rn(c))return"Android";{const w=m.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===(null==w?void 0:w.length))return w[1]}return"Other"}function Ht(m=(0,Y.z$)()){return/firefox\//i.test(m)}function In(m=(0,Y.z$)()){const c=m.toLowerCase();return c.includes("safari/")&&!c.includes("chrome/")&&!c.includes("crios/")&&!c.includes("android")}function Jt(m=(0,Y.z$)()){return/crios\//i.test(m)}function En(m=(0,Y.z$)()){return/iemobile/i.test(m)}function Rn(m=(0,Y.z$)()){return/android/i.test(m)}function Xt(m=(0,Y.z$)()){return/blackberry/i.test(m)}function $n(m=(0,Y.z$)()){return/webos/i.test(m)}function Lr(m=(0,Y.z$)()){return/iphone|ipad|ipod/i.test(m)}function er(m=(0,Y.z$)()){return Lr(m)||Rn(m)||$n(m)||Xt(m)||/windows phone/i.test(m)||En(m)}function pi(m,c=[]){let h;switch(m){case"Browser":h=yt((0,Y.z$)());break;case"Worker":h=`${yt((0,Y.z$)())}-${m}`;break;default:h=m}const w=c.length?c.join(","):"FirebaseCore-web";return`${h}/JsCore/${pe.SDK_VERSION}/${w}`}class Hr{constructor(c,h,w){this.app=c,this.heartbeatServiceProvider=h,this.config=w,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Ot(this),this.idTokenSubscription=new Ot(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ge,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=c.name,this.clientVersion=w.sdkClientVersion}_initializeWithPersistence(c,h){var w=this;return h&&(this._popupRedirectResolver=Ee(h)),this._initializationPromise=this.queue((0,g.Z)(function*(){var U,J;if(!w._deleted&&(w.persistenceManager=yield Re.create(w,c),!w._deleted)){if(null===(U=w._popupRedirectResolver)||void 0===U?void 0:U._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch(xe){}yield w.initializeCurrentUser(h),w.lastNotifiedUid=(null===(J=w.currentUser)||void 0===J?void 0:J.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var c=this;return(0,g.Z)(function*(){if(c._deleted)return;const h=yield c.assertedPersistence.getCurrentUser();if(c.currentUser||h){if(c.currentUser&&h&&c.currentUser.uid===h.uid)return c._currentUser._assign(h),void(yield c.currentUser.getIdToken());yield c._updateCurrentUser(h)}})()}initializeCurrentUser(c){var h=this;return(0,g.Z)(function*(){var w;let U=yield h.assertedPersistence.getCurrentUser();if(c&&h.config.authDomain){yield h.getOrInitRedirectPersistenceManager();const J=null===(w=h.redirectUser)||void 0===w?void 0:w._redirectEventId,xe=null==U?void 0:U._redirectEventId,je=yield h.tryRedirectSignIn(c);(!J||J===xe)&&(null==je?void 0:je.user)&&(U=je.user)}return U?U._redirectEventId?(Ne(h._popupRedirectResolver,h,"argument-error"),yield h.getOrInitRedirectPersistenceManager(),h.redirectUser&&h.redirectUser._redirectEventId===U._redirectEventId?h.directlySetCurrentUser(U):h.reloadAndSetCurrentUserOrClear(U)):h.reloadAndSetCurrentUserOrClear(U):h.directlySetCurrentUser(null)})()}tryRedirectSignIn(c){var h=this;return(0,g.Z)(function*(){let w=null;try{w=yield h._popupRedirectResolver._completeRedirectFn(h,c,!0)}catch(U){yield h._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(c){var h=this;return(0,g.Z)(function*(){try{yield Xn(c)}catch(w){if("auth/network-request-failed"!==w.code)return h.directlySetCurrentUser(null)}return h.directlySetCurrentUser(c)})()}useDeviceLanguage(){this.languageCode=function ct(){if("undefined"==typeof navigator)return null;const m=navigator;return m.languages&&m.languages[0]||m.language||null}()}_delete(){var c=this;return(0,g.Z)(function*(){c._deleted=!0})()}updateCurrentUser(c){var h=this;return(0,g.Z)(function*(){const w=c?(0,Y.m9)(c):null;return w&&Ne(w.auth.config.apiKey===h.config.apiKey,h,"invalid-user-token"),h._updateCurrentUser(w&&w._clone(h))})()}_updateCurrentUser(c){var h=this;return(0,g.Z)(function*(){if(!h._deleted)return c&&Ne(h.tenantId===c.tenantId,h,"tenant-id-mismatch"),h.queue((0,g.Z)(function*(){yield h.directlySetCurrentUser(c),h.notifyAuthListeners()}))})()}signOut(){var c=this;return(0,g.Z)(function*(){return(c.redirectPersistenceManager||c._popupRedirectResolver)&&(yield c._setRedirectUser(null)),c._updateCurrentUser(null)})()}setPersistence(c){var h=this;return this.queue((0,g.Z)(function*(){yield h.assertedPersistence.setPersistence(Ee(c))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(c){this._errorFactory=new Y.LL("auth","Firebase",c())}onAuthStateChanged(c,h,w){return this.registerStateListener(this.authStateSubscription,c,h,w)}onIdTokenChanged(c,h,w){return this.registerStateListener(this.idTokenSubscription,c,h,w)}toJSON(){var c;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(c=this._currentUser)||void 0===c?void 0:c.toJSON()}}_setRedirectUser(c,h){var w=this;return(0,g.Z)(function*(){const U=yield w.getOrInitRedirectPersistenceManager(h);return null===c?U.removeCurrentUser():U.setCurrentUser(c)})()}getOrInitRedirectPersistenceManager(c){var h=this;return(0,g.Z)(function*(){if(!h.redirectPersistenceManager){const w=c&&Ee(c)||h._popupRedirectResolver;Ne(w,h,"argument-error"),h.redirectPersistenceManager=yield Re.create(h,[Ee(w._redirectPersistence)],"redirectUser"),h.redirectUser=yield h.redirectPersistenceManager.getCurrentUser()}return h.redirectPersistenceManager})()}_redirectUserForId(c){var h=this;return(0,g.Z)(function*(){var w,U;return h._isInitialized&&(yield h.queue((0,g.Z)(function*(){}))),(null===(w=h._currentUser)||void 0===w?void 0:w._redirectEventId)===c?h._currentUser:(null===(U=h.redirectUser)||void 0===U?void 0:U._redirectEventId)===c?h.redirectUser:null})()}_persistUserIfCurrent(c){var h=this;return(0,g.Z)(function*(){if(c===h.currentUser)return h.queue((0,g.Z)(function*(){return h.directlySetCurrentUser(c)}))})()}_notifyListenersIfCurrent(c){c===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var c,h;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(h=null===(c=this.currentUser)||void 0===c?void 0:c.uid)&&void 0!==h?h:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(c,h,w,U){if(this._deleted)return()=>{};const J="function"==typeof h?h:h.next.bind(h),xe=this._isInitialized?Promise.resolve():this._initializationPromise;return Ne(xe,this,"internal-error"),xe.then(()=>J(this.currentUser)),"function"==typeof h?c.addObserver(h,w,U):c.addObserver(h)}directlySetCurrentUser(c){var h=this;return(0,g.Z)(function*(){h.currentUser&&h.currentUser!==c&&(h._currentUser._stopProactiveRefresh(),c&&h.isProactiveRefreshEnabled&&c._startProactiveRefresh()),h.currentUser=c,c?yield h.assertedPersistence.setCurrentUser(c):yield h.assertedPersistence.removeCurrentUser()})()}queue(c){return this.operations=this.operations.then(c,c),this.operations}get assertedPersistence(){return Ne(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(c){!c||this.frameworks.includes(c)||(this.frameworks.push(c),this.frameworks.sort(),this.clientVersion=pi(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var c=this;return(0,g.Z)(function*(){var h;const w={"X-Client-Version":c.clientVersion};c.app.options.appId&&(w["X-Firebase-gmpid"]=c.app.options.appId);const U=yield null===(h=c.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===h?void 0:h.getHeartbeatsHeader();return U&&(w["X-Firebase-Client"]=U),w})()}}function ot(m){return(0,Y.m9)(m)}class Ot{constructor(c){this.auth=c,this.observer=null,this.addObserver=(0,Y.ne)(h=>this.observer=h)}get next(){return Ne(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function sr(m){const c=m.indexOf(":");return c<0?"":m.substr(0,c+1)}function dr(m){if(!m)return null;const c=Number(m);return isNaN(c)?null:c}class On{constructor(c,h){this.providerId=c,this.signInMethod=h}toJSON(){return be("not implemented")}_getIdTokenResponse(c){return be("not implemented")}_linkToIdToken(c,h){return be("not implemented")}_getReauthenticationResolver(c){return be("not implemented")}}function mr(m,c){return gi.apply(this,arguments)}function gi(){return(gi=(0,g.Z)(function*(m,c){return yn(m,"POST","/v1/accounts:resetPassword",kt(m,c))})).apply(this,arguments)}function hn(m,c){return jr.apply(this,arguments)}function jr(){return(jr=(0,g.Z)(function*(m,c){return yn(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function xi(m,c){return Mi.apply(this,arguments)}function Mi(){return(Mi=(0,g.Z)(function*(m,c){return yn(m,"POST","/v1/accounts:update",kt(m,c))})).apply(this,arguments)}function Cr(){return(Cr=(0,g.Z)(function*(m,c){return rr(m,"POST","/v1/accounts:signInWithPassword",kt(m,c))})).apply(this,arguments)}function cr(m,c){return br.apply(this,arguments)}function br(){return(br=(0,g.Z)(function*(m,c){return yn(m,"POST","/v1/accounts:sendOobCode",kt(m,c))})).apply(this,arguments)}function Pn(m,c){return Fn.apply(this,arguments)}function Fn(){return(Fn=(0,g.Z)(function*(m,c){return cr(m,c)})).apply(this,arguments)}function es(m,c){return yr.apply(this,arguments)}function yr(){return(yr=(0,g.Z)(function*(m,c){return cr(m,c)})).apply(this,arguments)}function Gr(m,c){return ti.apply(this,arguments)}function ti(){return(ti=(0,g.Z)(function*(m,c){return cr(m,c)})).apply(this,arguments)}function us(m,c){return _r.apply(this,arguments)}function _r(){return(_r=(0,g.Z)(function*(m,c){return cr(m,c)})).apply(this,arguments)}function oi(){return(oi=(0,g.Z)(function*(m,c){return rr(m,"POST","/v1/accounts:signInWithEmailLink",kt(m,c))})).apply(this,arguments)}function ys(){return(ys=(0,g.Z)(function*(m,c){return rr(m,"POST","/v1/accounts:signInWithEmailLink",kt(m,c))})).apply(this,arguments)}class _s extends On{constructor(c,h,w,U=null){super("password",w),this._email=c,this._password=h,this._tenantId=U}static _fromEmailAndPassword(c,h){return new _s(c,h,"password")}static _fromEmailAndCode(c,h,w=null){return new _s(c,h,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c;if((null==h?void 0:h.email)&&(null==h?void 0:h.password)){if("password"===h.signInMethod)return this._fromEmailAndPassword(h.email,h.password);if("emailLink"===h.signInMethod)return this._fromEmailAndCode(h.email,h.password,h.tenantId)}return null}_getIdTokenResponse(c){var h=this;return(0,g.Z)(function*(){switch(h.signInMethod){case"password":return function ei(m,c){return Cr.apply(this,arguments)}(c,{returnSecureToken:!0,email:h._email,password:h._password});case"emailLink":return function ms(m,c){return oi.apply(this,arguments)}(c,{email:h._email,oobCode:h._password});default:ue(c,"internal-error")}})()}_linkToIdToken(c,h){var w=this;return(0,g.Z)(function*(){switch(w.signInMethod){case"password":return hn(c,{idToken:h,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function Vi(m,c){return ys.apply(this,arguments)}(c,{idToken:h,email:w._email,oobCode:w._password});default:ue(c,"internal-error")}})()}_getReauthenticationResolver(c){return this._getIdTokenResponse(c)}}function Sn(m,c){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,g.Z)(function*(m,c){return rr(m,"POST","/v1/accounts:signInWithIdp",kt(m,c))})).apply(this,arguments)}class Ie extends On{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(c){const h=new Ie(c.providerId,c.signInMethod);return c.idToken||c.accessToken?(c.idToken&&(h.idToken=c.idToken),c.accessToken&&(h.accessToken=c.accessToken),c.nonce&&!c.pendingToken&&(h.nonce=c.nonce),c.pendingToken&&(h.pendingToken=c.pendingToken)):c.oauthToken&&c.oauthTokenSecret?(h.accessToken=c.oauthToken,h.secret=c.oauthTokenSecret):ue("argument-error"),h}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c,{providerId:w,signInMethod:U}=h,J=(0,ce._T)(h,["providerId","signInMethod"]);if(!w||!U)return null;const xe=new Ie(w,U);return xe.idToken=J.idToken||void 0,xe.accessToken=J.accessToken||void 0,xe.secret=J.secret,xe.nonce=J.nonce,xe.pendingToken=J.pendingToken||null,xe}_getIdTokenResponse(c){return Sn(c,this.buildRequest())}_linkToIdToken(c,h){const w=this.buildRequest();return w.idToken=h,Sn(c,w)}_getReauthenticationResolver(c){const h=this.buildRequest();return h.autoCreate=!1,Sn(c,h)}buildRequest(){const c={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)c.pendingToken=this.pendingToken;else{const h={};this.idToken&&(h.id_token=this.idToken),this.accessToken&&(h.access_token=this.accessToken),this.secret&&(h.oauth_token_secret=this.secret),h.providerId=this.providerId,this.nonce&&!this.pendingToken&&(h.nonce=this.nonce),c.postBody=(0,Y.xO)(h)}return c}}function me(m,c){return Fe.apply(this,arguments)}function Fe(){return(Fe=(0,g.Z)(function*(m,c){return yn(m,"POST","/v1/accounts:sendVerificationCode",kt(m,c))})).apply(this,arguments)}function ht(){return(ht=(0,g.Z)(function*(m,c){return rr(m,"POST","/v1/accounts:signInWithPhoneNumber",kt(m,c))})).apply(this,arguments)}function Ln(){return(Ln=(0,g.Z)(function*(m,c){const h=yield rr(m,"POST","/v1/accounts:signInWithPhoneNumber",kt(m,c));if(h.temporaryProof)throw jn(m,"account-exists-with-different-credential",h);return h})).apply(this,arguments)}const Rr={USER_NOT_FOUND:"user-not-found"};function mi(){return(mi=(0,g.Z)(function*(m,c){return rr(m,"POST","/v1/accounts:signInWithPhoneNumber",kt(m,Object.assign(Object.assign({},c),{operation:"REAUTH"})),Rr)})).apply(this,arguments)}class Bi extends On{constructor(c){super("phone","phone"),this.params=c}static _fromVerification(c,h){return new Bi({verificationId:c,verificationCode:h})}static _fromTokenResponse(c,h){return new Bi({phoneNumber:c,temporaryProof:h})}_getIdTokenResponse(c){return function Ye(m,c){return ht.apply(this,arguments)}(c,this._makeVerificationRequest())}_linkToIdToken(c,h){return function Lt(m,c){return Ln.apply(this,arguments)}(c,Object.assign({idToken:h},this._makeVerificationRequest()))}_getReauthenticationResolver(c){return function Un(m,c){return mi.apply(this,arguments)}(c,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:c,phoneNumber:h,verificationId:w,verificationCode:U}=this.params;return c&&h?{temporaryProof:c,phoneNumber:h}:{sessionInfo:w,code:U}}toJSON(){const c={providerId:this.providerId};return this.params.phoneNumber&&(c.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(c.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(c.verificationCode=this.params.verificationCode),this.params.verificationId&&(c.verificationId=this.params.verificationId),c}static fromJSON(c){"string"==typeof c&&(c=JSON.parse(c));const{verificationId:h,verificationCode:w,phoneNumber:U,temporaryProof:J}=c;return w||h||U||J?new Bi({verificationId:h,verificationCode:w,phoneNumber:U,temporaryProof:J}):null}}class Ti{constructor(c){var h,w,U,J,xe,je;const Rt=(0,Y.zd)((0,Y.pd)(c)),rn=null!==(h=Rt.apiKey)&&void 0!==h?h:null,dn=null!==(w=Rt.oobCode)&&void 0!==w?w:null,mn=function yi(m){switch(m){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(U=Rt.mode)&&void 0!==U?U:null);Ne(rn&&dn&&mn,"argument-error"),this.apiKey=rn,this.operation=mn,this.code=dn,this.continueUrl=null!==(J=Rt.continueUrl)&&void 0!==J?J:null,this.languageCode=null!==(xe=Rt.languageCode)&&void 0!==xe?xe:null,this.tenantId=null!==(je=Rt.tenantId)&&void 0!==je?je:null}static parseLink(c){const h=function Zi(m){const c=(0,Y.zd)((0,Y.pd)(m)).link,h=c?(0,Y.zd)((0,Y.pd)(c)).deep_link_id:null,w=(0,Y.zd)((0,Y.pd)(m)).deep_link_id;return(w?(0,Y.zd)((0,Y.pd)(w)).link:null)||w||h||c||m}(c);try{return new Ti(h)}catch(w){return null}}}let ne=(()=>{class m{constructor(){this.providerId=m.PROVIDER_ID}static credential(h,w){return _s._fromEmailAndPassword(h,w)}static credentialWithLink(h,w){const U=Ti.parseLink(w);return Ne(U,"argument-error"),_s._fromEmailAndCode(h,U.code,U.tenantId)}}return m.PROVIDER_ID="password",m.EMAIL_PASSWORD_SIGN_IN_METHOD="password",m.EMAIL_LINK_SIGN_IN_METHOD="emailLink",m})();class ${constructor(c){this.providerId=c,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(c){this.defaultLanguageCode=c}setCustomParameters(c){return this.customParameters=c,this}getCustomParameters(){return this.customParameters}}class te extends ${constructor(){super(...arguments),this.scopes=[]}addScope(c){return this.scopes.includes(c)||this.scopes.push(c),this}getScopes(){return[...this.scopes]}}class De extends te{static credentialFromJSON(c){const h="string"==typeof c?JSON.parse(c):c;return Ne("providerId"in h&&"signInMethod"in h,"argument-error"),Ie._fromParams(h)}credential(c){return this._credential(Object.assign(Object.assign({},c),{nonce:c.rawNonce}))}_credential(c){return Ne(c.idToken||c.accessToken,"argument-error"),Ie._fromParams(Object.assign(Object.assign({},c),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(c){return De.oauthCredentialFromTaggedObject(c)}static credentialFromError(c){return De.oauthCredentialFromTaggedObject(c.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{oauthIdToken:h,oauthAccessToken:w,oauthTokenSecret:U,pendingToken:J,nonce:xe,providerId:je}=c;if(!w&&!U&&!h&&!J||!je)return null;try{return new De(je)._credential({idToken:h,accessToken:w,nonce:xe,pendingToken:J})}catch(Rt){return null}}}let ut=(()=>{class m extends te{constructor(){super("facebook.com")}static credential(h){return Ie._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.FACEBOOK_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return m.credential(h.oauthAccessToken)}catch(w){return null}}}return m.FACEBOOK_SIGN_IN_METHOD="facebook.com",m.PROVIDER_ID="facebook.com",m})(),Yt=(()=>{class m extends te{constructor(){super("google.com"),this.addScope("profile")}static credential(h,w){return Ie._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GOOGLE_SIGN_IN_METHOD,idToken:h,accessToken:w})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthIdToken:w,oauthAccessToken:U}=h;if(!w&&!U)return null;try{return m.credential(w,U)}catch(J){return null}}}return m.GOOGLE_SIGN_IN_METHOD="google.com",m.PROVIDER_ID="google.com",m})(),xn=(()=>{class m extends te{constructor(){super("github.com")}static credential(h){return Ie._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.GITHUB_SIGN_IN_METHOD,accessToken:h})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h||!("oauthAccessToken"in h)||!h.oauthAccessToken)return null;try{return m.credential(h.oauthAccessToken)}catch(w){return null}}}return m.GITHUB_SIGN_IN_METHOD="github.com",m.PROVIDER_ID="github.com",m})();class ls extends On{constructor(c,h){super(c,c),this.pendingToken=h}_getIdTokenResponse(c){return Sn(c,this.buildRequest())}_linkToIdToken(c,h){const w=this.buildRequest();return w.idToken=h,Sn(c,w)}_getReauthenticationResolver(c){const h=this.buildRequest();return h.autoCreate=!1,Sn(c,h)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(c){const h="string"==typeof c?JSON.parse(c):c,{providerId:w,signInMethod:U,pendingToken:J}=h;return w&&U&&J&&w===U?new ls(w,J):null}static _create(c,h){return new ls(c,h)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Ri extends ${constructor(c){Ne(c.startsWith("saml."),"argument-error"),super(c)}static credentialFromResult(c){return Ri.samlCredentialFromTaggedObject(c)}static credentialFromError(c){return Ri.samlCredentialFromTaggedObject(c.customData||{})}static credentialFromJSON(c){const h=ls.fromJSON(c);return Ne(h,"argument-error"),h}static samlCredentialFromTaggedObject({_tokenResponse:c}){if(!c)return null;const{pendingToken:h,providerId:w}=c;if(!h||!w)return null;try{return ls._create(w,h)}catch(U){return null}}}let vs=(()=>{class m extends te{constructor(){super("twitter.com")}static credential(h,w){return Ie._fromParams({providerId:m.PROVIDER_ID,signInMethod:m.TWITTER_SIGN_IN_METHOD,oauthToken:h,oauthTokenSecret:w})}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{oauthAccessToken:w,oauthTokenSecret:U}=h;if(!w||!U)return null;try{return m.credential(w,U)}catch(J){return null}}}return m.TWITTER_SIGN_IN_METHOD="twitter.com",m.PROVIDER_ID="twitter.com",m})();function Vs(m,c){return ai.apply(this,arguments)}function ai(){return(ai=(0,g.Z)(function*(m,c){return rr(m,"POST","/v1/accounts:signUp",kt(m,c))})).apply(this,arguments)}class Ur{constructor(c){this.user=c.user,this.providerId=c.providerId,this._tokenResponse=c._tokenResponse,this.operationType=c.operationType}static _fromIdTokenResponse(c,h,w,U=!1){return(0,g.Z)(function*(){const J=yield he._fromIdTokenResponse(c,w,U),xe=Oi(w);return new Ur({user:J,providerId:xe,_tokenResponse:w,operationType:h})})()}static _forOperation(c,h,w){return(0,g.Z)(function*(){yield c._updateTokensIfNecessary(w,!0);const U=Oi(w);return new Ur({user:c,providerId:U,_tokenResponse:w,operationType:h})})()}}function Oi(m){return m.providerId?m.providerId:"phoneNumber"in m?"phone":null}function Es(){return(Es=(0,g.Z)(function*(m){var c;const h=ot(m);if(yield h._initializationPromise,null===(c=h.currentUser)||void 0===c?void 0:c.isAnonymous)return new Ur({user:h.currentUser,providerId:null,operationType:"signIn"});const w=yield Vs(h,{returnSecureToken:!0}),U=yield Ur._fromIdTokenResponse(h,"signIn",w,!0);return yield h._updateCurrentUser(U.user),U})).apply(this,arguments)}class ws extends Y.ZR{constructor(c,h,w,U){var J;super(h.code,h.message),this.operationType=w,this.user=U,Object.setPrototypeOf(this,ws.prototype),this.customData={appName:c.name,tenantId:null!==(J=c.tenantId)&&void 0!==J?J:void 0,_serverResponse:h.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(c,h,w,U){return new ws(c,h,w,U)}}function cs(m,c,h,w){return("reauthenticate"===c?h._getReauthenticationResolver(m):h._getIdTokenResponse(m)).catch(J=>{throw"auth/multi-factor-auth-required"===J.code?ws._fromErrorAndOperation(m,J,c,w):J})}function Jr(m){return new Set(m.map(({providerId:c})=>c).filter(c=>!!c))}function ro(){return(ro=(0,g.Z)(function*(m,c){const h=(0,Y.m9)(m);yield H(!0,h,c);const{providerUserInfo:w}=yield An(h.auth,{idToken:yield h.getIdToken(),deleteProvider:[c]}),U=Jr(w||[]);return h.providerData=h.providerData.filter(J=>U.has(J.providerId)),U.has("phone")||(h.phoneNumber=null),yield h.auth._persistUserIfCurrent(h),h})).apply(this,arguments)}function vr(m,c){return P.apply(this,arguments)}function P(){return(P=(0,g.Z)(function*(m,c,h=!1){const w=yield gr(m,c._linkToIdToken(m.auth,yield m.getIdToken()),h);return Ur._forOperation(m,"link",w)})).apply(this,arguments)}function H(m,c,h){return O.apply(this,arguments)}function O(){return(O=(0,g.Z)(function*(m,c,h){yield Xn(c);const U=!1===m?"provider-already-linked":"no-such-provider";Ne(Jr(c.providerData).has(h)===m,c.auth,U)})).apply(this,arguments)}function K(m,c){return de.apply(this,arguments)}function de(){return(de=(0,g.Z)(function*(m,c,h=!1){const{auth:w}=m,U="reauthenticate";try{const J=yield gr(m,cs(w,U,c,m),h);Ne(J.idToken,w,"internal-error");const xe=Nt(J.idToken);Ne(xe,w,"internal-error");const{sub:je}=xe;return Ne(m.uid===je,w,"user-mismatch"),Ur._forOperation(m,U,J)}catch(J){throw"auth/user-not-found"===(null==J?void 0:J.code)&&ue(w,"user-mismatch"),J}})).apply(this,arguments)}function ze(m,c){return Ke.apply(this,arguments)}function Ke(){return(Ke=(0,g.Z)(function*(m,c,h=!1){const w="signIn",U=yield cs(m,w,c),J=yield Ur._fromIdTokenResponse(m,w,U);return h||(yield m._updateCurrentUser(J.user)),J})).apply(this,arguments)}function Et(m,c){return or.apply(this,arguments)}function or(){return(or=(0,g.Z)(function*(m,c){return ze(ot(m),c)})).apply(this,arguments)}function Kn(m,c){return _n.apply(this,arguments)}function _n(){return(_n=(0,g.Z)(function*(m,c){const h=(0,Y.m9)(m);return yield H(!1,h,c.providerId),vr(h,c)})).apply(this,arguments)}function bn(m,c){return Or.apply(this,arguments)}function Or(){return(Or=(0,g.Z)(function*(m,c){return K((0,Y.m9)(m),c)})).apply(this,arguments)}function ar(m,c){return hr.apply(this,arguments)}function hr(){return(hr=(0,g.Z)(function*(m,c){return rr(m,"POST","/v1/accounts:signInWithCustomToken",kt(m,c))})).apply(this,arguments)}function Xr(){return(Xr=(0,g.Z)(function*(m,c){const h=ot(m),w=yield ar(h,{token:c,returnSecureToken:!0}),U=yield Ur._fromIdTokenResponse(h,"signIn",w);return yield h._updateCurrentUser(U.user),U})).apply(this,arguments)}class un{constructor(c,h){this.factorId=c,this.uid=h.mfaEnrollmentId,this.enrollmentTime=new Date(h.enrolledAt).toUTCString(),this.displayName=h.displayName}static _fromServerResponse(c,h){return"phoneInfo"in h?zi._fromServerResponse(c,h):ue(c,"internal-error")}}class zi extends un{constructor(c){super("phone",c),this.phoneNumber=c.phoneInfo}static _fromServerResponse(c,h){return new zi(h)}}function Wi(m,c,h){var w;Ne((null===(w=h.url)||void 0===w?void 0:w.length)>0,m,"invalid-continue-uri"),Ne(void 0===h.dynamicLinkDomain||h.dynamicLinkDomain.length>0,m,"invalid-dynamic-link-domain"),c.continueUrl=h.url,c.dynamicLinkDomain=h.dynamicLinkDomain,c.canHandleCodeInApp=h.handleCodeInApp,h.iOS&&(Ne(h.iOS.bundleId.length>0,m,"missing-ios-bundle-id"),c.iOSBundleId=h.iOS.bundleId),h.android&&(Ne(h.android.packageName.length>0,m,"missing-android-pkg-name"),c.androidInstallApp=h.android.installApp,c.androidMinimumVersionCode=h.android.minimumVersion,c.androidPackageName=h.android.packageName)}function Bs(){return(Bs=(0,g.Z)(function*(m,c,h){const w=(0,Y.m9)(m),U={requestType:"PASSWORD_RESET",email:c};h&&Wi(w,U,h),yield es(w,U)})).apply(this,arguments)}function R(){return(R=(0,g.Z)(function*(m,c,h){yield mr((0,Y.m9)(m),{oobCode:c,newPassword:h})})).apply(this,arguments)}function y(){return(y=(0,g.Z)(function*(m,c){yield xi((0,Y.m9)(m),{oobCode:c})})).apply(this,arguments)}function D(m,c){return W.apply(this,arguments)}function W(){return(W=(0,g.Z)(function*(m,c){const h=(0,Y.m9)(m),w=yield mr(h,{oobCode:c}),U=w.requestType;switch(Ne(U,h,"internal-error"),U){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":Ne(w.newEmail,h,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":Ne(w.mfaInfo,h,"internal-error");default:Ne(w.email,h,"internal-error")}let J=null;return w.mfaInfo&&(J=un._fromServerResponse(ot(h),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:J},operation:U}})).apply(this,arguments)}function ye(){return(ye=(0,g.Z)(function*(m,c){const{data:h}=yield D((0,Y.m9)(m),c);return h.email})).apply(this,arguments)}function nt(){return(nt=(0,g.Z)(function*(m,c,h){const w=ot(m),U=yield Vs(w,{returnSecureToken:!0,email:c,password:h}),J=yield Ur._fromIdTokenResponse(w,"signIn",U);return yield w._updateCurrentUser(J.user),J})).apply(this,arguments)}function vn(){return(vn=(0,g.Z)(function*(m,c,h){const w=(0,Y.m9)(m),U={requestType:"EMAIL_SIGNIN",email:c};Ne(h.handleCodeInApp,w,"argument-error"),h&&Wi(w,U,h),yield Gr(w,U)})).apply(this,arguments)}function fr(){return(fr=(0,g.Z)(function*(m,c,h){const w=(0,Y.m9)(m),U=ne.credentialWithLink(c,h||en());return Ne(U._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Et(w,U)})).apply(this,arguments)}function Yn(m,c){return tr.apply(this,arguments)}function tr(){return(tr=(0,g.Z)(function*(m,c){return yn(m,"POST","/v1/accounts:createAuthUri",kt(m,c))})).apply(this,arguments)}function Er(){return(Er=(0,g.Z)(function*(m,c){const w={identifier:c,continueUri:$t()?en():"http://localhost"},{signinMethods:U}=yield Yn((0,Y.m9)(m),w);return U||[]})).apply(this,arguments)}function $i(){return($i=(0,g.Z)(function*(m,c){const h=(0,Y.m9)(m),U={requestType:"VERIFY_EMAIL",idToken:yield m.getIdToken()};c&&Wi(h.auth,U,c);const{email:J}=yield Pn(h.auth,U);J!==m.email&&(yield m.reload())})).apply(this,arguments)}function li(){return(li=(0,g.Z)(function*(m,c,h){const w=(0,Y.m9)(m),J={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield m.getIdToken(),newEmail:c};h&&Wi(w.auth,J,h);const{email:xe}=yield us(w.auth,J);xe!==m.email&&(yield m.reload())})).apply(this,arguments)}function Pr(m,c){return Rs.apply(this,arguments)}function Rs(){return(Rs=(0,g.Z)(function*(m,c){return yn(m,"POST","/v1/accounts:update",c)})).apply(this,arguments)}function Zs(){return(Zs=(0,g.Z)(function*(m,{displayName:c,photoURL:h}){if(void 0===c&&void 0===h)return;const w=(0,Y.m9)(m),J={idToken:yield w.getIdToken(),displayName:c,photoUrl:h,returnSecureToken:!0},xe=yield gr(w,Pr(w.auth,J));w.displayName=xe.displayName||null,w.photoURL=xe.photoUrl||null;const je=w.providerData.find(({providerId:Rt})=>"password"===Rt);je&&(je.displayName=w.displayName,je.photoURL=w.photoURL),yield w._updateTokensIfNecessary(xe)})).apply(this,arguments)}function Wo(m,c,h){return go.apply(this,arguments)}function go(){return(go=(0,g.Z)(function*(m,c,h){const{auth:w}=m,J={idToken:yield m.getIdToken(),returnSecureToken:!0};c&&(J.email=c),h&&(J.password=h);const xe=yield gr(m,hn(w,J));yield m._updateTokensIfNecessary(xe,!0)})).apply(this,arguments)}class io{constructor(c,h,w={}){this.isNewUser=c,this.providerId=h,this.profile=w}}class Aa extends io{constructor(c,h,w,U){super(c,h,w),this.username=U}}class qs extends io{constructor(c,h){super(c,"facebook.com",h)}}class Po extends Aa{constructor(c,h){super(c,"github.com",h,"string"==typeof(null==h?void 0:h.login)?null==h?void 0:h.login:null)}}class Iu extends io{constructor(c,h){super(c,"google.com",h)}}class la extends Aa{constructor(c,h,w){super(c,"twitter.com",h,w)}}function _i(m){const{user:c,_tokenResponse:h}=m;return c.isAnonymous&&!h?{providerId:null,isNewUser:!1,profile:null}:function Ta(m){var c,h;if(!m)return null;const{providerId:w}=m,U=m.rawUserInfo?JSON.parse(m.rawUserInfo):{},J=m.isNewUser||"identitytoolkit#SignupNewUserResponse"===m.kind;if(!w&&(null==m?void 0:m.idToken)){const xe=null===(h=null===(c=Nt(m.idToken))||void 0===c?void 0:c.firebase)||void 0===h?void 0:h.sign_in_provider;if(xe)return new io(J,"anonymous"!==xe&&"custom"!==xe?xe:null)}if(!w)return null;switch(w){case"facebook.com":return new qs(J,U);case"github.com":return new Po(J,U);case"google.com":return new Iu(J,U);case"twitter.com":return new la(J,U,m.screenName||null);case"custom":case"anonymous":return new io(J,null);default:return new io(J,w,U)}}(h)}class Is{constructor(c,h){this.type=c,this.credential=h}static _fromIdtoken(c){return new Is("enroll",c)}static _fromMfaPendingCredential(c){return new Is("signin",c)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(c){var h,w;if(null==c?void 0:c.multiFactorSession){if(null===(h=c.multiFactorSession)||void 0===h?void 0:h.pendingCredential)return Is._fromMfaPendingCredential(c.multiFactorSession.pendingCredential);if(null===(w=c.multiFactorSession)||void 0===w?void 0:w.idToken)return Is._fromIdtoken(c.multiFactorSession.idToken)}return null}}class bo{constructor(c,h,w){this.session=c,this.hints=h,this.signInResolver=w}static _fromError(c,h){const w=ot(c),U=h.customData._serverResponse,J=(U.mfaInfo||[]).map(je=>un._fromServerResponse(w,je));Ne(U.mfaPendingCredential,w,"internal-error");const xe=Is._fromMfaPendingCredential(U.mfaPendingCredential);return new bo(xe,J,function(){var je=(0,g.Z)(function*(Rt){const rn=yield Rt._process(w,xe);delete U.mfaInfo,delete U.mfaPendingCredential;const dn=Object.assign(Object.assign({},U),{idToken:rn.idToken,refreshToken:rn.refreshToken});switch(h.operationType){case"signIn":const mn=yield Ur._fromIdTokenResponse(w,h.operationType,dn);return yield w._updateCurrentUser(mn.user),mn;case"reauthenticate":return Ne(h.user,w,"internal-error"),Ur._forOperation(h.user,h.operationType,dn);default:ue(w,"internal-error")}});return function(Rt){return je.apply(this,arguments)}}())}resolveSignIn(c){var h=this;return(0,g.Z)(function*(){return h.signInResolver(c)})()}}function vi(m,c){return yn(m,"POST","/v2/accounts/mfaEnrollment:start",kt(m,c))}class Cs{constructor(c){this.user=c,this.enrolledFactors=[],c._onReload(h=>{h.mfaInfo&&(this.enrolledFactors=h.mfaInfo.map(w=>un._fromServerResponse(c.auth,w)))})}static _fromUser(c){return new Cs(c)}getSession(){var c=this;return(0,g.Z)(function*(){return Is._fromIdtoken(yield c.user.getIdToken())})()}enroll(c,h){var w=this;return(0,g.Z)(function*(){const U=c,J=yield w.getSession(),xe=yield gr(w.user,U._process(w.user.auth,J,h));return yield w.user._updateTokensIfNecessary(xe),w.user.reload()})()}unenroll(c){var h=this;return(0,g.Z)(function*(){const w="string"==typeof c?c:c.uid,U=yield h.user.getIdToken(),J=yield gr(h.user,function Du(m,c){return yn(m,"POST","/v2/accounts/mfaEnrollment:withdraw",kt(m,c))}(h.user.auth,{idToken:U,mfaEnrollmentId:w}));h.enrolledFactors=h.enrolledFactors.filter(({uid:xe})=>xe!==w),yield h.user._updateTokensIfNecessary(J);try{yield h.user.reload()}catch(xe){if("auth/user-token-expired"!==xe.code)throw xe}})()}}const zs=new WeakMap,ds="__sak";class mo{constructor(c,h){this.storageRetriever=c,this.type=h}_isAvailable(){try{return this.storage?(this.storage.setItem(ds,"1"),this.storage.removeItem(ds),Promise.resolve(!0)):Promise.resolve(!1)}catch(c){return Promise.resolve(!1)}}_set(c,h){return this.storage.setItem(c,JSON.stringify(h)),Promise.resolve()}_get(c){const h=this.storage.getItem(c);return Promise.resolve(h?JSON.parse(h):null)}_remove(c){return this.storage.removeItem(c),Promise.resolve()}get storage(){return this.storageRetriever()}}const Vr=(()=>{class m extends mo{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(h,w)=>this.onStorageEvent(h,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function xa(){const m=(0,Y.z$)();return In(m)||Lr(m)}()&&function ir(){try{return!(!window||window===window.top)}catch(m){return!1}}(),this.fallbackToPolling=er(),this._shouldAllowMigration=!0}forAllChangedKeys(h){for(const w of Object.keys(this.listeners)){const U=this.storage.getItem(w),J=this.localCache[w];U!==J&&h(w,J,U)}}onStorageEvent(h,w=!1){if(!h.key)return void this.forAllChangedKeys((je,Rt,rn)=>{this.notifyListeners(je,rn)});const U=h.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const je=this.storage.getItem(U);if(h.newValue!==je)null!==h.newValue?this.storage.setItem(U,h.newValue):this.storage.removeItem(U);else if(this.localCache[U]===h.newValue&&!w)return}const J=()=>{const je=this.storage.getItem(U);!w&&this.localCache[U]===je||this.notifyListeners(U,je)},xe=this.storage.getItem(U);!function lr(){return(0,Y.w1)()&&10===document.documentMode}()||xe===h.newValue||h.newValue===h.oldValue?J():setTimeout(J,10)}notifyListeners(h,w){this.localCache[h]=w;const U=this.listeners[h];if(U)for(const J of Array.from(U))J(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((h,w,U)=>{this.onStorageEvent(new StorageEvent("storage",{key:h,oldValue:w,newValue:U}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(h,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[h]||(this.listeners[h]=new Set,this.localCache[h]=this.storage.getItem(h)),this.listeners[h].add(w)}_removeListener(h,w){this.listeners[h]&&(this.listeners[h].delete(w),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(h,w){var U=()=>super._set,J=this;return(0,g.Z)(function*(){yield U().call(J,h,w),J.localCache[h]=JSON.stringify(w)})()}_get(h){var w=()=>super._get,U=this;return(0,g.Z)(function*(){const J=yield w().call(U,h);return U.localCache[h]=JSON.stringify(J),J})()}_remove(h){var w=()=>super._remove,U=this;return(0,g.Z)(function*(){yield w().call(U,h),delete U.localCache[h]})()}}return m.type="LOCAL",m})(),yo=(()=>{class m extends mo{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(h,w){}_removeListener(h,w){}}return m.type="SESSION",m})();let Jo=(()=>{class m{constructor(h){this.eventTarget=h,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(h){const w=this.receivers.find(J=>J.isListeningto(h));if(w)return w;const U=new m(h);return this.receivers.push(U),U}isListeningto(h){return this.eventTarget===h}handleEvent(h){var w=this;return(0,g.Z)(function*(){const U=h,{eventId:J,eventType:xe,data:je}=U.data,Rt=w.handlersMap[xe];if(!(null==Rt?void 0:Rt.size))return;U.ports[0].postMessage({status:"ack",eventId:J,eventType:xe});const rn=Array.from(Rt).map(function(){var mn=(0,g.Z)(function*(hi){return hi(U.origin,je)});return function(hi){return mn.apply(this,arguments)}}()),dn=yield function bs(m){return Promise.all(m.map(function(){var c=(0,g.Z)(function*(h){try{return{fulfilled:!0,value:yield h}}catch(w){return{fulfilled:!1,reason:w}}});return function(h){return c.apply(this,arguments)}}()))}(rn);U.ports[0].postMessage({status:"done",eventId:J,eventType:xe,response:dn})})()}_subscribe(h,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[h]||(this.handlersMap[h]=new Set),this.handlersMap[h].add(w)}_unsubscribe(h,w){this.handlersMap[h]&&w&&this.handlersMap[h].delete(w),(!w||0===this.handlersMap[h].size)&&delete this.handlersMap[h],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return m.receivers=[],m})();function Xo(m="",c=10){let h="";for(let w=0;w<c;w++)h+=Math.floor(10*Math.random());return m+h}class Ma{constructor(c){this.target=c,this.handlers=new Set}removeMessageHandler(c){c.messageChannel&&(c.messageChannel.port1.removeEventListener("message",c.onMessage),c.messageChannel.port1.close()),this.handlers.delete(c)}_send(c,h,w=50){var U=this;return(0,g.Z)(function*(){const J="undefined"!=typeof MessageChannel?new MessageChannel:null;if(!J)throw new Error("connection_unavailable");let xe,je;return new Promise((Rt,rn)=>{const dn=Xo("",20);J.port1.start();const mn=setTimeout(()=>{rn(new Error("unsupported_event"))},w);je={messageChannel:J,onMessage(hi){const Co=hi;if(Co.data.eventId===dn)switch(Co.data.status){case"ack":clearTimeout(mn),xe=setTimeout(()=>{rn(new Error("timeout"))},3e3);break;case"done":clearTimeout(xe),Rt(Co.data.response);break;default:clearTimeout(mn),clearTimeout(xe),rn(new Error("invalid_response"))}}},U.handlers.add(je),J.port1.addEventListener("message",je.onMessage),U.target.postMessage({eventType:c,eventId:dn,data:h},[J.port2])}).finally(()=>{je&&U.removeMessageHandler(je)})})()}}function zr(){return window}function Ws(){return void 0!==zr().WorkerGlobalScope&&"function"==typeof zr().importScripts}function js(){return(js=(0,g.Z)(function*(){if(!(null==navigator?void 0:navigator.serviceWorker))return null;try{return(yield navigator.serviceWorker.ready).active}catch(m){return null}})).apply(this,arguments)}const Pi="firebaseLocalStorageDb",Os="firebaseLocalStorage",To="fbase_key";class so{constructor(c){this.request=c}toPromise(){return new Promise((c,h)=>{this.request.addEventListener("success",()=>{c(this.request.result)}),this.request.addEventListener("error",()=>{h(this.request.error)})})}}function gt(m,c){return m.transaction([Os],c?"readwrite":"readonly").objectStore(Os)}function b(){const m=indexedDB.open(Pi,1);return new Promise((c,h)=>{m.addEventListener("error",()=>{h(m.error)}),m.addEventListener("upgradeneeded",()=>{const w=m.result;try{w.createObjectStore(Os,{keyPath:To})}catch(U){h(U)}}),m.addEventListener("success",(0,g.Z)(function*(){const w=m.result;w.objectStoreNames.contains(Os)?c(w):(w.close(),yield function Dr(){const m=indexedDB.deleteDatabase(Pi);return new so(m).toPromise()}(),c(yield b()))}))})}function I(m,c,h){return _.apply(this,arguments)}function _(){return(_=(0,g.Z)(function*(m,c,h){const w=gt(m,!0).put({[To]:c,value:h});return new so(w).toPromise()})).apply(this,arguments)}function F(){return(F=(0,g.Z)(function*(m,c){const h=gt(m,!1).get(c),w=yield new so(h).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function j(m,c){const h=gt(m,!0).delete(c);return new so(h).toPromise()}const xt=(()=>{class m{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var h=this;return(0,g.Z)(function*(){return h.db||(h.db=yield b()),h.db})()}_withRetries(h){var w=this;return(0,g.Z)(function*(){let U=0;for(;;)try{const J=yield w._openDb();return yield h(J)}catch(J){if(U++>3)throw J;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var h=this;return(0,g.Z)(function*(){return Ws()?h.initializeReceiver():h.initializeSender()})()}initializeReceiver(){var h=this;return(0,g.Z)(function*(){h.receiver=Jo._getInstance(function nu(){return Ws()?self:null}()),h.receiver._subscribe("keyChanged",function(){var w=(0,g.Z)(function*(U,J){return{keyProcessed:(yield h._poll()).includes(J.key)}});return function(U,J){return w.apply(this,arguments)}}()),h.receiver._subscribe("ping",function(){var w=(0,g.Z)(function*(U,J){return["keyChanged"]});return function(U,J){return w.apply(this,arguments)}}())})()}initializeSender(){var h=this;return(0,g.Z)(function*(){var w,U;if(h.activeServiceWorker=yield function Ra(){return js.apply(this,arguments)}(),!h.activeServiceWorker)return;h.sender=new Ma(h.activeServiceWorker);const J=yield h.sender._send("ping",{},800);!J||(null===(w=J[0])||void 0===w?void 0:w.fulfilled)&&(null===(U=J[0])||void 0===U?void 0:U.value.includes("keyChanged"))&&(h.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(h){var w=this;return(0,g.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function ql(){var m;return(null===(m=null==navigator?void 0:navigator.serviceWorker)||void 0===m?void 0:m.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:h},w.serviceWorkerReceiverAvailable?800:50)}catch(U){}})()}_isAvailable(){return(0,g.Z)(function*(){try{if(!indexedDB)return!1;const h=yield b();return yield I(h,ds,"1"),yield j(h,ds),!0}catch(h){}return!1})()}_withPendingWrite(h){var w=this;return(0,g.Z)(function*(){w.pendingWrites++;try{yield h()}finally{w.pendingWrites--}})()}_set(h,w){var U=this;return(0,g.Z)(function*(){return U._withPendingWrite((0,g.Z)(function*(){return yield U._withRetries(J=>I(J,h,w)),U.localCache[h]=w,U.notifyServiceWorker(h)}))})()}_get(h){var w=this;return(0,g.Z)(function*(){const U=yield w._withRetries(J=>function S(m,c){return F.apply(this,arguments)}(J,h));return w.localCache[h]=U,U})()}_remove(h){var w=this;return(0,g.Z)(function*(){return w._withPendingWrite((0,g.Z)(function*(){return yield w._withRetries(U=>j(U,h)),delete w.localCache[h],w.notifyServiceWorker(h)}))})()}_poll(){var h=this;return(0,g.Z)(function*(){const w=yield h._withRetries(xe=>{const je=gt(xe,!1).getAll();return new so(je).toPromise()});if(!w)return[];if(0!==h.pendingWrites)return[];const U=[],J=new Set;for(const{fbase_key:xe,value:je}of w)J.add(xe),JSON.stringify(h.localCache[xe])!==JSON.stringify(je)&&(h.notifyListeners(xe,je),U.push(xe));for(const xe of Object.keys(h.localCache))h.localCache[xe]&&!J.has(xe)&&(h.notifyListeners(xe,null),U.push(xe));return U})()}notifyListeners(h,w){this.localCache[h]=w;const U=this.listeners[h];if(U)for(const J of Array.from(U))J(w)}startPolling(){var h=this;this.stopPolling(),this.pollTimer=setInterval((0,g.Z)(function*(){return h._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(h,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[h]||(this.listeners[h]=new Set,this._get(h)),this.listeners[h].add(w)}_removeListener(h,w){this.listeners[h]&&(this.listeners[h].delete(w),0===this.listeners[h].size&&delete this.listeners[h]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return m.type="LOCAL",m})();function Gn(m,c){return yn(m,"POST","/v2/accounts/mfaSignIn:start",kt(m,c))}function Zn(){return(Zn=(0,g.Z)(function*(m){return(yield yn(m,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Ps(m){return new Promise((c,h)=>{const w=document.createElement("script");w.setAttribute("src",m),w.onload=c,w.onerror=U=>{const J=Ce("internal-error");J.customData=U,h(J)},w.type="text/javascript",w.charset="UTF-8",function Ks(){var m,c;return null!==(c=null===(m=document.getElementsByTagName("head"))||void 0===m?void 0:m[0])&&void 0!==c?c:document}().appendChild(w)})}function ea(m){return`__${m}${Math.floor(1e6*Math.random())}`}const Ys=1e12;class zl{constructor(c){this.auth=c,this.counter=Ys,this._widgets=new Map}render(c,h){const w=this.counter;return this._widgets.set(w,new Qn(c,this.auth.name,h||{})),this.counter++,w}reset(c){var h;const w=c||Ys;null===(h=this._widgets.get(w))||void 0===h||h.delete(),this._widgets.delete(w)}getResponse(c){var h;return(null===(h=this._widgets.get(c||Ys))||void 0===h?void 0:h.getResponse())||""}execute(c){var h=this;return(0,g.Z)(function*(){var w;return null===(w=h._widgets.get(c||Ys))||void 0===w||w.execute(),""})()}}class Qn{constructor(c,h,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const U="string"==typeof c?document.getElementById(c):c;Ne(U,"argument-error",{appName:h}),this.container=U,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function _o(m){const c=[],h="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<m;w++)c.push(h.charAt(Math.floor(Math.random()*h.length)));return c.join("")}(50);const{callback:c,"expired-callback":h}=this.params;if(c)try{c(this.responseToken)}catch(w){}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,h)try{h()}catch(w){}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ru=ea("rcb"),Gi=new Qt(3e4,6e4);class Gc{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!zr().grecaptcha}load(c,h=""){return Ne(function iu(m){return m.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(m)}(h),c,"argument-error"),this.shouldResolveImmediately(h)?Promise.resolve(zr().grecaptcha):new Promise((w,U)=>{const J=zr().setTimeout(()=>{U(Ce(c,"network-request-failed"))},Gi.get());zr()[ru]=()=>{zr().clearTimeout(J),delete zr()[ru];const je=zr().grecaptcha;if(!je)return void U(Ce(c,"internal-error"));const Rt=je.render;je.render=(rn,dn)=>{const mn=Rt(rn,dn);return this.counter++,mn},this.hostLanguage=h,w(je)},Ps(`https://www.google.com/recaptcha/api.js??${(0,Y.xO)({onload:ru,render:"explicit",hl:h})}`).catch(()=>{clearTimeout(J),U(Ce(c,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(c){return!!zr().grecaptcha&&(c===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class Zc{load(c){return(0,g.Z)(function*(){return new zl(c)})()}clearedOneInstance(){}}const Oa="recaptcha",pr={theme:"light",type:"image"};class $d{constructor(c,h=Object.assign({},pr),w){this.parameters=h,this.type=Oa,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=ot(w),this.isInvisible="invisible"===this.parameters.size,Ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment");const U="string"==typeof c?document.getElementById(c):c;Ne(U,this.auth,"argument-error"),this.container=U,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new Zc:new Gc,this.validateStartingState()}verify(){var c=this;return(0,g.Z)(function*(){c.assertNotDestroyed();const h=yield c.render(),w=c.getAssertedRecaptcha();return w.getResponse(h)||new Promise(J=>{const xe=je=>{!je||(c.tokenChangeListeners.delete(xe),J(je))};c.tokenChangeListeners.add(xe),c.isInvisible&&w.execute(h)})})()}render(){try{this.assertNotDestroyed()}catch(c){return Promise.reject(c)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(c=>{throw this.renderPromise=null,c})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(c=>{this.container.removeChild(c)})}validateStartingState(){Ne(!this.parameters.sitekey,this.auth,"argument-error"),Ne(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),Ne("undefined"!=typeof document,this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(c){return h=>{if(this.tokenChangeListeners.forEach(w=>w(h)),"function"==typeof c)c(h);else if("string"==typeof c){const w=zr()[c];"function"==typeof w&&w(h)}}}assertNotDestroyed(){Ne(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var c=this;return(0,g.Z)(function*(){if(yield c.init(),!c.widgetId){let h=c.container;if(!c.isInvisible){const w=document.createElement("div");h.appendChild(w),h=w}c.widgetId=c.getAssertedRecaptcha().render(h,c.parameters)}return c.widgetId})()}init(){var c=this;return(0,g.Z)(function*(){Ne($t()&&!Ws(),c.auth,"internal-error"),yield function hs(){let m=null;return new Promise(c=>{"complete"!==document.readyState?(m=()=>c(),window.addEventListener("load",m)):c()}).catch(c=>{throw m&&window.removeEventListener("load",m),c})}(),c.recaptcha=yield c._recaptchaLoader.load(c.auth,c.auth.languageCode||void 0);const h=yield function Tr(m){return Zn.apply(this,arguments)}(c.auth);Ne(h,c.auth,"internal-error"),c.parameters.sitekey=h})()}getAssertedRecaptcha(){return Ne(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class oo{constructor(c,h){this.verificationId=c,this.onConfirmation=h}confirm(c){const h=Bi._fromVerification(this.verificationId,c);return this.onConfirmation(h)}}function Jn(){return(Jn=(0,g.Z)(function*(m,c,h){const w=ot(m),U=yield ts(w,c,(0,Y.m9)(h));return new oo(U,J=>Et(w,J))})).apply(this,arguments)}function Qs(){return(Qs=(0,g.Z)(function*(m,c,h){const w=(0,Y.m9)(m);yield H(!1,w,"phone");const U=yield ts(w.auth,c,(0,Y.m9)(h));return new oo(U,J=>Kn(w,J))})).apply(this,arguments)}function Fo(){return(Fo=(0,g.Z)(function*(m,c,h){const w=(0,Y.m9)(m),U=yield ts(w.auth,c,(0,Y.m9)(h));return new oo(U,J=>bn(w,J))})).apply(this,arguments)}function ts(m,c,h){return Js.apply(this,arguments)}function Js(){return(Js=(0,g.Z)(function*(m,c,h){var w;const U=yield h.verify();try{let J;if(Ne("string"==typeof U,m,"argument-error"),Ne(h.type===Oa,m,"argument-error"),J="string"==typeof c?{phoneNumber:c}:c,"session"in J){const xe=J.session;if("phoneNumber"in J)return Ne("enroll"===xe.type,m,"internal-error"),(yield vi(m,{idToken:xe.credential,phoneEnrollmentInfo:{phoneNumber:J.phoneNumber,recaptchaToken:U}})).phoneSessionInfo.sessionInfo;{Ne("signin"===xe.type,m,"internal-error");const je=(null===(w=J.multiFactorHint)||void 0===w?void 0:w.uid)||J.multiFactorUid;return Ne(je,m,"missing-multi-factor-info"),(yield Gn(m,{mfaPendingCredential:xe.credential,mfaEnrollmentId:je,phoneSignInInfo:{recaptchaToken:U}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:xe}=yield me(m,{phoneNumber:J.phoneNumber,recaptchaToken:U});return xe}}finally{h._reset()}})).apply(this,arguments)}function ta(){return(ta=(0,g.Z)(function*(m,c){yield vr((0,Y.m9)(m),c)})).apply(this,arguments)}let Ki=(()=>{class m{constructor(h){this.providerId=m.PROVIDER_ID,this.auth=ot(h)}verifyPhoneNumber(h,w){return ts(this.auth,h,(0,Y.m9)(w))}static credential(h,w){return Bi._fromVerification(h,w)}static credentialFromResult(h){return m.credentialFromTaggedObject(h)}static credentialFromError(h){return m.credentialFromTaggedObject(h.customData||{})}static credentialFromTaggedObject({_tokenResponse:h}){if(!h)return null;const{phoneNumber:w,temporaryProof:U}=h;return w&&U?Bi._fromTokenResponse(w,U):null}}return m.PROVIDER_ID="phone",m.PHONE_SIGN_IN_METHOD="phone",m})();function Ds(m,c){return c?Ee(c):(Ne(m._popupRedirectResolver,m,"argument-error"),m._popupRedirectResolver)}class Lo extends On{constructor(c){super("custom","custom"),this.params=c}_getIdTokenResponse(c){return Sn(c,this._buildIdpRequest())}_linkToIdToken(c,h){return Sn(c,this._buildIdpRequest(h))}_getReauthenticationResolver(c){return Sn(c,this._buildIdpRequest())}_buildIdpRequest(c){const h={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return c&&(h.idToken=c),h}}function Au(m){return ze(m.auth,new Lo(m),m.bypassAuthState)}function At(m){const{auth:c,user:h}=m;return Ne(h,c,"internal-error"),K(h,new Lo(m),m.bypassAuthState)}function cl(m){return Su.apply(this,arguments)}function Su(){return(Su=(0,g.Z)(function*(m){const{auth:c,user:h}=m;return Ne(h,c,"internal-error"),vr(h,new Lo(m),m.bypassAuthState)})).apply(this,arguments)}class Yi{constructor(c,h,w,U,J=!1){this.auth=c,this.resolver=w,this.user=U,this.bypassAuthState=J,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(h)?h:[h]}execute(){var c=this;return new Promise(function(){var h=(0,g.Z)(function*(w,U){c.pendingPromise={resolve:w,reject:U};try{c.eventManager=yield c.resolver._initialize(c.auth),yield c.onExecution(),c.eventManager.registerConsumer(c)}catch(J){c.reject(J)}});return function(w,U){return h.apply(this,arguments)}}())}onAuthEvent(c){var h=this;return(0,g.Z)(function*(){const{urlResponse:w,sessionId:U,postBody:J,tenantId:xe,error:je,type:Rt}=c;if(je)return void h.reject(je);const rn={auth:h.auth,requestUri:w,sessionId:U,tenantId:xe||void 0,postBody:J||void 0,user:h.user,bypassAuthState:h.bypassAuthState};try{h.resolve(yield h.getIdpTask(Rt)(rn))}catch(dn){h.reject(dn)}})()}onError(c){this.reject(c)}getIdpTask(c){switch(c){case"signInViaPopup":case"signInViaRedirect":return Au;case"linkViaPopup":case"linkViaRedirect":return cl;case"reauthViaPopup":case"reauthViaRedirect":return At;default:ue(this.auth,"internal-error")}}resolve(c){fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(c),this.unregisterAndCleanUp()}reject(c){fe(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(c),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const vo=new Qt(2e3,1e4);function Uo(){return(Uo=(0,g.Z)(function*(m,c,h){const w=ot(m);st(m,c,$);const U=Ds(w,h);return new Eo(w,"signInViaPopup",c,U).executeNotNull()})).apply(this,arguments)}function Vo(){return(Vo=(0,g.Z)(function*(m,c,h){const w=(0,Y.m9)(m);st(w.auth,c,$);const U=Ds(w.auth,h);return new Eo(w.auth,"reauthViaPopup",c,U,w).executeNotNull()})).apply(this,arguments)}function ra(){return(ra=(0,g.Z)(function*(m,c,h){const w=(0,Y.m9)(m);st(w.auth,c,$);const U=Ds(w.auth,h);return new Eo(w.auth,"linkViaPopup",c,U,w).executeNotNull()})).apply(this,arguments)}let Eo=(()=>{class m extends Yi{constructor(h,w,U,J,xe){super(h,w,J,xe),this.provider=U,this.authWindow=null,this.pollId=null,m.currentPopupAction&&m.currentPopupAction.cancel(),m.currentPopupAction=this}executeNotNull(){var h=this;return(0,g.Z)(function*(){const w=yield h.execute();return Ne(w,h.auth,"internal-error"),w})()}onExecution(){var h=this;return(0,g.Z)(function*(){fe(1===h.filter.length,"Popup operations only handle one event");const w=Xo();h.authWindow=yield h.resolver._openPopup(h.auth,h.provider,h.filter[0],w),h.authWindow.associatedEvent=w,h.resolver._originValidation(h.auth).catch(U=>{h.reject(U)}),h.resolver._isIframeWebStorageSupported(h.auth,U=>{U||h.reject(Ce(h.auth,"web-storage-unsupported"))}),h.pollUserCancellation()})()}get eventId(){var h;return(null===(h=this.authWindow)||void 0===h?void 0:h.associatedEvent)||null}cancel(){this.reject(Ce(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,m.currentPopupAction=null}pollUserCancellation(){const h=()=>{var w,U;this.pollId=(null===(U=null===(w=this.authWindow)||void 0===w?void 0:w.window)||void 0===U?void 0:U.closed)?window.setTimeout(()=>{this.pollId=null,this.reject(Ce(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(h,vo.get())};h()}}return m.currentPopupAction=null,m})();const ao=new Map;class xu extends Yi{constructor(c,h,w=!1){super(c,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],h,void 0,w),this.eventId=null}execute(){var c=()=>super.execute,h=this;return(0,g.Z)(function*(){let w=ao.get(h.auth._key());if(!w){try{const J=(yield function Na(m,c){return da.apply(this,arguments)}(h.resolver,h.auth))?yield c().call(h):null;w=()=>Promise.resolve(J)}catch(U){w=()=>Promise.reject(U)}ao.set(h.auth._key(),w)}return h.bypassAuthState||ao.set(h.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(c){var h=()=>super.onAuthEvent,w=this;return(0,g.Z)(function*(){if("signInViaRedirect"===c.type)return h().call(w,c);if("unknown"!==c.type){if(c.eventId){const U=yield w.auth._redirectUserForId(c.eventId);if(U)return w.user=U,h().call(w,c);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,g.Z)(function*(){})()}cleanUp(){}}function da(){return(da=(0,g.Z)(function*(m,c){const h=N(c),w=x(m);if(!(yield w._isAvailable()))return!1;const U="true"===(yield w._get(h));return yield w._remove(h),U})).apply(this,arguments)}function ia(m,c){return ka.apply(this,arguments)}function ka(){return(ka=(0,g.Z)(function*(m,c){return x(m)._set(N(c),"true")})).apply(this,arguments)}function x(m){return Ee(m._redirectPersistence)}function N(m){return Ve("pendingRedirect",m.config.apiKey,m.name)}function Pe(){return(Pe=(0,g.Z)(function*(m,c,h){const w=ot(m);st(m,c,$);const U=Ds(w,h);return yield ia(U,w),U._openRedirect(w,c,"signInViaRedirect")})).apply(this,arguments)}function zt(){return(zt=(0,g.Z)(function*(m,c,h){const w=(0,Y.m9)(m);st(w.auth,c,$);const U=Ds(w.auth,h);yield ia(U,w.auth);const J=yield Ru(w);return U._openRedirect(w.auth,c,"reauthViaRedirect",J)})).apply(this,arguments)}function Vn(){return(Vn=(0,g.Z)(function*(m,c,h){const w=(0,Y.m9)(m);st(w.auth,c,$);const U=Ds(w.auth,h);yield H(!1,w,c.providerId),yield ia(U,w.auth);const J=yield Ru(w);return U._openRedirect(w.auth,c,"linkViaRedirect",J)})).apply(this,arguments)}function ns(){return(ns=(0,g.Z)(function*(m,c){return yield ot(m)._initializationPromise,ki(m,c,!1)})).apply(this,arguments)}function ki(m,c){return uo.apply(this,arguments)}function uo(){return(uo=(0,g.Z)(function*(m,c,h=!1){const w=ot(m),U=Ds(w,c),xe=yield new xu(w,U,h).execute();return xe&&!h&&(delete xe.user._redirectEventId,yield w._persistUserIfCurrent(xe.user),yield w._setRedirectUser(null,c)),xe})).apply(this,arguments)}function Ru(m){return $s.apply(this,arguments)}function $s(){return($s=(0,g.Z)(function*(m){const c=Xo(`${m.uid}:::`);return m._redirectEventId=c,yield m.auth._setRedirectUser(m),yield m.auth._persistUserIfCurrent(m),c})).apply(this,arguments)}class wo{constructor(c){this.auth=c,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(c){this.consumers.add(c),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,c)&&(this.sendToConsumer(this.queuedRedirectEvent,c),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(c){this.consumers.delete(c)}onEvent(c){if(this.hasEventBeenHandled(c))return!1;let h=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(c,w)&&(h=!0,this.sendToConsumer(c,w),this.saveEventToCache(c))}),this.hasHandledPotentialRedirect||!function Zd(m){switch(m.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Gd(m);default:return!1}}(c)||(this.hasHandledPotentialRedirect=!0,h||(this.queuedRedirectEvent=c,h=!0)),h}sendToConsumer(c,h){var w;if(c.error&&!Gd(c)){const U=(null===(w=c.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";h.onError(Ce(this.auth,U))}else h.onAuthEvent(c)}isEventForConsumer(c,h){const w=null===h.eventId||!!c.eventId&&c.eventId===h.eventId;return h.filter.includes(c.type)&&w}hasEventBeenHandled(c){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ei(c))}saveEventToCache(c){this.cachedEventUids.add(Ei(c)),this.lastProcessedEventTime=Date.now()}}function Ei(m){return[m.type,m.eventId,m.sessionId,m.tenantId].filter(c=>c).join("-")}function Gd({type:m,error:c}){return"unknown"===m&&"auth/no-auth-event"===(null==c?void 0:c.code)}function Wl(m){return ou.apply(this,arguments)}function ou(){return(ou=(0,g.Z)(function*(m,c={}){return yn(m,"GET","/v1/projects",c)})).apply(this,arguments)}const qd=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Mf=/^https?/;function Fa(){return(Fa=(0,g.Z)(function*(m){if(m.config.emulator)return;const{authorizedDomains:c}=yield Wl(m);for(const h of c)try{if(xo(h))return}catch(w){}ue(m,"unauthorized-domain")})).apply(this,arguments)}function xo(m){const c=en(),{protocol:h,hostname:w}=new URL(c);if(m.startsWith("chrome-extension://")){const xe=new URL(m);return""===xe.hostname&&""===w?"chrome-extension:"===h&&m.replace("chrome-extension://","")===c.replace("chrome-extension://",""):"chrome-extension:"===h&&xe.hostname===w}if(!Mf.test(h))return!1;if(qd.test(m))return w===m;const U=m.replace(/\./g,"\\.");return new RegExp("^(.+\\."+U+"|"+U+")$","i").test(w)}const Ou=new Qt(3e4,6e4);function Of(){const m=zr().___jsl;if(null==m?void 0:m.H)for(const c of Object.keys(m.H))if(m.H[c].r=m.H[c].r||[],m.H[c].L=m.H[c].L||[],m.H[c].r=[...m.H[c].L],m.CP)for(let h=0;h<m.CP.length;h++)m.CP[h]=null}let hl=null;function La(m){return hl=hl||function qc(m){return new Promise((c,h)=>{var w,U,J;function xe(){Of(),gapi.load("gapi.iframes",{callback:()=>{c(gapi.iframes.getContext())},ontimeout:()=>{Of(),h(Ce(m,"network-request-failed"))},timeout:Ou.get()})}if(null===(U=null===(w=zr().gapi)||void 0===w?void 0:w.iframes)||void 0===U?void 0:U.Iframe)c(gapi.iframes.getContext());else{if(!(null===(J=zr().gapi)||void 0===J?void 0:J.load)){const je=ea("iframefcb");return zr()[je]=()=>{gapi.load?xe():h(Ce(m,"network-request-failed"))},Ps(`https://apis.google.com/js/api.js?onload=${je}`).catch(Rt=>h(Rt))}xe()}}).catch(c=>{throw hl=null,c})}(m),hl}const zd=new Qt(5e3,15e3),au={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fl=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Ua(m){const c=m.config;Ne(c.authDomain,m,"auth-domain-config-required");const h=c.emulator?Pt(c,"emulator/auth/iframe"):`https://${m.config.authDomain}/__/auth/iframe`,w={apiKey:c.apiKey,appName:m.name,v:pe.SDK_VERSION},U=fl.get(m.config.apiHost);U&&(w.eid=U);const J=m._getFrameworks();return J.length&&(w.fw=J.join(",")),`${h}?${(0,Y.xO)(w).slice(1)}`}function Va(){return Va=(0,g.Z)(function*(m){const c=yield La(m),h=zr().gapi;return Ne(h,m,"internal-error"),c.open({where:document.body,url:Ua(m),messageHandlersFilter:h.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:au,dontclear:!0},w=>new Promise(function(){var U=(0,g.Z)(function*(J,xe){yield w.restyle({setHideOnLeave:!1});const je=Ce(m,"network-request-failed"),Rt=zr().setTimeout(()=>{xe(je)},zd.get());function rn(){zr().clearTimeout(Rt),J(w)}w.ping(rn).then(rn,()=>{xe(je)})});return function(J,xe){return U.apply(this,arguments)}}()))}),Va.apply(this,arguments)}const Bo={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class gl{constructor(c){this.window=c,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(c){}}}function Ql(m,c,h,w,U,J){Ne(m.config.authDomain,m,"auth-domain-config-required"),Ne(m.config.apiKey,m,"invalid-api-key");const xe={apiKey:m.config.apiKey,appName:m.name,authType:h,redirectUrl:w,v:pe.SDK_VERSION,eventId:U};if(c instanceof $){c.setDefaultLanguage(m.languageCode),xe.providerId=c.providerId||"",(0,Y.xb)(c.getCustomParameters())||(xe.customParameters=JSON.stringify(c.getCustomParameters()));for(const[Rt,rn]of Object.entries(J||{}))xe[Rt]=rn}if(c instanceof te){const Rt=c.getScopes().filter(rn=>""!==rn);Rt.length>0&&(xe.scopes=Rt.join(","))}m.tenantId&&(xe.tid=m.tenantId);const je=xe;for(const Rt of Object.keys(je))void 0===je[Rt]&&delete je[Rt];return`${function Yd({config:m}){return m.emulator?Pt(m,"emulator/auth/handler"):`https://${m.authDomain}/__/auth/handler`}(m)}?${(0,Y.xO)(je).slice(1)}`}const Io="webStorageSupport";class lu extends class Nf{constructor(c){this.factorId=c}_process(c,h,w){switch(h.type){case"enroll":return this._finalizeEnroll(c,h.credential,w);case"signin":return this._finalizeSignIn(c,h.credential);default:return be("unexpected MultiFactorSessionType")}}}{constructor(c){super("phone"),this.credential=c}static _fromCredential(c){return new lu(c)}_finalizeEnroll(c,h,w){return function Hi(m,c){return yn(m,"POST","/v2/accounts/mfaEnrollment:finalize",kt(m,c))}(c,{idToken:h,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(c,h){return function nn(m,c){return yn(m,"POST","/v2/accounts/mfaSignIn:finalize",kt(m,c))}(c,{mfaPendingCredential:h,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Nu=(()=>{class m{constructor(){}static assertion(h){return lu._fromCredential(h)}}return m.FACTOR_ID="phone",m})();var Jd="@firebase/auth",cu="0.19.11";class Yc{constructor(c){this.auth=c,this.internalListeners=new Map}getUid(){var c;return this.assertAuthConfigured(),(null===(c=this.auth.currentUser)||void 0===c?void 0:c.uid)||null}getToken(c){var h=this;return(0,g.Z)(function*(){return h.assertAuthConfigured(),yield h.auth._initializationPromise,h.auth.currentUser?{accessToken:yield h.auth.currentUser.getIdToken(c)}:null})()}addAuthTokenListener(c){if(this.assertAuthConfigured(),this.internalListeners.has(c))return;const h=this.auth.onIdTokenChanged(w=>{var U;c((null===(U=w)||void 0===U?void 0:U.stsTokenManager.accessToken)||null)});this.internalListeners.set(c,h),this.updateProactiveRefresh()}removeAuthTokenListener(c){this.assertAuthConfigured();const h=this.internalListeners.get(c);!h||(this.internalListeners.delete(c),h(),this.updateProactiveRefresh())}assertAuthConfigured(){Ne(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function jo(){return window}function wi(){return(wi=(0,g.Z)(function*(m,c,h){var w;const{BuildInfo:U}=jo();fe(c.sessionId,"AuthEvent did not contain a session ID");const J=yield Lf(c.sessionId),xe={};return Lr()?xe.ibi=U.packageName:Rn()?xe.apn=U.packageName:ue(m,"operation-not-supported-in-this-environment"),U.displayName&&(xe.appDisplayName=U.displayName),xe.sessionId=J,Ql(m,h,c.type,void 0,null!==(w=c.eventId)&&void 0!==w?w:void 0,xe)})).apply(this,arguments)}function Xs(){return(Xs=(0,g.Z)(function*(m){const{BuildInfo:c}=jo(),h={};Lr()?h.iosBundleId=c.packageName:Rn()?h.androidPackageName=c.packageName:ue(m,"operation-not-supported-in-this-environment"),yield Wl(m,h)})).apply(this,arguments)}function Xl(){return(Xl=(0,g.Z)(function*(m,c,h){const{cordova:w}=jo();let U=()=>{};try{yield new Promise((J,xe)=>{let je=null;function Rt(){var mn;J();const hi=null===(mn=w.plugins.browsertab)||void 0===mn?void 0:mn.close;"function"==typeof hi&&hi(),"function"==typeof(null==h?void 0:h.close)&&h.close()}function rn(){je||(je=window.setTimeout(()=>{xe(Ce(m,"redirect-cancelled-by-user"))},2e3))}function dn(){"visible"===(null==document?void 0:document.visibilityState)&&rn()}c.addPassiveListener(Rt),document.addEventListener("resume",rn,!1),Rn()&&document.addEventListener("visibilitychange",dn,!1),U=()=>{c.removePassiveListener(Rt),document.removeEventListener("resume",rn,!1),document.removeEventListener("visibilitychange",dn,!1),je&&window.clearTimeout(je)}})}finally{U()}})).apply(this,arguments)}function Lf(m){return Fu.apply(this,arguments)}function Fu(){return(Fu=(0,g.Z)(function*(m){const c=Lu(m),h=yield crypto.subtle.digest("SHA-256",c);return Array.from(new Uint8Array(h)).map(U=>U.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}function Lu(m){if(fe(/[0-9a-zA-Z]+/.test(m),"Can only convert alpha-numeric strings"),"undefined"!=typeof TextEncoder)return(new TextEncoder).encode(m);const c=new ArrayBuffer(m.length),h=new Uint8Array(c);for(let w=0;w<m.length;w++)h[w]=m.charCodeAt(w);return h}!function Xd(m){(0,pe._registerComponent)(new Te.wA("auth",(c,{options:h})=>{const w=c.getProvider("app").getImmediate(),U=c.getProvider("heartbeat"),{apiKey:J,authDomain:xe}=w.options;return((je,Rt)=>{Ne(J&&!J.includes(":"),"invalid-api-key",{appName:je.name}),Ne(!(null==xe?void 0:xe.includes(":")),"argument-error",{appName:je.name});const rn={apiKey:J,authDomain:xe,clientPlatform:m,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pi(m)},dn=new Hr(je,Rt,rn);return function Ue(m,c){const h=(null==c?void 0:c.persistence)||[],w=(Array.isArray(h)?h:[h]).map(Ee);(null==c?void 0:c.errorMap)&&m._updateErrorMap(c.errorMap),m._initializeWithPersistence(w,null==c?void 0:c.popupRedirectResolver)}(dn,h),dn})(w,U)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((c,h,w)=>{c.getProvider("auth-internal").initialize()})),(0,pe._registerComponent)(new Te.wA("auth-internal",c=>{const h=ot(c.getProvider("auth").getImmediate());return new Yc(h)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,pe.registerVersion)(Jd,cu,function ku(m){switch(m){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(m)),(0,pe.registerVersion)(Jd,cu,"esm2017")}("Browser");class tc extends wo{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(c=>{this.resolveInialized=c})}addPassiveListener(c){this.passiveListeners.add(c)}removePassiveListener(c){this.passiveListeners.delete(c)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(c){return this.resolveInialized(),this.passiveListeners.forEach(h=>h(c)),super.onEvent(c)}initialized(){var c=this;return(0,g.Z)(function*(){yield c.initPromise})()}}function Jc(m){return ic.apply(this,arguments)}function ic(){return(ic=(0,g.Z)(function*(m){const c=yield sc()._get(oc(m));return c&&(yield sc()._remove(oc(m))),c})).apply(this,arguments)}function Ar(){const m=[],c="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let h=0;h<20;h++){const w=Math.floor(Math.random()*c.length);m.push(c.charAt(w))}return m.join("")}function sc(){return Ee(Vr)}function oc(m){return Ve("authEvent",m.config.apiKey,m.name)}function du(m){if(!(null==m?void 0:m.includes("?")))return{};const[c,...h]=m.split("?");return(0,Y.zd)(h.join("?"))}function hu(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Ce("no-auth-event")}}function Ba(){var m;return(null===(m=null==self?void 0:self.location)||void 0===m?void 0:m.protocol)||null}function th(m=(0,Y.z$)()){return!("file:"!==Ba()&&"ionic:"!==Ba()||!m.toLowerCase().match(/iphone|ipad|ipod|android/))}function is(){try{const m=self.localStorage,c=Xo();if(m)return m.setItem(c,"1"),m.removeItem(c),!function fa(m=(0,Y.z$)()){return function Og(){return(0,Y.w1)()&&11===(null==document?void 0:document.documentMode)}()||function ed(m=(0,Y.z$)()){return/Edge\/\d+/.test(m)}(m)}()||(0,Y.hl)()}catch(m){return ja()&&(0,Y.hl)()}return!1}function ja(){return"undefined"!=typeof global&&"WorkerGlobalScope"in global&&"importScripts"in global}function vl(){return(function Vf(){return"http:"===Ba()||"https:"===Ba()}()||(0,Y.ru)()||th())&&!function Wr(){return(0,Y.b$)()||(0,Y.UG)()}()&&is()&&!ja()}function ac(){return th()&&"undefined"!=typeof document}function fu(){return(fu=(0,g.Z)(function*(){return!!ac()&&new Promise(m=>{const c=setTimeout(()=>{m(!1)},1e3);document.addEventListener("deviceready",()=>{clearTimeout(c),m(!0)})})})).apply(this,arguments)}const co={LOCAL:"local",NONE:"none",SESSION:"session"},El=Ne,td="persistence";function $a(m){return lc.apply(this,arguments)}function lc(){return(lc=(0,g.Z)(function*(m){yield m._initializationPromise;const c=ps(),h=Ve(td,m.config.apiKey,m.name);c&&c.setItem(h,m._getPersistence())})).apply(this,arguments)}function ps(){var m;try{return(null===(m=function uc(){return"undefined"!=typeof window?window:null}())||void 0===m?void 0:m.sessionStorage)||null}catch(c){return null}}const nd=Ne;class $o{constructor(){this.browserResolver=Ee(class ml{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=yo,this._completeRedirectFn=ki}_openPopup(c,h,w,U){var J=this;return(0,g.Z)(function*(){var xe;fe(null===(xe=J.eventManagers[c._key()])||void 0===xe?void 0:xe.manager,"_initialize() not called before _openPopup()");const je=Ql(c,h,w,en(),U);return function Kc(m,c,h,w=500,U=600){const J=Math.max((window.screen.availHeight-U)/2,0).toString(),xe=Math.max((window.screen.availWidth-w)/2,0).toString();let je="";const Rt=Object.assign(Object.assign({},Bo),{width:w.toString(),height:U.toString(),top:J,left:xe}),rn=(0,Y.z$)().toLowerCase();h&&(je=Jt(rn)?"_blank":h),Ht(rn)&&(c=c||"http://localhost",Rt.scrollbars="yes");const dn=Object.entries(Rt).reduce((hi,[Co,Cl])=>`${hi}${Co}=${Cl},`,"");if(function as(m=(0,Y.z$)()){var c;return Lr(m)&&!!(null===(c=window.navigator)||void 0===c?void 0:c.standalone)}(rn)&&"_self"!==je)return function Wd(m,c){const h=document.createElement("a");h.href=m,h.target=c;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),h.dispatchEvent(w)}(c||"",je),new gl(null);const mn=window.open(c||"",je,dn);Ne(mn,m,"popup-blocked");try{mn.focus()}catch(hi){}return new gl(mn)}(c,je,Xo())})()}_openRedirect(c,h,w,U){var J=this;return(0,g.Z)(function*(){return yield J._originValidation(c),function ul(m){zr().location.href=m}(Ql(c,h,w,en(),U)),new Promise(()=>{})})()}_initialize(c){const h=c._key();if(this.eventManagers[h]){const{manager:U,promise:J}=this.eventManagers[h];return U?Promise.resolve(U):(fe(J,"If manager is not set, promise should be"),J)}const w=this.initAndGetManager(c);return this.eventManagers[h]={promise:w},w.catch(()=>{delete this.eventManagers[h]}),w}initAndGetManager(c){var h=this;return(0,g.Z)(function*(){const w=yield function zc(m){return Va.apply(this,arguments)}(c),U=new wo(c);return w.register("authEvent",J=>(Ne(null==J?void 0:J.authEvent,c,"invalid-auth-event"),{status:U.onEvent(J.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),h.eventManagers[c._key()]={manager:U},h.iframes[c._key()]=w,U})()}_isIframeWebStorageSupported(c,h){this.iframes[c._key()].send(Io,{type:Io},U=>{var J;const xe=null===(J=null==U?void 0:U[0])||void 0===J?void 0:J[Io];void 0!==xe&&h(!!xe),ue(c,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(c){const h=c._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function Rf(m){return Fa.apply(this,arguments)}(c)),this.originValidationPromises[h]}get _shouldInitProactively(){return er()||In()||Lr()}}),this.cordovaResolver=Ee(class Ii{constructor(){this._redirectPersistence=yo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=ki}_initialize(c){var h=this;return(0,g.Z)(function*(){const w=c._key();let U=h.eventManagers.get(w);return U||(U=new tc(c),h.eventManagers.set(w,U),h.attachCallbackListeners(c,U)),U})()}_openPopup(c){ue(c,"operation-not-supported-in-this-environment")}_openRedirect(c,h,w,U){var J=this;return(0,g.Z)(function*(){!function Qc(m){var c,h,w,U,J,xe,je,Rt,rn,dn;const mn=jo();Ne("function"==typeof(null===(c=null==mn?void 0:mn.universalLinks)||void 0===c?void 0:c.subscribe),m,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),Ne(void 0!==(null===(h=null==mn?void 0:mn.BuildInfo)||void 0===h?void 0:h.packageName),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),Ne("function"==typeof(null===(J=null===(U=null===(w=null==mn?void 0:mn.cordova)||void 0===w?void 0:w.plugins)||void 0===U?void 0:U.browsertab)||void 0===J?void 0:J.openUrl),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ne("function"==typeof(null===(Rt=null===(je=null===(xe=null==mn?void 0:mn.cordova)||void 0===xe?void 0:xe.plugins)||void 0===je?void 0:je.browsertab)||void 0===Rt?void 0:Rt.isAvailable),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),Ne("function"==typeof(null===(dn=null===(rn=null==mn?void 0:mn.cordova)||void 0===rn?void 0:rn.InAppBrowser)||void 0===dn?void 0:dn.open),m,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(c);const xe=yield J._initialize(c);yield xe.initialized(),xe.resetRedirect(),function Mu(){ao.clear()}(),yield J._originValidation(c);const je=function nc(m,c,h=null){return{type:c,eventId:h,urlResponse:null,sessionId:Ar(),postBody:null,tenantId:m.tenantId,error:Ce(m,"no-auth-event")}}(c,w,U);yield function rc(m,c){return sc()._set(oc(m),c)}(c,je);const Rt=yield function Ff(m,c,h){return wi.apply(this,arguments)}(c,je,h),rn=yield function _l(m){const{cordova:c}=jo();return new Promise(h=>{c.plugins.browsertab.isAvailable(w=>{let U=null;w?c.plugins.browsertab.openUrl(m):U=c.InAppBrowser.open(m,function Bt(m=(0,Y.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(m)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(m)}()?"_blank":"_system","location=yes"),h(U)})})}(Rt);return function Jl(m,c,h){return Xl.apply(this,arguments)}(c,xe,rn)})()}_isIframeWebStorageSupported(c,h){throw new Error("Method not implemented.")}_originValidation(c){const h=c._key();return this.originValidationPromises[h]||(this.originValidationPromises[h]=function yl(m){return Xs.apply(this,arguments)}(c)),this.originValidationPromises[h]}attachCallbackListeners(c,h){const{universalLinks:w,handleOpenURL:U,BuildInfo:J}=jo(),xe=setTimeout((0,g.Z)(function*(){yield Jc(c),h.onEvent(hu())}),500),je=function(){var dn=(0,g.Z)(function*(mn){clearTimeout(xe);const hi=yield Jc(c);let Co=null;hi&&(null==mn?void 0:mn.url)&&(Co=function rs(m,c){var h,w;const U=function Si(m){const c=du(m),h=c.link?decodeURIComponent(c.link):void 0,w=du(h).link,U=c.deep_link_id?decodeURIComponent(c.deep_link_id):void 0;return du(U).link||U||w||h||m}(c);if(U.includes("/__/auth/callback")){const J=du(U),xe=J.firebaseError?function ha(m){try{return JSON.parse(m)}catch(c){return null}}(decodeURIComponent(J.firebaseError)):null,je=null===(w=null===(h=null==xe?void 0:xe.code)||void 0===h?void 0:h.split("auth/"))||void 0===w?void 0:w[1],Rt=je?Ce(je):null;return Rt?{type:m.type,eventId:m.eventId,tenantId:m.tenantId,error:Rt,urlResponse:null,sessionId:null,postBody:null}:{type:m.type,eventId:m.eventId,tenantId:m.tenantId,sessionId:m.sessionId,urlResponse:U,postBody:null}}return null}(hi,mn.url)),h.onEvent(Co||hu())});return function(hi){return dn.apply(this,arguments)}}();void 0!==w&&"function"==typeof w.subscribe&&w.subscribe(null,je);const Rt=U,rn=`${J.packageName.toLowerCase()}://`;jo().handleOpenURL=function(){var dn=(0,g.Z)(function*(mn){if(mn.toLowerCase().startsWith(rn)&&je({url:mn}),"function"==typeof Rt)try{Rt(mn)}catch(hi){console.error(hi)}});return function(mn){return dn.apply(this,arguments)}}()}}),this.underlyingResolver=null,this._redirectPersistence=yo,this._completeRedirectFn=ki}_initialize(c){var h=this;return(0,g.Z)(function*(){return yield h.selectUnderlyingResolver(),h.assertedUnderlyingResolver._initialize(c)})()}_openPopup(c,h,w,U){var J=this;return(0,g.Z)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._openPopup(c,h,w,U)})()}_openRedirect(c,h,w,U){var J=this;return(0,g.Z)(function*(){return yield J.selectUnderlyingResolver(),J.assertedUnderlyingResolver._openRedirect(c,h,w,U)})()}_isIframeWebStorageSupported(c,h){this.assertedUnderlyingResolver._isIframeWebStorageSupported(c,h)}_originValidation(c){return this.assertedUnderlyingResolver._originValidation(c)}get _shouldInitProactively(){return ac()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return nd(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var c=this;return(0,g.Z)(function*(){if(c.underlyingResolver)return;const h=yield function Ns(){return fu.apply(this,arguments)}();c.underlyingResolver=h?c.cordovaResolver:c.browserResolver})()}}function Uu(m){return m.unwrap()}function wl(m){return Vu(m)}function Vu(m){const{_tokenResponse:c}=m instanceof Y.ZR?m.customData:m;if(!c)return null;if(!(m instanceof Y.ZR)&&"temporaryProof"in c&&"phoneNumber"in c)return Ki.credentialFromResult(m);const h=c.providerId;if(!h||"password"===h)return null;let w;switch(h){case"google.com":w=Yt;break;case"facebook.com":w=ut;break;case"github.com":w=xn;break;case"twitter.com":w=vs;break;default:const{oauthIdToken:U,oauthAccessToken:J,oauthTokenSecret:xe,pendingToken:je,nonce:Rt}=c;return J||xe||U||je?je?h.startsWith("saml.")?ls._create(h,je):Ie._fromParams({providerId:h,signInMethod:h,pendingToken:je,idToken:U,accessToken:J}):new De(h).credential({idToken:U,accessToken:J,rawNonce:Rt}):null}return m instanceof Y.ZR?w.credentialFromError(m):w.credentialFromResult(m)}function Ts(m,c){return c.catch(h=>{throw h instanceof Y.ZR&&function rh(m,c){var h;const w=null===(h=c.customData)||void 0===h?void 0:h._tokenResponse;if("auth/multi-factor-auth-required"===c.code)c.resolver=new jf(m,function Yo(m,c){var h;const w=(0,Y.m9)(m),U=c;return Ne(c.customData.operationType,w,"argument-error"),Ne(null===(h=U.customData._serverResponse)||void 0===h?void 0:h.mfaPendingCredential,w,"argument-error"),bo._fromError(w,U)}(m,c));else if(w){const U=Vu(c),J=c;U&&(J.credential=U,J.tenantId=w.tenantId||void 0,J.email=w.email||void 0,J.phoneNumber=w.phoneNumber||void 0)}}(m,h),h}).then(h=>{const U=h.user;return{operationType:h.operationType,credential:wl(h),additionalUserInfo:_i(h),user:pa.getOrCreate(U)}})}function cc(m,c){return dc.apply(this,arguments)}function dc(){return(dc=(0,g.Z)(function*(m,c){const h=yield c;return{verificationId:h.verificationId,confirm:w=>Ts(m,h.confirm(w))}})).apply(this,arguments)}class jf{constructor(c,h){this.resolver=h,this.auth=function sa(m){return m.wrapped()}(c)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(c){return Ts(Uu(this.auth),this.resolver.resolveSignIn(c))}}class pa{constructor(c){this._delegate=c,this.multiFactor=function ko(m){const c=(0,Y.m9)(m);return zs.has(c)||zs.set(c,Cs._fromUser(c)),zs.get(c)}(c)}static getOrCreate(c){return pa.USER_MAP.has(c)||pa.USER_MAP.set(c,new pa(c)),pa.USER_MAP.get(c)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(c){return this._delegate.getIdTokenResult(c)}getIdToken(c){return this._delegate.getIdToken(c)}linkAndRetrieveDataWithCredential(c){return this.linkWithCredential(c)}linkWithCredential(c){var h=this;return(0,g.Z)(function*(){return Ts(h.auth,Kn(h._delegate,c))})()}linkWithPhoneNumber(c,h){var w=this;return(0,g.Z)(function*(){return cc(w.auth,function ll(m,c,h){return Qs.apply(this,arguments)}(w._delegate,c,h))})()}linkWithPopup(c){var h=this;return(0,g.Z)(function*(){return Ts(h.auth,function dl(m,c,h){return ra.apply(this,arguments)}(h._delegate,c,$o))})()}linkWithRedirect(c){var h=this;return(0,g.Z)(function*(){return yield $a(ot(h.auth)),function an(m,c,h){return function Mn(m,c,h){return Vn.apply(this,arguments)}(m,c,h)}(h._delegate,c,$o)})()}reauthenticateAndRetrieveDataWithCredential(c){return this.reauthenticateWithCredential(c)}reauthenticateWithCredential(c){var h=this;return(0,g.Z)(function*(){return Ts(h.auth,bn(h._delegate,c))})()}reauthenticateWithPhoneNumber(c,h){return cc(this.auth,function Ni(m,c,h){return Fo.apply(this,arguments)}(this._delegate,c,h))}reauthenticateWithPopup(c){return Ts(this.auth,function na(m,c,h){return Vo.apply(this,arguments)}(this._delegate,c,$o))}reauthenticateWithRedirect(c){var h=this;return(0,g.Z)(function*(){return yield $a(ot(h.auth)),function $e(m,c,h){return function mt(m,c,h){return zt.apply(this,arguments)}(m,c,h)}(h._delegate,c,$o)})()}sendEmailVerification(c){return function ui(m,c){return $i.apply(this,arguments)}(this._delegate,c)}unlink(c){var h=this;return(0,g.Z)(function*(){return yield function qi(m,c){return ro.apply(this,arguments)}(h._delegate,c),h})()}updateEmail(c){return function zo(m,c){return Wo((0,Y.m9)(m),c,null)}(this._delegate,c)}updatePassword(c){return function Da(m,c){return Wo((0,Y.m9)(m),null,c)}(this._delegate,c)}updatePhoneNumber(c){return function Pa(m,c){return ta.apply(this,arguments)}(this._delegate,c)}updateProfile(c){return function po(m,c){return Zs.apply(this,arguments)}(this._delegate,c)}verifyBeforeUpdateEmail(c,h){return function Yr(m,c,h){return li.apply(this,arguments)}(this._delegate,c,h)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}pa.USER_MAP=new WeakMap;const ga=Ne;let Il=(()=>{class m{constructor(h,w){if(this.app=h,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:U}=h.options;ga(U,"invalid-api-key",{appName:h.name}),ga(U,"invalid-api-key",{appName:h.name});const J="undefined"!=typeof window?$o:void 0;this._delegate=w.initialize({options:{persistence:sh(U,h.name),popupRedirectResolver:J}}),this._delegate._updateErrorMap(Xe),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?pa.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(h){this._delegate.languageCode=h}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(h){this._delegate.tenantId=h}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(h,w){!function on(m,c,h){const w=ot(m);Ne(w._canInitEmulator,w,"emulator-config-failed"),Ne(/^https?:\/\//.test(c),w,"invalid-emulator-scheme");const U=!!(null==h?void 0:h.disableWarnings),J=sr(c),{host:xe,port:je}=function ii(m){const c=sr(m),h=/(\/\/)?([^?#/]+)/.exec(m.substr(c.length));if(!h)return{host:"",port:null};const w=h[2].split("@").pop()||"",U=/^(\[[^\]]+\])(:|$)/.exec(w);if(U){const J=U[1];return{host:J,port:dr(w.substr(J.length+1))}}{const[J,xe]=w.split(":");return{host:J,port:dr(xe)}}}(c);w.config.emulator={url:`${J}//${xe}${null===je?"":`:${je}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:xe,port:je,protocol:J.replace(":",""),options:Object.freeze({disableWarnings:U})}),U||function si(){function m(){const c=document.createElement("p"),h=c.style;c.innerText="Running in emulator mode. Do not use with production credentials.",h.position="fixed",h.width="100%",h.backgroundColor="#ffffff",h.border=".1em solid #000000",h.color="#b50000",h.bottom="0px",h.left="0px",h.margin="0px",h.zIndex="10000",h.textAlign="center",c.classList.add("firebase-emulator-warning"),document.body.appendChild(c)}"undefined"!=typeof console&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),"undefined"!=typeof window&&"undefined"!=typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",m):m())}()}(this._delegate,h,w)}applyActionCode(h){return function M(m,c){return y.apply(this,arguments)}(this._delegate,h)}checkActionCode(h){return D(this._delegate,h)}confirmPasswordReset(h,w){return function k(m,c,h){return R.apply(this,arguments)}(this._delegate,h,w)}createUserWithEmailAndPassword(h,w){var U=this;return(0,g.Z)(function*(){return Ts(U._delegate,function Le(m,c,h){return nt.apply(this,arguments)}(U._delegate,h,w))})()}fetchProvidersForEmail(h){return this.fetchSignInMethodsForEmail(h)}fetchSignInMethodsForEmail(h){return function Ai(m,c){return Er.apply(this,arguments)}(this._delegate,h)}isSignInWithEmailLink(h){return function Hn(m,c){const h=Ti.parseLink(c);return"EMAIL_SIGNIN"===(null==h?void 0:h.operation)}(0,h)}getRedirectResult(){var h=this;return(0,g.Z)(function*(){ga(vl(),h._delegate,"operation-not-supported-in-this-environment");const w=yield function Nn(m,c){return ns.apply(this,arguments)}(h._delegate,$o);return w?Ts(h._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(h){!function Uf(m,c){ot(m)._logFramework(c)}(this._delegate,h)}onAuthStateChanged(h,w,U){const{next:J,error:xe,complete:je}=ih(h,w,U);return this._delegate.onAuthStateChanged(J,xe,je)}onIdTokenChanged(h,w,U){const{next:J,error:xe,complete:je}=ih(h,w,U);return this._delegate.onIdTokenChanged(J,xe,je)}sendSignInLinkToEmail(h,w){return function Ct(m,c,h){return vn.apply(this,arguments)}(this._delegate,h,w)}sendPasswordResetEmail(h,w){return function Gs(m,c,h){return Bs.apply(this,arguments)}(this._delegate,h,w||void 0)}setPersistence(h){var w=this;return(0,g.Z)(function*(){let U;switch(function Bf(m,c){El(Object.values(co).includes(c),m,"invalid-persistence-type"),(0,Y.b$)()?El(c!==co.SESSION,m,"unsupported-persistence-type"):(0,Y.UG)()?El(c===co.NONE,m,"unsupported-persistence-type"):ja()?El(c===co.NONE||c===co.LOCAL&&(0,Y.hl)(),m,"unsupported-persistence-type"):El(c===co.NONE||is(),m,"unsupported-persistence-type")}(w._delegate,h),h){case co.SESSION:U=yo;break;case co.LOCAL:U=(yield Ee(xt)._isAvailable())?xt:Vr;break;case co.NONE:U=ge;break;default:return ue("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(U)})()}signInAndRetrieveDataWithCredential(h){return this.signInWithCredential(h)}signInAnonymously(){return Ts(this._delegate,function Ms(m){return Es.apply(this,arguments)}(this._delegate))}signInWithCredential(h){return Ts(this._delegate,Et(this._delegate,h))}signInWithCustomToken(h){return Ts(this._delegate,function ji(m,c){return Xr.apply(this,arguments)}(this._delegate,h))}signInWithEmailAndPassword(h,w){return Ts(this._delegate,function Ut(m,c,h){return Et((0,Y.m9)(m),ne.credential(c,h))}(this._delegate,h,w))}signInWithEmailLink(h,w){return Ts(this._delegate,function qr(m,c,h){return fr.apply(this,arguments)}(this._delegate,h,w))}signInWithPhoneNumber(h,w){return cc(this._delegate,function Hd(m,c,h){return Jn.apply(this,arguments)}(this._delegate,h,w))}signInWithPopup(h){var w=this;return(0,g.Z)(function*(){return ga(vl(),w._delegate,"operation-not-supported-in-this-environment"),Ts(w._delegate,function So(m,c,h){return Uo.apply(this,arguments)}(w._delegate,h,$o))})()}signInWithRedirect(h){var w=this;return(0,g.Z)(function*(){return ga(vl(),w._delegate,"operation-not-supported-in-this-environment"),yield $a(w._delegate),function Z(m,c,h){return function ae(m,c,h){return Pe.apply(this,arguments)}(m,c,h)}(w._delegate,h,$o)})()}updateCurrentUser(h){return this._delegate.updateCurrentUser(h)}verifyPasswordResetCode(h){return function ee(m,c){return ye.apply(this,arguments)}(this._delegate,h)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return m.Persistence=co,m})();function ih(m,c,h){let w=m;"function"!=typeof m&&({next:w,error:c,complete:h}=m);const U=w;return{next:xe=>U(xe&&pa.getOrCreate(xe)),error:c,complete:h}}function sh(m,c){const h=function nh(m,c){const h=ps();if(!h)return[];const w=Ve(td,m,c);switch(h.getItem(w)){case co.NONE:return[ge];case co.LOCAL:return[xt,yo];case co.SESSION:return[yo];default:return[]}}(m,c);if("undefined"!=typeof self&&!h.includes(xt)&&h.push(xt),"undefined"!=typeof window)for(const w of[Vr,yo])h.includes(w)||h.push(w);return h.includes(ge)||h.push(ge),h}class hc{constructor(){this.providerId="phone",this._delegate=new Ki(Uu(p.Z.auth()))}static credential(c,h){return Ki.credential(c,h)}verifyPhoneNumber(c,h){return this._delegate.verifyPhoneNumber(c,h)}unwrap(){return this._delegate}}hc.PHONE_SIGN_IN_METHOD=Ki.PHONE_SIGN_IN_METHOD,hc.PROVIDER_ID=Ki.PROVIDER_ID;const oh=Ne;class $f{constructor(c,h,w=p.Z.app()){var U;oh(null===(U=w.options)||void 0===U?void 0:U.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new $d(c,h,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Hf(m){m.INTERNAL.registerComponent(new Te.wA("auth-compat",c=>{const h=c.getProvider("app-compat").getImmediate(),w=c.getProvider("auth");return new Il(h,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"}},EmailAuthProvider:ne,FacebookAuthProvider:ut,GithubAuthProvider:xn,GoogleAuthProvider:Yt,OAuthProvider:De,SAMLAuthProvider:Ri,PhoneAuthProvider:hc,PhoneMultiFactorGenerator:Nu,RecaptchaVerifier:$f,TwitterAuthProvider:vs,Auth:Il,AuthCredential:On,Error:Y.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),m.registerVersion("@firebase/auth-compat","0.2.11")}(p.Z)},1135:(St,Be,L)=>{L.d(Be,{X:()=>p});var g=L(7579);class p extends g.x{constructor(pe){super(),this._value=pe}get value(){return this.getValue()}_subscribe(pe){const ce=super._subscribe(pe);return!ce.closed&&pe.next(this._value),ce}getValue(){const{hasError:pe,thrownError:ce,_value:we}=this;if(pe)throw ce;return this._throwIfClosed(),we}next(pe){super.next(this._value=pe)}}},8306:(St,Be,L)=>{L.d(Be,{y:()=>le});var g=L(2961),p=L(727),Y=L(8822),pe=L(4671);var Te=L(2416),Ae=L(576),Me=L(2806);let le=(()=>{class qe{constructor(at){at&&(this._subscribe=at)}lift(at){const Ge=new qe;return Ge.source=this,Ge.operator=at,Ge}subscribe(at,Ge,Je){const Tt=function ft(qe){return qe&&qe instanceof g.Lv||function Se(qe){return qe&&(0,Ae.m)(qe.next)&&(0,Ae.m)(qe.error)&&(0,Ae.m)(qe.complete)}(qe)&&(0,p.Nn)(qe)}(at)?at:new g.Hp(at,Ge,Je);return(0,Me.x)(()=>{const{operator:vt,source:ue}=this;Tt.add(vt?vt.call(Tt,ue):ue?this._subscribe(Tt):this._trySubscribe(Tt))}),Tt}_trySubscribe(at){try{return this._subscribe(at)}catch(Ge){at.error(Ge)}}forEach(at,Ge){return new(Ge=ie(Ge))((Je,Tt)=>{const vt=new g.Hp({next:ue=>{try{at(ue)}catch(Ce){Tt(Ce),vt.unsubscribe()}},error:Tt,complete:Je});this.subscribe(vt)})}_subscribe(at){var Ge;return null===(Ge=this.source)||void 0===Ge?void 0:Ge.subscribe(at)}[Y.L](){return this}pipe(...at){return function we(qe){return 0===qe.length?pe.y:1===qe.length?qe[0]:function(at){return qe.reduce((Ge,Je)=>Je(Ge),at)}}(at)(this)}toPromise(at){return new(at=ie(at))((Ge,Je)=>{let Tt;this.subscribe(vt=>Tt=vt,vt=>Je(vt),()=>Ge(Tt))})}}return qe.create=Xe=>new qe(Xe),qe})();function ie(qe){var Xe;return null!==(Xe=null!=qe?qe:Te.v.Promise)&&void 0!==Xe?Xe:Promise}},7579:(St,Be,L)=>{L.d(Be,{x:()=>Te});var g=L(8306),p=L(727);const pe=(0,L(3888).d)(Me=>function(){Me(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ce=L(8737),we=L(2806);let Te=(()=>{class Me extends g.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(ie){const Se=new Ae(this,this);return Se.operator=ie,Se}_throwIfClosed(){if(this.closed)throw new pe}next(ie){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const Se of this.currentObservers)Se.next(ie)}})}error(ie){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=ie;const{observers:Se}=this;for(;Se.length;)Se.shift().error(ie)}})}complete(){(0,we.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:ie}=this;for(;ie.length;)ie.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var ie;return(null===(ie=this.observers)||void 0===ie?void 0:ie.length)>0}_trySubscribe(ie){return this._throwIfClosed(),super._trySubscribe(ie)}_subscribe(ie){return this._throwIfClosed(),this._checkFinalizedStatuses(ie),this._innerSubscribe(ie)}_innerSubscribe(ie){const{hasError:Se,isStopped:ft,observers:qe}=this;return Se||ft?p.Lc:(this.currentObservers=null,qe.push(ie),new p.w0(()=>{this.currentObservers=null,(0,ce.P)(qe,ie)}))}_checkFinalizedStatuses(ie){const{hasError:Se,thrownError:ft,isStopped:qe}=this;Se?ie.error(ft):qe&&ie.complete()}asObservable(){const ie=new g.y;return ie.source=this,ie}}return Me.create=(le,ie)=>new Ae(le,ie),Me})();class Ae extends Te{constructor(le,ie){super(),this.destination=le,this.source=ie}next(le){var ie,Se;null===(Se=null===(ie=this.destination)||void 0===ie?void 0:ie.next)||void 0===Se||Se.call(ie,le)}error(le){var ie,Se;null===(Se=null===(ie=this.destination)||void 0===ie?void 0:ie.error)||void 0===Se||Se.call(ie,le)}complete(){var le,ie;null===(ie=null===(le=this.destination)||void 0===le?void 0:le.complete)||void 0===ie||ie.call(le)}_subscribe(le){var ie,Se;return null!==(Se=null===(ie=this.source)||void 0===ie?void 0:ie.subscribe(le))&&void 0!==Se?Se:p.Lc}}},2961:(St,Be,L)=>{L.d(Be,{Hp:()=>at,Lv:()=>Se});var g=L(576),p=L(727),Y=L(2416),pe=L(7849);function ce(){}const we=Me("C",void 0,void 0);function Me(ue,Ce,We){return{kind:ue,value:Ce,error:We}}var le=L(3410),ie=L(2806);class Se extends p.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,p.Nn)(Ce)&&Ce.add(this)):this.destination=vt}static create(Ce,We,st){return new at(Ce,We,st)}next(Ce){this.isStopped?Tt(function Ae(ue){return Me("N",ue,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?Tt(function Te(ue){return Me("E",void 0,ue)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?Tt(we,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ft=Function.prototype.bind;function qe(ue,Ce){return ft.call(ue,Ce)}class Xe{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:We}=this;if(We.next)try{We.next(Ce)}catch(st){Ge(st)}}error(Ce){const{partialObserver:We}=this;if(We.error)try{We.error(Ce)}catch(st){Ge(st)}else Ge(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(We){Ge(We)}}}class at extends Se{constructor(Ce,We,st){let et;if(super(),(0,g.m)(Ce)||!Ce)et={next:null!=Ce?Ce:void 0,error:null!=We?We:void 0,complete:null!=st?st:void 0};else{let Ne;this&&Y.v.useDeprecatedNextContext?(Ne=Object.create(Ce),Ne.unsubscribe=()=>this.unsubscribe(),et={next:Ce.next&&qe(Ce.next,Ne),error:Ce.error&&qe(Ce.error,Ne),complete:Ce.complete&&qe(Ce.complete,Ne)}):et=Ce}this.destination=new Xe(et)}}function Ge(ue){Y.v.useDeprecatedSynchronousErrorHandling?(0,ie.O)(ue):(0,pe.h)(ue)}function Tt(ue,Ce){const{onStoppedNotification:We}=Y.v;We&&le.z.setTimeout(()=>We(ue,Ce))}const vt={closed:!0,next:ce,error:function Je(ue){throw ue},complete:ce}},727:(St,Be,L)=>{L.d(Be,{Lc:()=>we,w0:()=>ce,Nn:()=>Te});var g=L(576);const Y=(0,L(3888).d)(Me=>function(ie){Me(this),this.message=ie?`${ie.length} errors occurred during unsubscription:\n${ie.map((Se,ft)=>`${ft+1}) ${Se.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=ie});var pe=L(8737);class ce{constructor(le){this.initialTeardown=le,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let le;if(!this.closed){this.closed=!0;const{_parentage:ie}=this;if(ie)if(this._parentage=null,Array.isArray(ie))for(const qe of ie)qe.remove(this);else ie.remove(this);const{initialTeardown:Se}=this;if((0,g.m)(Se))try{Se()}catch(qe){le=qe instanceof Y?qe.errors:[qe]}const{_finalizers:ft}=this;if(ft){this._finalizers=null;for(const qe of ft)try{Ae(qe)}catch(Xe){le=null!=le?le:[],Xe instanceof Y?le=[...le,...Xe.errors]:le.push(Xe)}}if(le)throw new Y(le)}}add(le){var ie;if(le&&le!==this)if(this.closed)Ae(le);else{if(le instanceof ce){if(le.closed||le._hasParent(this))return;le._addParent(this)}(this._finalizers=null!==(ie=this._finalizers)&&void 0!==ie?ie:[]).push(le)}}_hasParent(le){const{_parentage:ie}=this;return ie===le||Array.isArray(ie)&&ie.includes(le)}_addParent(le){const{_parentage:ie}=this;this._parentage=Array.isArray(ie)?(ie.push(le),ie):ie?[ie,le]:le}_removeParent(le){const{_parentage:ie}=this;ie===le?this._parentage=null:Array.isArray(ie)&&(0,pe.P)(ie,le)}remove(le){const{_finalizers:ie}=this;ie&&(0,pe.P)(ie,le),le instanceof ce&&le._removeParent(this)}}ce.EMPTY=(()=>{const Me=new ce;return Me.closed=!0,Me})();const we=ce.EMPTY;function Te(Me){return Me instanceof ce||Me&&"closed"in Me&&(0,g.m)(Me.remove)&&(0,g.m)(Me.add)&&(0,g.m)(Me.unsubscribe)}function Ae(Me){(0,g.m)(Me)?Me():Me.unsubscribe()}},2416:(St,Be,L)=>{L.d(Be,{v:()=>g});const g={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},7272:(St,Be,L)=>{L.d(Be,{z:()=>ce});var g=L(8189),Y=L(7669),pe=L(8996);function ce(...we){return function p(){return(0,g.J)(1)}()((0,pe.D)(we,(0,Y.yG)(we)))}},515:(St,Be,L)=>{L.d(Be,{E:()=>p});const p=new(L(8306).y)(ce=>ce.complete())},8996:(St,Be,L)=>{L.d(Be,{D:()=>Ce});var g=L(8421),p=L(5363),Y=L(9468),we=L(8306),Ae=L(2202),Me=L(576),le=L(9672);function Se(We,st){if(!We)throw new Error("Iterable cannot be null");return new we.y(et=>{(0,le.f)(et,st,()=>{const Ne=We[Symbol.asyncIterator]();(0,le.f)(et,st,()=>{Ne.next().then(be=>{be.done?et.complete():et.next(be.value)})},0,!0)})})}var ft=L(3670),qe=L(8239),Xe=L(1144),at=L(6495),Ge=L(2206),Je=L(4532),Tt=L(3260);function Ce(We,st){return st?function ue(We,st){if(null!=We){if((0,ft.c)(We))return function pe(We,st){return(0,g.Xf)(We).pipe((0,Y.R)(st),(0,p.Q)(st))}(We,st);if((0,Xe.z)(We))return function Te(We,st){return new we.y(et=>{let Ne=0;return st.schedule(function(){Ne===We.length?et.complete():(et.next(We[Ne++]),et.closed||this.schedule())})})}(We,st);if((0,qe.t)(We))return function ce(We,st){return(0,g.Xf)(We).pipe((0,Y.R)(st),(0,p.Q)(st))}(We,st);if((0,Ge.D)(We))return Se(We,st);if((0,at.T)(We))return function ie(We,st){return new we.y(et=>{let Ne;return(0,le.f)(et,st,()=>{Ne=We[Ae.h](),(0,le.f)(et,st,()=>{let be,fe;try{({value:be,done:fe}=Ne.next())}catch(Oe){return void et.error(Oe)}fe?et.complete():et.next(be)},0,!0)}),()=>(0,Me.m)(null==Ne?void 0:Ne.return)&&Ne.return()})}(We,st);if((0,Tt.L)(We))return function vt(We,st){return Se((0,Tt.Q)(We),st)}(We,st)}throw(0,Je.z)(We)}(We,st):(0,g.Xf)(We)}},8421:(St,Be,L)=>{L.d(Be,{Xf:()=>ft});var g=L(655),p=L(1144),Y=L(8239),pe=L(8306),ce=L(3670),we=L(2206),Te=L(4532),Ae=L(6495),Me=L(3260),le=L(576),ie=L(7849),Se=L(8822);function ft(ue){if(ue instanceof pe.y)return ue;if(null!=ue){if((0,ce.c)(ue))return function qe(ue){return new pe.y(Ce=>{const We=ue[Se.L]();if((0,le.m)(We.subscribe))return We.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ue);if((0,p.z)(ue))return function Xe(ue){return new pe.y(Ce=>{for(let We=0;We<ue.length&&!Ce.closed;We++)Ce.next(ue[We]);Ce.complete()})}(ue);if((0,Y.t)(ue))return function at(ue){return new pe.y(Ce=>{ue.then(We=>{Ce.closed||(Ce.next(We),Ce.complete())},We=>Ce.error(We)).then(null,ie.h)})}(ue);if((0,we.D)(ue))return Je(ue);if((0,Ae.T)(ue))return function Ge(ue){return new pe.y(Ce=>{for(const We of ue)if(Ce.next(We),Ce.closed)return;Ce.complete()})}(ue);if((0,Me.L)(ue))return function Tt(ue){return Je((0,Me.Q)(ue))}(ue)}throw(0,Te.z)(ue)}function Je(ue){return new pe.y(Ce=>{(function vt(ue,Ce){var We,st,et,Ne;return(0,g.mG)(this,void 0,void 0,function*(){try{for(We=(0,g.KL)(ue);!(st=yield We.next()).done;)if(Ce.next(st.value),Ce.closed)return}catch(be){et={error:be}}finally{try{st&&!st.done&&(Ne=We.return)&&(yield Ne.call(We))}finally{if(et)throw et.error}}Ce.complete()})})(ue,Ce).catch(We=>Ce.error(We))})}},6451:(St,Be,L)=>{L.d(Be,{T:()=>we});var g=L(8189),p=L(8421),Y=L(515),pe=L(7669),ce=L(8996);function we(...Te){const Ae=(0,pe.yG)(Te),Me=(0,pe._6)(Te,1/0),le=Te;return le.length?1===le.length?(0,p.Xf)(le[0]):(0,g.J)(Me)((0,ce.D)(le,Ae)):Y.E}},9646:(St,Be,L)=>{L.d(Be,{of:()=>Y});var g=L(7669),p=L(8996);function Y(...pe){const ce=(0,g.yG)(pe);return(0,p.D)(pe,ce)}},5403:(St,Be,L)=>{L.d(Be,{x:()=>p});var g=L(2961);function p(pe,ce,we,Te,Ae){return new Y(pe,ce,we,Te,Ae)}class Y extends g.Lv{constructor(ce,we,Te,Ae,Me,le){super(ce),this.onFinalize=Me,this.shouldUnsubscribe=le,this._next=we?function(ie){try{we(ie)}catch(Se){ce.error(Se)}}:super._next,this._error=Ae?function(ie){try{Ae(ie)}catch(Se){ce.error(Se)}finally{this.unsubscribe()}}:super._error,this._complete=Te?function(){try{Te()}catch(ie){ce.error(ie)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ce;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:we}=this;super.unsubscribe(),!we&&(null===(ce=this.onFinalize)||void 0===ce||ce.call(this))}}}},6590:(St,Be,L)=>{L.d(Be,{d:()=>Y});var g=L(4482),p=L(5403);function Y(pe){return(0,g.e)((ce,we)=>{let Te=!1;ce.subscribe((0,p.x)(we,Ae=>{Te=!0,we.next(Ae)},()=>{Te||we.next(pe),we.complete()}))})}},9300:(St,Be,L)=>{L.d(Be,{h:()=>Y});var g=L(4482),p=L(5403);function Y(pe,ce){return(0,g.e)((we,Te)=>{let Ae=0;we.subscribe((0,p.x)(Te,Me=>pe.call(ce,Me,Ae++)&&Te.next(Me)))})}},590:(St,Be,L)=>{L.d(Be,{P:()=>Te});var g=L(6805),p=L(9300),Y=L(5698),pe=L(6590),ce=L(8068),we=L(4671);function Te(Ae,Me){const le=arguments.length>=2;return ie=>ie.pipe(Ae?(0,p.h)((Se,ft)=>Ae(Se,ft,ie)):we.y,(0,Y.q)(1),le?(0,pe.d)(Me):(0,ce.T)(()=>new g.K))}},4004:(St,Be,L)=>{L.d(Be,{U:()=>Y});var g=L(4482),p=L(5403);function Y(pe,ce){return(0,g.e)((we,Te)=>{let Ae=0;we.subscribe((0,p.x)(Te,Me=>{Te.next(pe.call(ce,Me,Ae++))}))})}},8189:(St,Be,L)=>{L.d(Be,{J:()=>Y});var g=L(5577),p=L(4671);function Y(pe=1/0){return(0,g.z)(p.y,pe)}},5577:(St,Be,L)=>{L.d(Be,{z:()=>Ae});var g=L(4004),p=L(8421),Y=L(4482),pe=L(9672),ce=L(5403),Te=L(576);function Ae(Me,le,ie=1/0){return(0,Te.m)(le)?Ae((Se,ft)=>(0,g.U)((qe,Xe)=>le(Se,qe,ft,Xe))((0,p.Xf)(Me(Se,ft))),ie):("number"==typeof le&&(ie=le),(0,Y.e)((Se,ft)=>function we(Me,le,ie,Se,ft,qe,Xe,at){const Ge=[];let Je=0,Tt=0,vt=!1;const ue=()=>{vt&&!Ge.length&&!Je&&le.complete()},Ce=st=>Je<Se?We(st):Ge.push(st),We=st=>{qe&&le.next(st),Je++;let et=!1;(0,p.Xf)(ie(st,Tt++)).subscribe((0,ce.x)(le,Ne=>{null==ft||ft(Ne),qe?Ce(Ne):le.next(Ne)},()=>{et=!0},void 0,()=>{if(et)try{for(Je--;Ge.length&&Je<Se;){const Ne=Ge.shift();Xe?(0,pe.f)(le,Xe,()=>We(Ne)):We(Ne)}ue()}catch(Ne){le.error(Ne)}}))};return Me.subscribe((0,ce.x)(le,Ce,()=>{vt=!0,ue()})),()=>{null==at||at()}}(Se,ft,Me,ie)))}},5363:(St,Be,L)=>{L.d(Be,{Q:()=>pe});var g=L(9672),p=L(4482),Y=L(5403);function pe(ce,we=0){return(0,p.e)((Te,Ae)=>{Te.subscribe((0,Y.x)(Ae,Me=>(0,g.f)(Ae,ce,()=>Ae.next(Me),we),()=>(0,g.f)(Ae,ce,()=>Ae.complete(),we),Me=>(0,g.f)(Ae,ce,()=>Ae.error(Me),we)))})}},5026:(St,Be,L)=>{L.d(Be,{R:()=>pe});var g=L(4482),p=L(5403);function Y(ce,we,Te,Ae,Me){return(le,ie)=>{let Se=Te,ft=we,qe=0;le.subscribe((0,p.x)(ie,Xe=>{const at=qe++;ft=Se?ce(ft,Xe,at):(Se=!0,Xe),Ae&&ie.next(ft)},Me&&(()=>{Se&&ie.next(ft),ie.complete()})))}}function pe(ce,we){return(0,g.e)(Y(ce,we,arguments.length>=2,!0))}},3099:(St,Be,L)=>{L.d(Be,{B:()=>we});var g=L(8996),p=L(5698),Y=L(7579),pe=L(2961),ce=L(4482);function we(Ae={}){const{connector:Me=(()=>new Y.x),resetOnError:le=!0,resetOnComplete:ie=!0,resetOnRefCountZero:Se=!0}=Ae;return ft=>{let qe=null,Xe=null,at=null,Ge=0,Je=!1,Tt=!1;const vt=()=>{null==Xe||Xe.unsubscribe(),Xe=null},ue=()=>{vt(),qe=at=null,Je=Tt=!1},Ce=()=>{const We=qe;ue(),null==We||We.unsubscribe()};return(0,ce.e)((We,st)=>{Ge++,!Tt&&!Je&&vt();const et=at=null!=at?at:Me();st.add(()=>{Ge--,0===Ge&&!Tt&&!Je&&(Xe=Te(Ce,Se))}),et.subscribe(st),qe||(qe=new pe.Hp({next:Ne=>et.next(Ne),error:Ne=>{Tt=!0,vt(),Xe=Te(ue,le,Ne),et.error(Ne)},complete:()=>{Je=!0,vt(),Xe=Te(ue,ie),et.complete()}}),(0,g.D)(We).subscribe(qe))})(ft)}}function Te(Ae,Me,...le){return!0===Me?(Ae(),null):!1===Me?null:Me(...le).pipe((0,p.q)(1)).subscribe(()=>Ae())}},8675:(St,Be,L)=>{L.d(Be,{O:()=>pe});var g=L(7272),p=L(7669),Y=L(4482);function pe(...ce){const we=(0,p.yG)(ce);return(0,Y.e)((Te,Ae)=>{(we?(0,g.z)(ce,Te,we):(0,g.z)(ce,Te)).subscribe(Ae)})}},9468:(St,Be,L)=>{L.d(Be,{R:()=>p});var g=L(4482);function p(Y,pe=0){return(0,g.e)((ce,we)=>{we.add(Y.schedule(()=>ce.subscribe(we),pe))})}},3900:(St,Be,L)=>{L.d(Be,{w:()=>pe});var g=L(8421),p=L(4482),Y=L(5403);function pe(ce,we){return(0,p.e)((Te,Ae)=>{let Me=null,le=0,ie=!1;const Se=()=>ie&&!Me&&Ae.complete();Te.subscribe((0,Y.x)(Ae,ft=>{null==Me||Me.unsubscribe();let qe=0;const Xe=le++;(0,g.Xf)(ce(ft,Xe)).subscribe(Me=(0,Y.x)(Ae,at=>Ae.next(we?we(ft,at,Xe,qe++):at),()=>{Me=null,Se()}))},()=>{ie=!0,Se()}))})}},5698:(St,Be,L)=>{L.d(Be,{q:()=>pe});var g=L(515),p=L(4482),Y=L(5403);function pe(ce){return ce<=0?()=>g.E:(0,p.e)((we,Te)=>{let Ae=0;we.subscribe((0,Y.x)(Te,Me=>{++Ae<=ce&&(Te.next(Me),ce<=Ae&&Te.complete())}))})}},8505:(St,Be,L)=>{L.d(Be,{b:()=>ce});var g=L(576),p=L(4482),Y=L(5403),pe=L(4671);function ce(we,Te,Ae){const Me=(0,g.m)(we)||Te||Ae?{next:we,error:Te,complete:Ae}:we;return Me?(0,p.e)((le,ie)=>{var Se;null===(Se=Me.subscribe)||void 0===Se||Se.call(Me);let ft=!0;le.subscribe((0,Y.x)(ie,qe=>{var Xe;null===(Xe=Me.next)||void 0===Xe||Xe.call(Me,qe),ie.next(qe)},()=>{var qe;ft=!1,null===(qe=Me.complete)||void 0===qe||qe.call(Me),ie.complete()},qe=>{var Xe;ft=!1,null===(Xe=Me.error)||void 0===Xe||Xe.call(Me,qe),ie.error(qe)},()=>{var qe,Xe;ft&&(null===(qe=Me.unsubscribe)||void 0===qe||qe.call(Me)),null===(Xe=Me.finalize)||void 0===Xe||Xe.call(Me)}))}):pe.y}},8068:(St,Be,L)=>{L.d(Be,{T:()=>pe});var g=L(6805),p=L(4482),Y=L(5403);function pe(we=ce){return(0,p.e)((Te,Ae)=>{let Me=!1;Te.subscribe((0,Y.x)(Ae,le=>{Me=!0,Ae.next(le)},()=>Me?Ae.complete():Ae.error(we())))})}function ce(){return new g.K}},4408:(St,Be,L)=>{L.d(Be,{o:()=>ce});var g=L(727);class p extends g.w0{constructor(Te,Ae){super()}schedule(Te,Ae=0){return this}}const Y={setInterval(we,Te,...Ae){const{delegate:Me}=Y;return(null==Me?void 0:Me.setInterval)?Me.setInterval(we,Te,...Ae):setInterval(we,Te,...Ae)},clearInterval(we){const{delegate:Te}=Y;return((null==Te?void 0:Te.clearInterval)||clearInterval)(we)},delegate:void 0};var pe=L(8737);class ce extends p{constructor(Te,Ae){super(Te,Ae),this.scheduler=Te,this.work=Ae,this.pending=!1}schedule(Te,Ae=0){if(this.closed)return this;this.state=Te;const Me=this.id,le=this.scheduler;return null!=Me&&(this.id=this.recycleAsyncId(le,Me,Ae)),this.pending=!0,this.delay=Ae,this.id=this.id||this.requestAsyncId(le,this.id,Ae),this}requestAsyncId(Te,Ae,Me=0){return Y.setInterval(Te.flush.bind(Te,this),Me)}recycleAsyncId(Te,Ae,Me=0){if(null!=Me&&this.delay===Me&&!1===this.pending)return Ae;Y.clearInterval(Ae)}execute(Te,Ae){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Me=this._execute(Te,Ae);if(Me)return Me;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(Te,Ae){let le,Me=!1;try{this.work(Te)}catch(ie){Me=!0,le=ie||new Error("Scheduled action threw falsy error")}if(Me)return this.unsubscribe(),le}unsubscribe(){if(!this.closed){const{id:Te,scheduler:Ae}=this,{actions:Me}=Ae;this.work=this.state=this.scheduler=null,this.pending=!1,(0,pe.P)(Me,this),null!=Te&&(this.id=this.recycleAsyncId(Ae,Te,null)),this.delay=null,super.unsubscribe()}}}},7565:(St,Be,L)=>{L.d(Be,{v:()=>Y});var g=L(6063);class p{constructor(ce,we=p.now){this.schedulerActionCtor=ce,this.now=we}schedule(ce,we=0,Te){return new this.schedulerActionCtor(this,ce).schedule(Te,we)}}p.now=g.l.now;class Y extends p{constructor(ce,we=p.now){super(ce,we),this.actions=[],this._active=!1,this._scheduled=void 0}flush(ce){const{actions:we}=this;if(this._active)return void we.push(ce);let Te;this._active=!0;do{if(Te=ce.execute(ce.state,ce.delay))break}while(ce=we.shift());if(this._active=!1,Te){for(;ce=we.shift();)ce.unsubscribe();throw Te}}}},4986:(St,Be,L)=>{L.d(Be,{z:()=>Y});var g=L(4408);const Y=new(L(7565).v)(g.o)},6063:(St,Be,L)=>{L.d(Be,{l:()=>g});const g={now:()=>(g.delegate||Date).now(),delegate:void 0}},3410:(St,Be,L)=>{L.d(Be,{z:()=>g});const g={setTimeout(p,Y,...pe){const{delegate:ce}=g;return(null==ce?void 0:ce.setTimeout)?ce.setTimeout(p,Y,...pe):setTimeout(p,Y,...pe)},clearTimeout(p){const{delegate:Y}=g;return((null==Y?void 0:Y.clearTimeout)||clearTimeout)(p)},delegate:void 0}},2202:(St,Be,L)=>{L.d(Be,{h:()=>p});const p=function g(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(St,Be,L)=>{L.d(Be,{L:()=>g});const g="function"==typeof Symbol&&Symbol.observable||"@@observable"},6805:(St,Be,L)=>{L.d(Be,{K:()=>p});const p=(0,L(3888).d)(Y=>function(){Y(this),this.name="EmptyError",this.message="no elements in sequence"})},7669:(St,Be,L)=>{L.d(Be,{_6:()=>we,jO:()=>pe,yG:()=>ce});var g=L(576);function Y(Te){return Te[Te.length-1]}function pe(Te){return(0,g.m)(Y(Te))?Te.pop():void 0}function ce(Te){return function p(Te){return Te&&(0,g.m)(Te.schedule)}(Y(Te))?Te.pop():void 0}function we(Te,Ae){return"number"==typeof Y(Te)?Te.pop():Ae}},4742:(St,Be,L)=>{L.d(Be,{D:()=>ce});const{isArray:g}=Array,{getPrototypeOf:p,prototype:Y,keys:pe}=Object;function ce(Te){if(1===Te.length){const Ae=Te[0];if(g(Ae))return{args:Ae,keys:null};if(function we(Te){return Te&&"object"==typeof Te&&p(Te)===Y}(Ae)){const Me=pe(Ae);return{args:Me.map(le=>Ae[le]),keys:Me}}}return{args:Te,keys:null}}},8737:(St,Be,L)=>{function g(p,Y){if(p){const pe=p.indexOf(Y);0<=pe&&p.splice(pe,1)}}L.d(Be,{P:()=>g})},3888:(St,Be,L)=>{function g(p){const pe=p(ce=>{Error.call(ce),ce.stack=(new Error).stack});return pe.prototype=Object.create(Error.prototype),pe.prototype.constructor=pe,pe}L.d(Be,{d:()=>g})},1810:(St,Be,L)=>{function g(p,Y){return p.reduce((pe,ce,we)=>(pe[ce]=Y[we],pe),{})}L.d(Be,{n:()=>g})},2806:(St,Be,L)=>{L.d(Be,{x:()=>Y,O:()=>pe});var g=L(2416);let p=null;function Y(ce){if(g.v.useDeprecatedSynchronousErrorHandling){const we=!p;if(we&&(p={errorThrown:!1,error:null}),ce(),we){const{errorThrown:Te,error:Ae}=p;if(p=null,Te)throw Ae}}else ce()}function pe(ce){g.v.useDeprecatedSynchronousErrorHandling&&p&&(p.errorThrown=!0,p.error=ce)}},9672:(St,Be,L)=>{function g(p,Y,pe,ce=0,we=!1){const Te=Y.schedule(function(){pe(),we?p.add(this.schedule(null,ce)):this.unsubscribe()},ce);if(p.add(Te),!we)return Te}L.d(Be,{f:()=>g})},4671:(St,Be,L)=>{function g(p){return p}L.d(Be,{y:()=>g})},1144:(St,Be,L)=>{L.d(Be,{z:()=>g});const g=p=>p&&"number"==typeof p.length&&"function"!=typeof p},2206:(St,Be,L)=>{L.d(Be,{D:()=>p});var g=L(576);function p(Y){return Symbol.asyncIterator&&(0,g.m)(null==Y?void 0:Y[Symbol.asyncIterator])}},576:(St,Be,L)=>{function g(p){return"function"==typeof p}L.d(Be,{m:()=>g})},3670:(St,Be,L)=>{L.d(Be,{c:()=>Y});var g=L(8822),p=L(576);function Y(pe){return(0,p.m)(pe[g.L])}},6495:(St,Be,L)=>{L.d(Be,{T:()=>Y});var g=L(2202),p=L(576);function Y(pe){return(0,p.m)(null==pe?void 0:pe[g.h])}},8239:(St,Be,L)=>{L.d(Be,{t:()=>p});var g=L(576);function p(Y){return(0,g.m)(null==Y?void 0:Y.then)}},3260:(St,Be,L)=>{L.d(Be,{Q:()=>Y,L:()=>pe});var g=L(655),p=L(576);function Y(ce){return(0,g.FC)(this,arguments,function*(){const Te=ce.getReader();try{for(;;){const{value:Ae,done:Me}=yield(0,g.qq)(Te.read());if(Me)return yield(0,g.qq)(void 0);yield yield(0,g.qq)(Ae)}}finally{Te.releaseLock()}})}function pe(ce){return(0,p.m)(null==ce?void 0:ce.getReader)}},4482:(St,Be,L)=>{L.d(Be,{A:()=>p,e:()=>Y});var g=L(576);function p(pe){return(0,g.m)(null==pe?void 0:pe.lift)}function Y(pe){return ce=>{if(p(ce))return ce.lift(function(we){try{return pe(we,this)}catch(Te){this.error(Te)}});throw new TypeError("Unable to lift unknown Observable type")}}},3268:(St,Be,L)=>{L.d(Be,{Z:()=>pe});var g=L(4004);const{isArray:p}=Array;function pe(ce){return(0,g.U)(we=>function Y(ce,we){return p(we)?ce(...we):ce(we)}(ce,we))}},7849:(St,Be,L)=>{L.d(Be,{h:()=>Y});var g=L(2416),p=L(3410);function Y(pe){p.z.setTimeout(()=>{const{onUnhandledError:ce}=g.v;if(!ce)throw pe;ce(pe)})}},4532:(St,Be,L)=>{function g(p){return new TypeError(`You provided ${null!==p&&"object"==typeof p?"an invalid object":`'${p}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}L.d(Be,{z:()=>g})},655:(St,Be,L)=>{function pe(be,fe){var Oe={};for(var Ee in be)Object.prototype.hasOwnProperty.call(be,Ee)&&fe.indexOf(Ee)<0&&(Oe[Ee]=be[Ee]);if(null!=be&&"function"==typeof Object.getOwnPropertySymbols){var rt=0;for(Ee=Object.getOwnPropertySymbols(be);rt<Ee.length;rt++)fe.indexOf(Ee[rt])<0&&Object.prototype.propertyIsEnumerable.call(be,Ee[rt])&&(Oe[Ee[rt]]=be[Ee[rt]])}return Oe}function Ae(be,fe,Oe,Ee){return new(Oe||(Oe=Promise))(function(Ue,en){function $t(ct){try{_t(Ee.next(ct))}catch(Qt){en(Qt)}}function sn(ct){try{_t(Ee.throw(ct))}catch(Qt){en(Qt)}}function _t(ct){ct.done?Ue(ct.value):function rt(Ue){return Ue instanceof Oe?Ue:new Oe(function(en){en(Ue)})}(ct.value).then($t,sn)}_t((Ee=Ee.apply(be,fe||[])).next())})}function Ge(be){return this instanceof Ge?(this.v=be,this):new Ge(be)}function Je(be,fe,Oe){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var rt,Ee=Oe.apply(be,fe||[]),Ue=[];return rt={},en("next"),en("throw"),en("return"),rt[Symbol.asyncIterator]=function(){return this},rt;function en(Pt){Ee[Pt]&&(rt[Pt]=function(Tn){return new Promise(function(It,pn){Ue.push([Pt,Tn,It,pn])>1||$t(Pt,Tn)})})}function $t(Pt,Tn){try{!function sn(Pt){Pt.value instanceof Ge?Promise.resolve(Pt.value.v).then(_t,ct):Qt(Ue[0][2],Pt)}(Ee[Pt](Tn))}catch(It){Qt(Ue[0][3],It)}}function _t(Pt){$t("next",Pt)}function ct(Pt){$t("throw",Pt)}function Qt(Pt,Tn){Pt(Tn),Ue.shift(),Ue.length&&$t(Ue[0][0],Ue[0][1])}}function vt(be){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Oe,fe=be[Symbol.asyncIterator];return fe?fe.call(be):(be=function Se(be){var fe="function"==typeof Symbol&&Symbol.iterator,Oe=fe&&be[fe],Ee=0;if(Oe)return Oe.call(be);if(be&&"number"==typeof be.length)return{next:function(){return be&&Ee>=be.length&&(be=void 0),{value:be&&be[Ee++],done:!be}}};throw new TypeError(fe?"Object is not iterable.":"Symbol.iterator is not defined.")}(be),Oe={},Ee("next"),Ee("throw"),Ee("return"),Oe[Symbol.asyncIterator]=function(){return this},Oe);function Ee(Ue){Oe[Ue]=be[Ue]&&function(en){return new Promise(function($t,sn){!function rt(Ue,en,$t,sn){Promise.resolve(sn).then(function(_t){Ue({value:_t,done:$t})},en)}($t,sn,(en=be[Ue](en)).done,en.value)})}}}L.d(Be,{_T:()=>pe,mG:()=>Ae,qq:()=>Ge,FC:()=>Je,KL:()=>vt})},9808:(St,Be,L)=>{L.d(Be,{mr:()=>Tt,ez:()=>ls,H9:()=>De,K0:()=>Te,Do:()=>ue,V_:()=>le,Ye:()=>Ce,S$:()=>Ge,mk:()=>xi,sg:()=>Cr,O5:()=>Pn,b0:()=>vt,lw:()=>Ae,EM:()=>ws,JF:()=>vr,PM:()=>Ur,w_:()=>we,bD:()=>ni,q:()=>Y,Mx:()=>jr,HT:()=>ce});var g=L(5e3);let p=null;function Y(){return p}function ce(P){p||(p=P)}class we{}const Te=new g.OlP("DocumentToken");let Ae=(()=>{class P{historyGo(O){throw new Error("Not implemented")}}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=g.Yz7({token:P,factory:function(){return function Me(){return(0,g.LFG)(ie)}()},providedIn:"platform"}),P})();const le=new g.OlP("Location Initialized");let ie=(()=>{class P extends Ae{constructor(O){super(),this._doc=O,this._init()}_init(){this.location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Y().getBaseHref(this._doc)}onPopState(O){const K=Y().getGlobalEventTarget(this._doc,"window");return K.addEventListener("popstate",O,!1),()=>K.removeEventListener("popstate",O)}onHashChange(O){const K=Y().getGlobalEventTarget(this._doc,"window");return K.addEventListener("hashchange",O,!1),()=>K.removeEventListener("hashchange",O)}get href(){return this.location.href}get protocol(){return this.location.protocol}get hostname(){return this.location.hostname}get port(){return this.location.port}get pathname(){return this.location.pathname}get search(){return this.location.search}get hash(){return this.location.hash}set pathname(O){this.location.pathname=O}pushState(O,K,de){Se()?this._history.pushState(O,K,de):this.location.hash=de}replaceState(O,K,de){Se()?this._history.replaceState(O,K,de):this.location.hash=de}forward(){this._history.forward()}back(){this._history.back()}historyGo(O=0){this._history.go(O)}getState(){return this._history.state}}return P.\u0275fac=function(O){return new(O||P)(g.LFG(Te))},P.\u0275prov=g.Yz7({token:P,factory:function(){return function ft(){return new ie((0,g.LFG)(Te))}()},providedIn:"platform"}),P})();function Se(){return!!window.history.pushState}function qe(P,H){if(0==P.length)return H;if(0==H.length)return P;let O=0;return P.endsWith("/")&&O++,H.startsWith("/")&&O++,2==O?P+H.substring(1):1==O?P+H:P+"/"+H}function Xe(P){const H=P.match(/#|\?|$/),O=H&&H.index||P.length;return P.slice(0,O-("/"===P[O-1]?1:0))+P.slice(O)}function at(P){return P&&"?"!==P[0]?"?"+P:P}let Ge=(()=>{class P{historyGo(O){throw new Error("Not implemented")}}return P.\u0275fac=function(O){return new(O||P)},P.\u0275prov=g.Yz7({token:P,factory:function(){return function Je(P){const H=(0,g.LFG)(Te).location;return new vt((0,g.LFG)(Ae),H&&H.origin||"")}()},providedIn:"root"}),P})();const Tt=new g.OlP("appBaseHref");let vt=(()=>{class P extends Ge{constructor(O,K){if(super(),this._platformLocation=O,this._removeListenerFns=[],null==K&&(K=this._platformLocation.getBaseHrefFromDOM()),null==K)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");this._baseHref=K}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}prepareExternalUrl(O){return qe(this._baseHref,O)}path(O=!1){const K=this._platformLocation.pathname+at(this._platformLocation.search),de=this._platformLocation.hash;return de&&O?`${K}${de}`:K}pushState(O,K,de,ze){const Ke=this.prepareExternalUrl(de+at(ze));this._platformLocation.pushState(O,K,Ke)}replaceState(O,K,de,ze){const Ke=this.prepareExternalUrl(de+at(ze));this._platformLocation.replaceState(O,K,Ke)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(O=0){var K,de;null===(de=(K=this._platformLocation).historyGo)||void 0===de||de.call(K,O)}}return P.\u0275fac=function(O){return new(O||P)(g.LFG(Ae),g.LFG(Tt,8))},P.\u0275prov=g.Yz7({token:P,factory:P.\u0275fac}),P})(),ue=(()=>{class P extends Ge{constructor(O,K){super(),this._platformLocation=O,this._baseHref="",this._removeListenerFns=[],null!=K&&(this._baseHref=K)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(O){this._removeListenerFns.push(this._platformLocation.onPopState(O),this._platformLocation.onHashChange(O))}getBaseHref(){return this._baseHref}path(O=!1){let K=this._platformLocation.hash;return null==K&&(K="#"),K.length>0?K.substring(1):K}prepareExternalUrl(O){const K=qe(this._baseHref,O);return K.length>0?"#"+K:K}pushState(O,K,de,ze){let Ke=this.prepareExternalUrl(de+at(ze));0==Ke.length&&(Ke=this._platformLocation.pathname),this._platformLocation.pushState(O,K,Ke)}replaceState(O,K,de,ze){let Ke=this.prepareExternalUrl(de+at(ze));0==Ke.length&&(Ke=this._platformLocation.pathname),this._platformLocation.replaceState(O,K,Ke)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}historyGo(O=0){var K,de;null===(de=(K=this._platformLocation).historyGo)||void 0===de||de.call(K,O)}}return P.\u0275fac=function(O){return new(O||P)(g.LFG(Ae),g.LFG(Tt,8))},P.\u0275prov=g.Yz7({token:P,factory:P.\u0275fac}),P})(),Ce=(()=>{class P{constructor(O,K){this._subject=new g.vpe,this._urlChangeListeners=[],this._platformStrategy=O;const de=this._platformStrategy.getBaseHref();this._platformLocation=K,this._baseHref=Xe(et(de)),this._platformStrategy.onPopState(ze=>{this._subject.emit({url:this.path(!0),pop:!0,state:ze.state,type:ze.type})})}path(O=!1){return this.normalize(this._platformStrategy.path(O))}getState(){return this._platformLocation.getState()}isCurrentPathEqualTo(O,K=""){return this.path()==this.normalize(O+at(K))}normalize(O){return P.stripTrailingSlash(function st(P,H){return P&&H.startsWith(P)?H.substring(P.length):H}(this._baseHref,et(O)))}prepareExternalUrl(O){return O&&"/"!==O[0]&&(O="/"+O),this._platformStrategy.prepareExternalUrl(O)}go(O,K="",de=null){this._platformStrategy.pushState(de,"",O,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+at(K)),de)}replaceState(O,K="",de=null){this._platformStrategy.replaceState(de,"",O,K),this._notifyUrlChangeListeners(this.prepareExternalUrl(O+at(K)),de)}forward(){this._platformStrategy.forward()}back(){this._platformStrategy.back()}historyGo(O=0){var K,de;null===(de=(K=this._platformStrategy).historyGo)||void 0===de||de.call(K,O)}onUrlChange(O){this._urlChangeListeners.push(O),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(K=>{this._notifyUrlChangeListeners(K.url,K.state)}))}_notifyUrlChangeListeners(O="",K){this._urlChangeListeners.forEach(de=>de(O,K))}subscribe(O,K,de){return this._subject.subscribe({next:O,error:K,complete:de})}}return P.normalizeQueryParams=at,P.joinWithSlash=qe,P.stripTrailingSlash=Xe,P.\u0275fac=function(O){return new(O||P)(g.LFG(Ge),g.LFG(Ae))},P.\u0275prov=g.Yz7({token:P,factory:function(){return function We(){return new Ce((0,g.LFG)(Ge),(0,g.LFG)(Ae))}()},providedIn:"root"}),P})();function et(P){return P.replace(/\/index.html$/,"")}const Ne={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,"\u0440.",2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RUR:[void 0,"\u0440."],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var be=(()=>((be=be||{})[be.Decimal=0]="Decimal",be[be.Percent=1]="Percent",be[be.Currency=2]="Currency",be[be.Scientific=3]="Scientific",be))(),Ue=(()=>((Ue=Ue||{})[Ue.Decimal=0]="Decimal",Ue[Ue.Group=1]="Group",Ue[Ue.List=2]="List",Ue[Ue.PercentSign=3]="PercentSign",Ue[Ue.PlusSign=4]="PlusSign",Ue[Ue.MinusSign=5]="MinusSign",Ue[Ue.Exponential=6]="Exponential",Ue[Ue.SuperscriptingExponent=7]="SuperscriptingExponent",Ue[Ue.PerMille=8]="PerMille",Ue[Ue.Infinity=9]="Infinity",Ue[Ue.NaN=10]="NaN",Ue[Ue.TimeSeparator=11]="TimeSeparator",Ue[Ue.CurrencyDecimal=12]="CurrencyDecimal",Ue[Ue.CurrencyGroup=13]="CurrencyGroup",Ue))();function yn(P,H){const O=(0,g.cg1)(P),K=O[g.wAp.NumberSymbols][H];if(void 0===K){if(H===Ue.CurrencyDecimal)return O[g.wAp.NumberSymbols][Ue.Decimal];if(H===Ue.CurrencyGroup)return O[g.wAp.NumberSymbols][Ue.Group]}return K}const Rn=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function Hr(P,H,O,K,de){const Ke=function on(P,H="-"){const O={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},K=P.split(";"),de=K[0],ze=K[1],Ke=-1!==de.indexOf(".")?de.split("."):[de.substring(0,de.lastIndexOf("0")+1),de.substring(de.lastIndexOf("0")+1)],Et=Ke[0],or=Ke[1]||"";O.posPre=Et.substr(0,Et.indexOf("#"));for(let _n=0;_n<or.length;_n++){const bn=or.charAt(_n);"0"===bn?O.minFrac=O.maxFrac=_n+1:"#"===bn?O.maxFrac=_n+1:O.posSuf+=bn}const Kn=Et.split(",");if(O.gSize=Kn[1]?Kn[1].length:0,O.lgSize=Kn[2]||Kn[1]?(Kn[2]||Kn[1]).length:0,ze){const _n=de.length-O.posPre.length-O.posSuf.length,bn=ze.indexOf("#");O.negPre=ze.substr(0,bn).replace(/'/g,""),O.negSuf=ze.substr(bn+_n).replace(/'/g,"")}else O.negPre=H+O.posPre,O.negSuf=O.posSuf;return O}(function kn(P,H){return(0,g.cg1)(P)[g.wAp.NumberFormats][H]}(H,be.Currency),yn(H,Ue.MinusSign));return Ke.minFrac=function ur(P){let H;const O=Ne[P];return O&&(H=O[2]),"number"==typeof H?H:2}(K),Ke.maxFrac=Ke.minFrac,function pi(P,H,O,K,de,ze,Ke=!1){let Et="",or=!1;if(isFinite(P)){let Kn=function ii(P){let K,de,ze,Ke,Et,H=Math.abs(P)+"",O=0;for((de=H.indexOf("."))>-1&&(H=H.replace(".","")),(ze=H.search(/e/i))>0?(de<0&&(de=ze),de+=+H.slice(ze+1),H=H.substring(0,ze)):de<0&&(de=H.length),ze=0;"0"===H.charAt(ze);ze++);if(ze===(Et=H.length))K=[0],de=1;else{for(Et--;"0"===H.charAt(Et);)Et--;for(de-=ze,K=[],Ke=0;ze<=Et;ze++,Ke++)K[Ke]=Number(H.charAt(ze))}return de>22&&(K=K.splice(0,21),O=de-1,de=1),{digits:K,exponent:O,integerLen:de}}(P);Ke&&(Kn=function sr(P){if(0===P.digits[0])return P;const H=P.digits.length-P.integerLen;return P.exponent?P.exponent+=2:(0===H?P.digits.push(0,0):1===H&&P.digits.push(0),P.integerLen+=2),P}(Kn));let _n=H.minInt,bn=H.minFrac,Or=H.maxFrac;if(ze){const zi=ze.match(Rn);if(null===zi)throw new Error(`${ze} is not a valid digit info`);const Wi=zi[1],Gs=zi[3],Bs=zi[5];null!=Wi&&(_n=si(Wi)),null!=Gs&&(bn=si(Gs)),null!=Bs?Or=si(Bs):null!=Gs&&bn>Or&&(Or=bn)}!function dr(P,H,O){if(H>O)throw new Error(`The minimum number of digits after fraction (${H}) is higher than the maximum (${O}).`);let K=P.digits,de=K.length-P.integerLen;const ze=Math.min(Math.max(H,de),O);let Ke=ze+P.integerLen,Et=K[Ke];if(Ke>0){K.splice(Math.max(P.integerLen,Ke));for(let bn=Ke;bn<K.length;bn++)K[bn]=0}else{de=Math.max(0,de),P.integerLen=1,K.length=Math.max(1,Ke=ze+1),K[0]=0;for(let bn=1;bn<Ke;bn++)K[bn]=0}if(Et>=5)if(Ke-1<0){for(let bn=0;bn>Ke;bn--)K.unshift(0),P.integerLen++;K.unshift(1),P.integerLen++}else K[Ke-1]++;for(;de<Math.max(0,ze);de++)K.push(0);let or=0!==ze;const Kn=H+P.integerLen,_n=K.reduceRight(function(bn,Or,ar,hr){return hr[ar]=(Or+=bn)<10?Or:Or-10,or&&(0===hr[ar]&&ar>=Kn?hr.pop():or=!1),Or>=10?1:0},0);_n&&(K.unshift(_n),P.integerLen++)}(Kn,bn,Or);let ar=Kn.digits,hr=Kn.integerLen;const ji=Kn.exponent;let Xr=[];for(or=ar.every(zi=>!zi);hr<_n;hr++)ar.unshift(0);for(;hr<0;hr++)ar.unshift(0);hr>0?Xr=ar.splice(hr,ar.length):(Xr=ar,ar=[0]);const un=[];for(ar.length>=H.lgSize&&un.unshift(ar.splice(-H.lgSize,ar.length).join(""));ar.length>H.gSize;)un.unshift(ar.splice(-H.gSize,ar.length).join(""));ar.length&&un.unshift(ar.join("")),Et=un.join(yn(O,K)),Xr.length&&(Et+=yn(O,de)+Xr.join("")),ji&&(Et+=yn(O,Ue.Exponential)+"+"+ji)}else Et=yn(O,Ue.Infinity);return Et=P<0&&!or?H.negPre+Et+H.negSuf:H.posPre+Et+H.posSuf,Et}(P,Ke,H,Ue.CurrencyGroup,Ue.CurrencyDecimal,de).replace("\xa4",O).replace("\xa4","").trim()}function si(P){const H=parseInt(P);if(isNaN(H))throw new Error("Invalid integer literal when parsing "+P);return H}function jr(P,H){H=encodeURIComponent(H);for(const O of P.split(";")){const K=O.indexOf("="),[de,ze]=-1==K?[O,""]:[O.slice(0,K),O.slice(K+1)];if(de.trim()===H)return decodeURIComponent(ze)}return null}let xi=(()=>{class P{constructor(O,K,de,ze){this._iterableDiffers=O,this._keyValueDiffers=K,this._ngEl=de,this._renderer=ze,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}set klass(O){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof O?O.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)}set ngClass(O){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof O?O.split(/\s+/):O,this._rawClass&&((0,g.sIi)(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())}ngDoCheck(){if(this._iterableDiffer){const O=this._iterableDiffer.diff(this._rawClass);O&&this._applyIterableChanges(O)}else if(this._keyValueDiffer){const O=this._keyValueDiffer.diff(this._rawClass);O&&this._applyKeyValueChanges(O)}}_applyKeyValueChanges(O){O.forEachAddedItem(K=>this._toggleClass(K.key,K.currentValue)),O.forEachChangedItem(K=>this._toggleClass(K.key,K.currentValue)),O.forEachRemovedItem(K=>{K.previousValue&&this._toggleClass(K.key,!1)})}_applyIterableChanges(O){O.forEachAddedItem(K=>{if("string"!=typeof K.item)throw new Error(`NgClass can only toggle CSS classes expressed as strings, got ${(0,g.AaK)(K.item)}`);this._toggleClass(K.item,!0)}),O.forEachRemovedItem(K=>this._toggleClass(K.item,!1))}_applyClasses(O){O&&(Array.isArray(O)||O instanceof Set?O.forEach(K=>this._toggleClass(K,!0)):Object.keys(O).forEach(K=>this._toggleClass(K,!!O[K])))}_removeClasses(O){O&&(Array.isArray(O)||O instanceof Set?O.forEach(K=>this._toggleClass(K,!1)):Object.keys(O).forEach(K=>this._toggleClass(K,!1)))}_toggleClass(O,K){(O=O.trim())&&O.split(/\s+/g).forEach(de=>{K?this._renderer.addClass(this._ngEl.nativeElement,de):this._renderer.removeClass(this._ngEl.nativeElement,de)})}}return P.\u0275fac=function(O){return new(O||P)(g.Y36(g.ZZ4),g.Y36(g.aQg),g.Y36(g.SBq),g.Y36(g.Qsj))},P.\u0275dir=g.lG2({type:P,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),P})();class ei{constructor(H,O,K,de){this.$implicit=H,this.ngForOf=O,this.index=K,this.count=de}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Cr=(()=>{class P{constructor(O,K,de){this._viewContainer=O,this._template=K,this._differs=de,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForOf(O){this._ngForOf=O,this._ngForOfDirty=!0}set ngForTrackBy(O){this._trackByFn=O}get ngForTrackBy(){return this._trackByFn}set ngForTemplate(O){O&&(this._template=O)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const O=this._ngForOf;!this._differ&&O&&(this._differ=this._differs.find(O).create(this.ngForTrackBy))}if(this._differ){const O=this._differ.diff(this._ngForOf);O&&this._applyChanges(O)}}_applyChanges(O){const K=this._viewContainer;O.forEachOperation((de,ze,Ke)=>{if(null==de.previousIndex)K.createEmbeddedView(this._template,new ei(de.item,this._ngForOf,-1,-1),null===Ke?void 0:Ke);else if(null==Ke)K.remove(null===ze?void 0:ze);else if(null!==ze){const Et=K.get(ze);K.move(Et,Ke),cr(Et,de)}});for(let de=0,ze=K.length;de<ze;de++){const Et=K.get(de).context;Et.index=de,Et.count=ze,Et.ngForOf=this._ngForOf}O.forEachIdentityChange(de=>{cr(K.get(de.currentIndex),de)})}static ngTemplateContextGuard(O,K){return!0}}return P.\u0275fac=function(O){return new(O||P)(g.Y36(g.s_b),g.Y36(g.Rgc),g.Y36(g.ZZ4))},P.\u0275dir=g.lG2({type:P,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),P})();function cr(P,H){P.context.$implicit=H.item}let Pn=(()=>{class P{constructor(O,K){this._viewContainer=O,this._context=new Fn,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=K}set ngIf(O){this._context.$implicit=this._context.ngIf=O,this._updateView()}set ngIfThen(O){es("ngIfThen",O),this._thenTemplateRef=O,this._thenViewRef=null,this._updateView()}set ngIfElse(O){es("ngIfElse",O),this._elseTemplateRef=O,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(O,K){return!0}}return P.\u0275fac=function(O){return new(O||P)(g.Y36(g.s_b),g.Y36(g.Rgc))},P.\u0275dir=g.lG2({type:P,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),P})();class Fn{constructor(){this.$implicit=null,this.ngIf=null}}function es(P,H){if(H&&!H.createEmbeddedView)throw new Error(`${P} must be a TemplateRef, but received '${(0,g.AaK)(H)}'.`)}let De=(()=>{class P{constructor(O,K="USD"){this._locale=O,this._defaultCurrencyCode=K}transform(O,K=this._defaultCurrencyCode,de="symbol",ze,Ke){if(!function ut(P){return!(null==P||""===P||P!=P)}(O))return null;Ke=Ke||this._locale,"boolean"==typeof de&&(de=de?"symbol":"code");let Et=K||this._defaultCurrencyCode;"code"!==de&&(Et="symbol"===de||"symbol-narrow"===de?function Br(P,H,O="en"){const K=function wr(P){return(0,g.cg1)(P)[g.wAp.Currencies]}(O)[P]||Ne[P]||[],de=K[1];return"narrow"===H&&"string"==typeof de?de:K[0]||P}(Et,"symbol"===de?"wide":"narrow",Ke):de);try{return Hr(function Yt(P){if("string"==typeof P&&!isNaN(Number(P)-parseFloat(P)))return Number(P);if("number"!=typeof P)throw new Error(`${P} is not a number`);return P}(O),Ke,Et,K,ze)}catch(or){throw function Sn(P,H){return new g.vHH(2100,"")}()}}}return P.\u0275fac=function(O){return new(O||P)(g.Y36(g.soG,16),g.Y36(g.EJc,16))},P.\u0275pipe=g.Yjl({name:"currency",type:P,pure:!0}),P})();let ls=(()=>{class P{}return P.\u0275fac=function(O){return new(O||P)},P.\u0275mod=g.oAB({type:P}),P.\u0275inj=g.cJS({}),P})();const ni="browser";function Ur(P){return"server"===P}let ws=(()=>{class P{}return P.\u0275prov=(0,g.Yz7)({token:P,providedIn:"root",factory:()=>new cs((0,g.LFG)(Te),window)}),P})();class cs{constructor(H,O){this.document=H,this.window=O,this.offset=()=>[0,0]}setOffset(H){this.offset=Array.isArray(H)?()=>H:H}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(H){this.supportsScrolling()&&this.window.scrollTo(H[0],H[1])}scrollToAnchor(H){if(!this.supportsScrolling())return;const O=function qi(P,H){const O=P.getElementById(H)||P.getElementsByName(H)[0];if(O)return O;if("function"==typeof P.createTreeWalker&&P.body&&(P.body.createShadowRoot||P.body.attachShadow)){const K=P.createTreeWalker(P.body,NodeFilter.SHOW_ELEMENT);let de=K.currentNode;for(;de;){const ze=de.shadowRoot;if(ze){const Ke=ze.getElementById(H)||ze.querySelector(`[name="${H}"]`);if(Ke)return Ke}de=K.nextNode()}}return null}(this.document,H);O&&(this.scrollToElement(O),O.focus())}setHistoryScrollRestoration(H){if(this.supportScrollRestoration()){const O=this.window.history;O&&O.scrollRestoration&&(O.scrollRestoration=H)}}scrollToElement(H){const O=H.getBoundingClientRect(),K=O.left+this.window.pageXOffset,de=O.top+this.window.pageYOffset,ze=this.offset();this.window.scrollTo(K-ze[0],de-ze[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const H=Jr(this.window.history)||Jr(Object.getPrototypeOf(this.window.history));return!(!H||!H.writable&&!H.set)}catch(H){return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch(H){return!1}}}function Jr(P){return Object.getOwnPropertyDescriptor(P,"scrollRestoration")}class vr{}},5e3:(St,Be,L)=>{L.d(Be,{deG:()=>Gc,tb:()=>pE,AFp:()=>cE,ip1:()=>lE,CZH:()=>vv,hGG:()=>rC,z2F:()=>Tv,sBO:()=>jI,Sil:()=>wI,_Vd:()=>Py,EJc:()=>vI,SBq:()=>Dg,qLn:()=>Ts,vpe:()=>al,tBr:()=>$s,XFs:()=>Vt,OlP:()=>Wt,zs3:()=>Ea,ZZ4:()=>Ov,aQg:()=>Pv,soG:()=>wv,YKP:()=>C0,h0i:()=>Af,PXZ:()=>PI,R0b:()=>Eu,FiY:()=>Hs,Lbi:()=>fE,g9A:()=>hE,Qsj:()=>gw,FYo:()=>_0,JOm:()=>je,tp0:()=>Ei,Rgc:()=>xg,dDg:()=>_E,q4F:()=>E0,GfV:()=>v0,s_b:()=>Fy,ifc:()=>wt,eFA:()=>wE,G48:()=>BI,Gpc:()=>ie,X6Q:()=>VI,_c5:()=>nC,VLi:()=>MI,c2e:()=>gE,zSh:()=>Fh,wAp:()=>Cn,vHH:()=>Xe,cg1:()=>no,kL8:()=>_f,dqk:()=>fn,sIi:()=>Dd,CqO:()=>x_,QGY:()=>nf,F4k:()=>Ya,RDi:()=>Jr,AaK:()=>Ae,qOj:()=>Ku,TTD:()=>ut,_Bn:()=>g0,xp6:()=>hd,uIk:()=>Bp,ekj:()=>ag,Suo:()=>$0,Xpm:()=>qt,lG2:()=>In,Yz7:()=>It,cJS:()=>kt,oAB:()=>Re,Yjl:()=>Jt,Y36:()=>Xh,_UZ:()=>eg,qZA:()=>Rd,TgZ:()=>tf,EpF:()=>Ym,n5z:()=>Ks,LFG:()=>an,$8M:()=>ea,$Z:()=>T_,NdJ:()=>ua,CRH:()=>H0,oxw:()=>ng,ALo:()=>P0,lcZ:()=>N0,Q6J:()=>ss,VKq:()=>A0,iGM:()=>B0,CHM:()=>W,LSH:()=>lo,YNc:()=>zh,_uU:()=>il,Oqu:()=>dg,hij:()=>gf,AsE:()=>hg,Gf:()=>j0});var g=L(7579),p=L(727),Y=L(8306),pe=L(6451),ce=L(3099);function we(n){for(let r in n)if(n[r]===we)return r;throw Error("Could not find renamed property on target object.")}function Te(n,r){for(const s in r)r.hasOwnProperty(s)&&!n.hasOwnProperty(s)&&(n[s]=r[s])}function Ae(n){if("string"==typeof n)return n;if(Array.isArray(n))return"["+n.map(Ae).join(", ")+"]";if(null==n)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;const r=n.toString();if(null==r)return""+r;const s=r.indexOf("\n");return-1===s?r:r.substring(0,s)}function Me(n,r){return null==n||""===n?null===r?"":r:null==r||""===r?n:n+" "+r}const le=we({__forward_ref__:we});function ie(n){return n.__forward_ref__=ie,n.toString=function(){return Ae(this())},n}function Se(n){return ft(n)?n():n}function ft(n){return"function"==typeof n&&n.hasOwnProperty(le)&&n.__forward_ref__===ie}class Xe extends Error{constructor(r,s){super(function at(n,r){return`NG0${Math.abs(n)}${r?": "+r:""}`}(r,s)),this.code=r}}function Ge(n){return"string"==typeof n?n:null==n?"":String(n)}function Je(n){return"function"==typeof n?n.name||n.toString():"object"==typeof n&&null!=n&&"function"==typeof n.type?n.type.name||n.type.toString():Ge(n)}function Ce(n,r){const s=r?` in ${r}`:"";throw new Xe(-201,`No provider for ${Je(n)} found${s}`)}function _t(n,r){null==n&&function ct(n,r,s,a){throw new Error(`ASSERTION ERROR: ${n}`+(null==a?"":` [Expected=> ${s} ${a} ${r} <=Actual]`))}(r,n,null,"!=")}function It(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function kt(n){return{providers:n.providers||[],imports:n.imports||[]}}function yn(n){return kn(n,wr)||kn(n,xr)}function kn(n,r){return n.hasOwnProperty(r)?n[r]:null}function rr(n){return n&&(n.hasOwnProperty(Wn)||n.hasOwnProperty(jn))?n[Wn]:null}const wr=we({\u0275prov:we}),Wn=we({\u0275inj:we}),xr=we({ngInjectableDef:we}),jn=we({ngInjectorDef:we});var Vt=(()=>((Vt=Vt||{})[Vt.Default=0]="Default",Vt[Vt.Host=1]="Host",Vt[Vt.Self=2]="Self",Vt[Vt.SkipSelf=4]="SkipSelf",Vt[Vt.Optional=8]="Optional",Vt))();let Zt;function tn(n){const r=Zt;return Zt=n,r}function Br(n,r,s){const a=yn(n);return a&&"root"==a.providedIn?void 0===a.value?a.value=a.factory():a.value:s&Vt.Optional?null:void 0!==r?r:void Ce(Ae(n),"Injector")}function ur(n){return{toString:n}.toString()}var Fr=(()=>((Fr=Fr||{})[Fr.OnPush=0]="OnPush",Fr[Fr.Default=1]="Default",Fr))(),wt=(()=>{return(n=wt||(wt={}))[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",wt;var n})();const Nt="undefined"!=typeof globalThis&&globalThis,Gt="undefined"!=typeof window&&window,gr="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,fn=Nt||"undefined"!=typeof global&&global||Gt||gr,Xn={},Kt=[],Mr=we({\u0275cmp:we}),wn=we({\u0275dir:we}),Mt=we({\u0275pipe:we}),Qe=we({\u0275mod:we}),bt=we({\u0275fac:we}),Ft=we({__NG_ELEMENT_ID__:we});let gn=0;function qt(n){return ur(()=>{const s={},a={type:n.type,providersResolver:null,decls:n.decls,vars:n.vars,factory:null,template:n.template||null,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:s,inputs:null,outputs:null,exportAs:n.exportAs||null,onPush:n.changeDetection===Fr.OnPush,directiveDefs:null,pipeDefs:null,selectors:n.selectors||Kt,viewQuery:n.viewQuery||null,features:n.features||null,data:n.data||{},encapsulation:n.encapsulation||wt.Emulated,id:"c",styles:n.styles||Kt,_:null,setInput:null,schemas:n.schemas||null,tView:null},l=n.directives,d=n.features,v=n.pipes;return a.id+=gn++,a.inputs=Ht(n.inputs,s),a.outputs=Ht(n.outputs),d&&d.forEach(C=>C(a)),a.directiveDefs=l?()=>("function"==typeof l?l():l).map(se):null,a.pipeDefs=v?()=>("function"==typeof v?v():v).map(ge):null,a})}function se(n){return En(n)||function Rn(n){return n[wn]||null}(n)}function ge(n){return function Xt(n){return n[Mt]||null}(n)}const Ve={};function Re(n){return ur(()=>{const r={type:n.type,bootstrap:n.bootstrap||Kt,declarations:n.declarations||Kt,imports:n.imports||Kt,exports:n.exports||Kt,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null};return null!=n.id&&(Ve[n.id]=n.type),r})}function Ht(n,r){if(null==n)return Xn;const s={};for(const a in n)if(n.hasOwnProperty(a)){let l=n[a],d=l;Array.isArray(l)&&(d=l[1],l=l[0]),s[l]=a,r&&(r[l]=d)}return s}const In=qt;function Jt(n){return{type:n.type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null}}function En(n){return n[Mr]||null}function $n(n,r){const s=n[Qe]||null;if(!s&&!0===r)throw new Error(`Type ${Ae(n)} does not have '\u0275mod' property.`);return s}function Gr(n){return Array.isArray(n)&&"object"==typeof n[1]}function ti(n){return Array.isArray(n)&&!0===n[1]}function us(n){return 0!=(8&n.flags)}function _r(n){return 2==(2&n.flags)}function ms(n){return 1==(1&n.flags)}function oi(n){return null!==n.template}function Vi(n){return 0!=(512&n[2])}function te(n,r){return n.hasOwnProperty(bt)?n[bt]:null}class De{constructor(r,s,a){this.previousValue=r,this.currentValue=s,this.firstChange=a}isFirstChange(){return this.firstChange}}function ut(){return Yt}function Yt(n){return n.type.prototype.ngOnChanges&&(n.setInput=Zr),xn}function xn(){const n=ni(this),r=null==n?void 0:n.current;if(r){const s=n.previous;if(s===Xn)n.previous=r;else for(let a in r)s[a]=r[a];n.current=null,this.ngOnChanges(r)}}function Zr(n,r,s,a){const l=ni(n)||function Ri(n,r){return n[ls]=r}(n,{previous:Xn,current:null}),d=l.current||(l.current={}),v=l.previous,C=this.declaredInputs[s],A=v[C];d[C]=new De(A&&A.currentValue,r,v===Xn),n[a]=r}ut.ngInherit=!0;const ls="__ngSimpleChanges__";function ni(n){return n[ls]||null}let cs;function Jr(n){cs=n}function vr(n){return!!n.listen}const P={createRenderer:(n,r)=>function qi(){return void 0!==cs?cs:"undefined"!=typeof document?document:void 0}()};function O(n){for(;Array.isArray(n);)n=n[0];return n}function ze(n,r){return O(r[n])}function Ke(n,r){return O(r[n.index])}function or(n,r){return n.data[r]}function _n(n,r){const s=r[n];return Gr(s)?s:s[0]}function bn(n){return 4==(4&n[2])}function Or(n){return 128==(128&n[2])}function hr(n,r){return null==r?null:n[r]}function ji(n){n[18]=0}function Xr(n,r){n[5]+=r;let s=n,a=n[3];for(;null!==a&&(1===r&&1===s[5]||-1===r&&0===s[5]);)a[5]+=r,s=a,a=a[3]}const un={lFrame:io(null),bindingsEnabled:!0,isInCheckNoChangesMode:!1};function k(){return un.bindingsEnabled}function y(){return un.lFrame.lView}function D(){return un.lFrame.tView}function W(n){return un.lFrame.contextLView=n,n[8]}function ee(){let n=ye();for(;null!==n&&64===n.type;)n=n.parent;return n}function ye(){return un.lFrame.currentTNode}function nt(n,r){const s=un.lFrame;s.currentTNode=n,s.isParent=r}function Ut(){return un.lFrame.isParent}function qr(){return un.isInCheckNoChangesMode}function fr(n){un.isInCheckNoChangesMode=n}function Yn(){const n=un.lFrame;let r=n.bindingRootIndex;return-1===r&&(r=n.bindingRootIndex=n.tView.bindingStartIndex),r}function Er(){return un.lFrame.bindingIndex++}function ui(n){const r=un.lFrame,s=r.bindingIndex;return r.bindingIndex=r.bindingIndex+n,s}function li(n,r){const s=un.lFrame;s.bindingIndex=s.bindingRootIndex=n,Rs(r)}function Rs(n){un.lFrame.currentDirectiveIndex=n}function Zs(){return un.lFrame.currentQueryIndex}function zo(n){un.lFrame.currentQueryIndex=n}function Da(n){const r=n[1];return 2===r.type?r.declTNode:1===r.type?n[6]:null}function Wo(n,r,s){if(s&Vt.SkipSelf){let l=r,d=n;for(;!(l=l.parent,null!==l||s&Vt.Host||(l=Da(d),null===l||(d=d[15],10&l.type))););if(null===l)return!1;r=l,n=d}const a=un.lFrame=Ta();return a.currentTNode=r,a.lView=n,!0}function go(n){const r=Ta(),s=n[1];un.lFrame=r,r.currentTNode=s.firstChild,r.lView=n,r.tView=s,r.contextLView=n,r.bindingIndex=s.bindingStartIndex,r.inI18n=!1}function Ta(){const n=un.lFrame,r=null===n?null:n.child;return null===r?io(n):r}function io(n){const r={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return null!==n&&(n.child=r),r}function Aa(){const n=un.lFrame;return un.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}const qs=Aa;function Po(){const n=Aa();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function _i(){return un.lFrame.selectedIndex}function No(n){un.lFrame.selectedIndex=n}function ci(){const n=un.lFrame;return or(n.tView,n.selectedIndex)}function Is(n,r){for(let s=r.directiveStart,a=r.directiveEnd;s<a;s++){const d=n.data[s].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:C,ngAfterViewInit:A,ngAfterViewChecked:V,ngOnDestroy:q}=d;v&&(n.contentHooks||(n.contentHooks=[])).push(-s,v),C&&((n.contentHooks||(n.contentHooks=[])).push(s,C),(n.contentCheckHooks||(n.contentCheckHooks=[])).push(s,C)),A&&(n.viewHooks||(n.viewHooks=[])).push(-s,A),V&&((n.viewHooks||(n.viewHooks=[])).push(s,V),(n.viewCheckHooks||(n.viewCheckHooks=[])).push(s,V)),null!=q&&(n.destroyHooks||(n.destroyHooks=[])).push(s,q)}}function bo(n,r,s){Hi(n,r,3,s)}function Yo(n,r,s,a){(3&n[2])===s&&Hi(n,r,s,a)}function vi(n,r){let s=n[2];(3&s)===r&&(s&=2047,s+=1,n[2]=s)}function Hi(n,r,s,a){const d=null!=a?a:-1,v=r.length-1;let C=0;for(let A=void 0!==a?65535&n[18]:0;A<v;A++)if("number"==typeof r[A+1]){if(C=r[A],null!=a&&C>=a)break}else r[A]<0&&(n[18]+=65536),(C<d||-1==d)&&(Du(n,s,r,A),n[18]=(4294901760&n[18])+A+2),A++}function Du(n,r,s,a){const l=s[a]<0,d=s[a+1],C=n[l?-s[a]:s[a]];if(l){if(n[2]>>11<n[18]>>16&&(3&n[2])===r){n[2]+=2048;try{d.call(C)}finally{}}}else try{d.call(C)}finally{}}class zs{constructor(r,s,a){this.factory=r,this.resolving=!1,this.canSeeViewProviders=s,this.injectImpl=a}}function Qo(n,r,s){const a=vr(n);let l=0;for(;l<s.length;){const d=s[l];if("number"==typeof d){if(0!==d)break;l++;const v=s[l++],C=s[l++],A=s[l++];a?n.setAttribute(r,C,A,v):r.setAttributeNS(v,C,A)}else{const v=d,C=s[++l];bs(v)?a&&n.setProperty(r,v,C):a?n.setAttribute(r,v,C):r.setAttribute(v,C),l++}}return l}function yo(n){return 3===n||4===n||6===n}function bs(n){return 64===n.charCodeAt(0)}function Jo(n,r){if(null!==r&&0!==r.length)if(null===n||0===n.length)n=r.slice();else{let s=-1;for(let a=0;a<r.length;a++){const l=r[a];"number"==typeof l?s=l:0===s||Xo(n,s,l,null,-1===s||2===s?r[++a]:null)}}return n}function Xo(n,r,s,a,l){let d=0,v=n.length;if(-1===r)v=-1;else for(;d<n.length;){const C=n[d++];if("number"==typeof C){if(C===r){v=-1;break}if(C>r){v=d-1;break}}}for(;d<n.length;){const C=n[d];if("number"==typeof C)break;if(C===s){if(null===a)return void(null!==l&&(n[d+1]=l));if(a===n[d+1])return void(n[d+2]=l)}d++,null!==a&&d++,null!==l&&d++}-1!==v&&(n.splice(v,0,r),d=v+1),n.splice(d++,0,s),null!==a&&n.splice(d++,0,a),null!==l&&n.splice(d++,0,l)}function Ma(n){return-1!==n}function zr(n){return 32767&n}function Ws(n,r){let s=function ul(n){return n>>16}(n),a=r;for(;s>0;)a=a[15],s--;return a}let Ra=!0;function js(n){const r=Ra;return Ra=n,r}let Do=0;function To(n,r){const s=gt(n,r);if(-1!==s)return s;const a=r[1];a.firstCreatePass&&(n.injectorIndex=r.length,so(a.data,n),so(r,null),so(a.blueprint,null));const l=Dr(n,r),d=n.injectorIndex;if(Ma(l)){const v=zr(l),C=Ws(l,r),A=C[1].data;for(let V=0;V<8;V++)r[d+V]=C[v+V]|A[v+V]}return r[d+8]=l,d}function so(n,r){n.push(0,0,0,0,0,0,0,0,r)}function gt(n,r){return-1===n.injectorIndex||n.parent&&n.parent.injectorIndex===n.injectorIndex||null===r[n.injectorIndex+8]?-1:n.injectorIndex}function Dr(n,r){if(n.parent&&-1!==n.parent.injectorIndex)return n.parent.injectorIndex;let s=0,a=null,l=r;for(;null!==l;){const d=l[1],v=d.type;if(a=2===v?d.declTNode:1===v?l[6]:null,null===a)return-1;if(s++,l=l[15],-1!==a.injectorIndex)return a.injectorIndex|s<<16}return-1}function b(n,r,s){!function Os(n,r,s){let a;"string"==typeof s?a=s.charCodeAt(0)||0:s.hasOwnProperty(Ft)&&(a=s[Ft]),null==a&&(a=s[Ft]=Do++);const l=255&a;r.data[n+(l>>5)]|=1<<l}(n,r,s)}function _(n,r,s){if(s&Vt.Optional)return n;Ce(r,"NodeInjector")}function S(n,r,s,a){if(s&Vt.Optional&&void 0===a&&(a=null),0==(s&(Vt.Self|Vt.Host))){const l=n[9],d=tn(void 0);try{return l?l.get(r,a,s&Vt.Optional):Br(r,a,s&Vt.Optional)}finally{tn(d)}}return _(a,r,s)}function F(n,r,s,a=Vt.Default,l){if(null!==n){const d=function Gn(n){if("string"==typeof n)return n.charCodeAt(0)||0;const r=n.hasOwnProperty(Ft)?n[Ft]:void 0;return"number"==typeof r?r>=0?255&r:G:r}(s);if("function"==typeof d){if(!Wo(r,n,a))return a&Vt.Host?_(l,s,a):S(r,s,a,l);try{const v=d(a);if(null!=v||a&Vt.Optional)return v;Ce(s)}finally{qs()}}else if("number"==typeof d){let v=null,C=gt(n,r),A=-1,V=a&Vt.Host?r[16][6]:null;for((-1===C||a&Vt.SkipSelf)&&(A=-1===C?Dr(n,r):r[C+8],-1!==A&&Tr(a,!1)?(v=r[1],C=zr(A),r=Ws(A,r)):C=-1);-1!==C;){const q=r[1];if(nn(d,C,q.data)){const re=X(C,r,s,v,a,V);if(re!==j)return re}A=r[C+8],-1!==A&&Tr(a,r[1].data[C+8]===V)&&nn(d,C,r)?(v=q,C=zr(A),r=Ws(A,r)):C=-1}}}return S(r,s,a,l)}const j={};function G(){return new Zn(ee(),y())}function X(n,r,s,a,l,d){const v=r[1],C=v.data[n+8],q=He(C,v,s,null==a?_r(C)&&Ra:a!=v&&0!=(3&C.type),l&Vt.Host&&d===C);return null!==q?xt(r,v,q,C):j}function He(n,r,s,a,l){const d=n.providerIndexes,v=r.data,C=1048575&d,A=n.directiveStart,q=d>>20,ve=l?C+q:n.directiveEnd;for(let ke=a?C:C+q;ke<ve;ke++){const it=v[ke];if(ke<A&&s===it||ke>=A&&it.type===s)return ke}if(l){const ke=v[A];if(ke&&oi(ke)&&ke.type===s)return A}return null}function xt(n,r,s,a){let l=n[s];const d=r.data;if(function ko(n){return n instanceof zs}(l)){const v=l;v.resolving&&function Tt(n,r){const s=r?`. Dependency path: ${r.join(" > ")} > ${n}`:"";throw new Xe(-200,`Circular dependency in DI detected for ${n}${s}`)}(Je(d[s]));const C=js(v.canSeeViewProviders);v.resolving=!0;const A=v.injectImpl?tn(v.injectImpl):null;Wo(n,a,Vt.Default);try{l=n[s]=v.factory(void 0,d,n,a),r.firstCreatePass&&s>=a.directiveStart&&function Sa(n,r,s){const{ngOnChanges:a,ngOnInit:l,ngDoCheck:d}=r.type.prototype;if(a){const v=Yt(r);(s.preOrderHooks||(s.preOrderHooks=[])).push(n,v),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,v)}l&&(s.preOrderHooks||(s.preOrderHooks=[])).push(0-n,l),d&&((s.preOrderHooks||(s.preOrderHooks=[])).push(n,d),(s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(n,d))}(s,d[s],r)}finally{null!==A&&tn(A),js(C),v.resolving=!1,qs()}}return l}function nn(n,r,s){return!!(s[r+(n>>5)]&1<<n)}function Tr(n,r){return!(n&Vt.Self||n&Vt.Host&&r)}class Zn{constructor(r,s){this._tNode=r,this._lView=s}get(r,s,a){return F(this._tNode,this._lView,r,a,s)}}function Ks(n){return ur(()=>{const r=n.prototype.constructor,s=r[bt]||Ps(r),a=Object.prototype;let l=Object.getPrototypeOf(n.prototype).constructor;for(;l&&l!==a;){const d=l[bt]||Ps(l);if(d&&d!==s)return d;l=Object.getPrototypeOf(l)}return d=>new d})}function Ps(n){return ft(n)?()=>{const r=Ps(Se(n));return r&&r()}:te(n)}function ea(n){return function I(n,r){if("class"===r)return n.classes;if("style"===r)return n.styles;const s=n.attrs;if(s){const a=s.length;let l=0;for(;l<a;){const d=s[l];if(yo(d))break;if(0===d)l+=2;else if("number"==typeof d)for(l++;l<a&&"string"==typeof s[l];)l++;else{if(d===r)return s[l+1];l+=2}}}return null}(ee(),n)}const di="__parameters__";function _o(n,r,s){return ur(()=>{const a=function Qn(n){return function(...s){if(n){const a=n(...s);for(const l in a)this[l]=a[l]}}}(r);function l(...d){if(this instanceof l)return a.apply(this,d),this;const v=new l(...d);return C.annotation=v,C;function C(A,V,q){const re=A.hasOwnProperty(di)?A[di]:Object.defineProperty(A,di,{value:[]})[di];for(;re.length<=q;)re.push(null);return(re[q]=re[q]||[]).push(v),A}}return s&&(l.prototype=Object.create(s.prototype)),l.prototype.ngMetadataName=n,l.annotationCls=l,l})}class Wt{constructor(r,s){this._desc=r,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof s?this.__NG_ELEMENT_ID__=s:void 0!==s&&(this.\u0275prov=It({token:this,providedIn:s.providedIn||"root",factory:s.factory}))}toString(){return`InjectionToken ${this._desc}`}}const Gc=new Wt("AnalyzeForEntryComponents");function ts(n,r){void 0===r&&(r=n);for(let s=0;s<n.length;s++){let a=n[s];Array.isArray(a)?(r===n&&(r=n.slice(0,s)),ts(a,r)):r!==n&&r.push(a)}return r}function Js(n,r){n.forEach(s=>Array.isArray(s)?Js(s,r):r(s))}function Pa(n,r,s){r>=n.length?n.push(s):n.splice(r,0,s)}function ta(n,r){return r>=n.length-1?n.pop():n.splice(r,1)[0]}function Yi(n,r,s){let a=So(n,r);return a>=0?n[1|a]=s:(a=~a,function Au(n,r,s,a){let l=n.length;if(l==r)n.push(s,a);else if(1===l)n.push(a,n[0]),n[0]=s;else{for(l--,n.push(n[l-1],n[l]);l>r;)n[l]=n[l-2],l--;n[r]=s,n[r+1]=a}}(n,a,r,s)),a}function vo(n,r){const s=So(n,r);if(s>=0)return n[1|s]}function So(n,r){return function na(n,r,s){let a=0,l=n.length>>s;for(;l!==a;){const d=a+(l-a>>1),v=n[d<<s];if(r===v)return d<<s;v>r?l=d:a=d+1}return~(l<<s)}(n,r,1)}const ia={},ka="__NG_DI_FLAG__",Mu="ngTempTokenPath",N=/\n/gm,ae="__source",Pe=we({provide:String,useValue:we});let $e;function mt(n){const r=$e;return $e=n,r}function zt(n,r=Vt.Default){if(void 0===$e)throw new Xe(203,"");return null===$e?Br(n,void 0,r):$e.get(n,r&Vt.Optional?null:void 0,r)}function an(n,r=Vt.Default){return(function An(){return Zt}()||zt)(Se(n),r)}const Vn=an;function Nn(n){const r=[];for(let s=0;s<n.length;s++){const a=Se(n[s]);if(Array.isArray(a)){if(0===a.length)throw new Xe(900,"");let l,d=Vt.Default;for(let v=0;v<a.length;v++){const C=a[v],A=ki(C);"number"==typeof A?-1===A?l=C.token:d|=A:l=C}r.push(an(l,d))}else r.push(an(a))}return r}function ns(n,r){return n[ka]=r,n.prototype[ka]=r,n}function ki(n){return n[ka]}const $s=ns(_o("Inject",n=>({token:n})),-1),Hs=ns(_o("Optional"),8),Ei=ns(_o("SkipSelf"),4);class Kc{constructor(r){this.changingThisBreaksApplicationSecurity=r}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see https://g.co/ng/security#xss)`}}function Io(n){return n instanceof Kc?n.changingThisBreaksApplicationSecurity:n}const jo=/^(?:(?:https?|mailto|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi,Ff=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i;var Qi=(()=>((Qi=Qi||{})[Qi.NONE=0]="NONE",Qi[Qi.HTML=1]="HTML",Qi[Qi.STYLE=2]="STYLE",Qi[Qi.SCRIPT=3]="SCRIPT",Qi[Qi.URL=4]="URL",Qi[Qi.RESOURCE_URL=5]="RESOURCE_URL",Qi))();function lo(n){const r=function fa(){const n=y();return n&&n[12]}();return r?r.sanitize(Qi.URL,n)||"":function ml(n,r){const s=function Qd(n){return n instanceof Kc&&n.getTypeName()||null}(n);if(null!=s&&s!==r){if("ResourceURL"===s&&"URL"===r)return!0;throw new Error(`Required a safe ${r}, got a ${s} (see https://g.co/ng/security#xss)`)}return s===r}(n,"URL")?Io(n):function wi(n){return(n=String(n)).match(jo)||n.match(Ff)?n:"unsafe:"+n}(Ge(n))}const ac="__ngContext__";function Ns(n,r){n[ac]=r}function uc(n){const r=function fu(n){return n[ac]||null}(n);return r?Array.isArray(r)?r:r.lView:null}function wl(n){return n.ngOriginalError}function Vu(n,...r){n.error(...r)}class Ts{constructor(){this._console=console}handleError(r){const s=this._findOriginalError(r),a=function rh(n){return n&&n.ngErrorLogger||Vu}(r);a(this._console,"ERROR",r),s&&a(this._console,"ORIGINAL ERROR",s)}_findOriginalError(r){let s=r&&wl(r);for(;s&&wl(s);)s=wl(s);return s||null}}const $f=(()=>("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(fn))();function h(n){return n instanceof Function?n():n}var je=(()=>((je=je||{})[je.Important=1]="Important",je[je.DashCase=2]="DashCase",je))();function rn(n,r){return undefined(n,r)}function hi(n){const r=n[3];return ti(r)?r[3]:r}function fc(n){return rd(n[13])}function bl(n){return rd(n[4])}function rd(n){for(;null!==n&&!ti(n);)n=n[4];return n}function Ha(n,r,s,a,l){if(null!=a){let d,v=!1;ti(a)?d=a:Gr(a)&&(v=!0,a=a[0]);const C=O(a);0===n&&null!==s?null==l?mc(r,s,C):Dl(r,s,C,l||null,!0):1===n&&null!==s?Dl(r,s,C,l||null,!0):2===n?function Yf(n,r,s){const a=Ga(n,r);a&&function Gy(n,r,s,a){vr(n)?n.removeChild(r,s,a):r.removeChild(s)}(n,a,r,s)}(r,C,v):3===n&&r.destroyNode(C),null!=d&&function ld(n,r,s,a,l){const d=s[7];d!==O(s)&&Ha(r,n,a,d,l);for(let C=10;C<s.length;C++){const A=s[C];ya(A[1],A,n,r,a,d)}}(r,n,d,s,l)}}function gc(n,r,s){if(vr(n))return n.createElement(r,s);{const a=null!==s?function ws(n){const r=n.toLowerCase();return"svg"===r?"http://www.w3.org/2000/svg":"math"===r?"http://www.w3.org/1998/MathML/":null}(s):null;return null===a?n.createElement(r):n.createElementNS(a,r)}}function Ng(n,r){const s=n[9],a=s.indexOf(r),l=r[3];1024&r[2]&&(r[2]&=-1025,Xr(l,-1)),s.splice(a,1)}function uh(n,r){if(n.length<=10)return;const s=10+r,a=n[s];if(a){const l=a[17];null!==l&&l!==n&&Ng(l,a),r>0&&(n[s-1][4]=a[4]);const d=ta(n,10+r);!function Zf(n,r){ya(n,r,r[11],2,null,null),r[0]=null,r[6]=null}(a[1],a);const v=d[19];null!==v&&v.detachView(d[1]),a[3]=null,a[4]=null,a[2]&=-129}return a}function kg(n,r){if(!(256&r[2])){const s=r[11];vr(s)&&s.destroyNode&&ya(n,r,s,3,null,null),function $y(n){let r=n[13];if(!r)return lh(n[1],n);for(;r;){let s=null;if(Gr(r))s=r[13];else{const a=r[10];a&&(s=a)}if(!s){for(;r&&!r[4]&&r!==n;)Gr(r)&&lh(r[1],r),r=r[3];null===r&&(r=n),Gr(r)&&lh(r[1],r),s=r&&r[4]}r=s}}(r)}}function lh(n,r){if(!(256&r[2])){r[2]&=-129,r[2]|=256,function tt(n,r){let s;if(null!=n&&null!=(s=n.destroyHooks))for(let a=0;a<s.length;a+=2){const l=r[s[a]];if(!(l instanceof zs)){const d=s[a+1];if(Array.isArray(d))for(let v=0;v<d.length;v+=2){const C=l[d[v]],A=d[v+1];try{A.call(C)}finally{}}else try{d.call(l)}finally{}}}}(n,r),function Fg(n,r){const s=n.cleanup,a=r[7];let l=-1;if(null!==s)for(let d=0;d<s.length-1;d+=2)if("string"==typeof s[d]){const v=s[d+1],C="function"==typeof v?v(r):O(r[v]),A=a[l=s[d+2]],V=s[d+3];"boolean"==typeof V?C.removeEventListener(s[d],A,V):V>=0?a[l=V]():a[l=-V].unsubscribe(),d+=2}else{const v=a[l=s[d+1]];s[d].call(v)}if(null!==a){for(let d=l+1;d<a.length;d++)a[d]();r[7]=null}}(n,r),1===r[1].type&&vr(r[11])&&r[11].destroy();const s=r[17];if(null!==s&&ti(r[3])){s!==r[3]&&Ng(s,r);const a=r[19];null!==a&&a.detachView(n)}}}function ad(n,r,s){return function oa(n,r,s){let a=r;for(;null!==a&&40&a.type;)a=(r=a).parent;if(null===a)return s[0];if(2&a.flags){const l=n.data[a.directiveStart].encapsulation;if(l===wt.None||l===wt.Emulated)return null}return Ke(a,s)}(n,r.parent,s)}function Dl(n,r,s,a,l){vr(n)?n.insertBefore(r,s,a,l):r.insertBefore(s,a,l)}function mc(n,r,s){vr(n)?n.appendChild(r,s):r.appendChild(s)}function Bu(n,r,s,a,l){null!==a?Dl(n,r,s,a,l):mc(n,r,s)}function Ga(n,r){return vr(n)?n.parentNode(r):r.parentNode}let ks=function zf(n,r,s){return 40&n.type?Ke(n,s):null};function yc(n,r,s,a){const l=ad(n,a,r),d=r[11],C=function ch(n,r,s){return ks(n,r,s)}(a.parent||r[6],a,r);if(null!=l)if(Array.isArray(s))for(let A=0;A<s.length;A++)Bu(d,l,s[A],C,!1);else Bu(d,l,s,C,!1)}function ma(n,r){if(null!==r){const s=r.type;if(3&s)return Ke(r,n);if(4&s)return Kf(-1,n[r.index]);if(8&s){const a=r.child;if(null!==a)return ma(n,a);{const l=n[r.index];return ti(l)?Kf(-1,l):O(l)}}if(32&s)return rn(r,n)()||O(n[r.index]);{const a=Wf(n,r);return null!==a?Array.isArray(a)?a[0]:ma(hi(n[16]),a):ma(n,r.next)}}return null}function Wf(n,r){return null!==r?n[16][6].projection[r.projection]:null}function Kf(n,r){const s=10+n+1;if(s<r.length){const a=r[s],l=a[1].firstChild;if(null!==l)return ma(a,l)}return r[7]}function _c(n,r,s,a,l,d,v){for(;null!=s;){const C=a[s.index],A=s.type;if(v&&0===r&&(C&&Ns(O(C),a),s.flags|=4),64!=(64&s.flags))if(8&A)_c(n,r,s.child,a,l,d,!1),Ha(r,n,l,C,d);else if(32&A){const V=rn(s,a);let q;for(;q=V();)Ha(r,n,l,q,d);Ha(r,n,l,C,d)}else 16&A?Al(n,r,a,s,l,d):Ha(r,n,l,C,d);s=v?s.projectionNext:s.next}}function ya(n,r,s,a,l,d){_c(s,a,n.firstChild,r,l,d,!1)}function Al(n,r,s,a,l,d){const v=s[16],A=v[6].projection[a.projection];if(Array.isArray(A))for(let V=0;V<A.length;V++)Ha(r,n,l,A[V],d);else _c(n,r,A,v[3],l,d,!0)}function hh(n,r,s){vr(n)?n.setAttribute(r,"style",s):r.style.cssText=s}function cd(n,r,s){vr(n)?""===s?n.removeAttribute(r,"class"):n.setAttribute(r,"class",s):r.className=s}function Qf(n,r,s){let a=n.length;for(;;){const l=n.indexOf(r,s);if(-1===l)return l;if(0===l||n.charCodeAt(l-1)<=32){const d=r.length;if(l+d===a||n.charCodeAt(l+d)<=32)return l}s=l+1}}const Jf="ng-template";function Vg(n,r,s){let a=0;for(;a<n.length;){let l=n[a++];if(s&&"class"===l){if(l=n[a],-1!==Qf(l.toLowerCase(),r,0))return!0}else if(1===l){for(;a<n.length&&"string"==typeof(l=n[a++]);)if(l.toLowerCase()===r)return!0;return!1}}return!1}function fh(n){return 4===n.type&&n.value!==Jf}function dd(n,r,s){return r===(4!==n.type||s?n.value:Jf)}function vc(n,r,s){let a=4;const l=n.attrs||[],d=function qy(n){for(let r=0;r<n.length;r++)if(yo(n[r]))return r;return n.length}(l);let v=!1;for(let C=0;C<r.length;C++){const A=r[C];if("number"!=typeof A){if(!v)if(4&a){if(a=2|1&a,""!==A&&!dd(n,A,s)||""===A&&1===r.length){if(_a(a))return!1;v=!0}}else{const V=8&a?A:r[++C];if(8&a&&null!==n.attrs){if(!Vg(n.attrs,V,s)){if(_a(a))return!1;v=!0}continue}const re=Bg(8&a?"class":A,l,fh(n),s);if(-1===re){if(_a(a))return!1;v=!0;continue}if(""!==V){let ve;ve=re>d?"":l[re+1].toLowerCase();const ke=8&a?ve:null;if(ke&&-1!==Qf(ke,V,0)||2&a&&V!==ve){if(_a(a))return!1;v=!0}}}}else{if(!v&&!_a(a)&&!_a(A))return!1;if(v&&_a(A))continue;v=!1,a=A|1&a}}return _a(a)||v}function _a(n){return 0==(1&n)}function Bg(n,r,s,a){if(null===r)return-1;let l=0;if(a||!s){let d=!1;for(;l<r.length;){const v=r[l];if(v===n)return l;if(3===v||6===v)d=!0;else{if(1===v||2===v){let C=r[++l];for(;"string"==typeof C;)C=r[++l];continue}if(4===v)break;if(0===v){l+=4;continue}}l+=d?1:2}return-1}return function ph(n,r){let s=n.indexOf(4);if(s>-1)for(s++;s<n.length;){const a=n[s];if("number"==typeof a)return-1;if(a===r)return s;s++}return-1}(r,n)}function jg(n,r,s=!1){for(let a=0;a<r.length;a++)if(vc(n,r[a],s))return!0;return!1}function $u(n,r){return n?":not("+r.trim()+")":r}function $g(n){let r=n[0],s=1,a=2,l="",d=!1;for(;s<n.length;){let v=n[s];if("string"==typeof v)if(2&a){const C=n[++s];l+="["+v+(C.length>0?'="'+C+'"':"")+"]"}else 8&a?l+="."+v:4&a&&(l+=" "+v);else""!==l&&!_a(v)&&(r+=$u(d,l),l=""),a=v,d=d||!_a(a);s++}return""!==l&&(r+=$u(d,l)),r}const Bn={};function hd(n){Hg(D(),y(),_i()+n,qr())}function Hg(n,r,s,a){if(!a)if(3==(3&r[2])){const d=n.preOrderCheckHooks;null!==d&&bo(r,d,s)}else{const d=n.preOrderHooks;null!==d&&Yo(r,d,0,s)}No(s)}function Hu(n,r){return n<<17|r<<2}function Mo(n){return n>>17&32767}function ho(n){return 2|n}function Za(n){return(131068&n)>>2}function Ec(n,r){return-131069&n|r<<2}function mh(n){return 1|n}function Ml(n,r){const s=n.contentQueries;if(null!==s)for(let a=0;a<s.length;a+=2){const l=s[a],d=s[a+1];if(-1!==d){const v=n.data[d];zo(l),v.contentQueries(2,r[d],d)}}}function Cc(n,r,s,a,l,d,v,C,A,V){const q=r.blueprint.slice();return q[0]=l,q[2]=140|a,ji(q),q[3]=q[15]=n,q[8]=s,q[10]=v||n&&n[10],q[11]=C||n&&n[11],q[12]=A||n&&n[12]||null,q[9]=V||n&&n[9]||null,q[6]=d,q[16]=2==r.type?n[16]:q,q}function Rl(n,r,s,a,l){let d=n.data[r];if(null===d)d=function bh(n,r,s,a,l){const d=ye(),v=Ut(),A=n.data[r]=function um(n,r,s,a,l,d){return{type:s,index:a,insertBeforeIndex:null,injectorIndex:r?r.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,value:l,attrs:d,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:r,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?d:d&&d.parent,s,r,a,l);return null===n.firstChild&&(n.firstChild=A),null!==d&&(v?null==d.child&&null!==A.parent&&(d.child=A):null===d.next&&(d.next=A)),A}(n,r,s,a,l),function $i(){return un.lFrame.inI18n}()&&(d.flags|=64);else if(64&d.type){d.type=s,d.value=a,d.attrs=l;const v=function Le(){const n=un.lFrame,r=n.currentTNode;return n.isParent?r:r.parent}();d.injectorIndex=null===v?-1:v.injectorIndex}return nt(d,!0),d}function bc(n,r,s,a){if(0===s)return-1;const l=r.length;for(let d=0;d<s;d++)r.push(a),n.blueprint.push(a),n.data.push(null);return l}function Ol(n,r,s){go(r);try{const a=n.viewQuery;null!==a&&Ph(1,a,s);const l=n.template;null!==l&&rm(n,r,l,1,s),n.firstCreatePass&&(n.firstCreatePass=!1),n.staticContentQueries&&Ml(n,r),n.staticViewQueries&&Ph(2,n.viewQuery,s);const d=n.components;null!==d&&function Ch(n,r){for(let s=0;s<r.length;s++)qu(n,r[s])}(r,d)}catch(a){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),a}finally{r[2]&=-5,Po()}}function Dc(n,r,s,a){const l=r[2];if(256==(256&l))return;go(r);const d=qr();try{ji(r),function Ai(n){return un.lFrame.bindingIndex=n}(n.bindingStartIndex),null!==s&&rm(n,r,s,2,a);const v=3==(3&l);if(!d)if(v){const V=n.preOrderCheckHooks;null!==V&&bo(r,V,null)}else{const V=n.preOrderHooks;null!==V&&Yo(r,V,0,null),vi(r,0)}if(function mm(n){for(let r=fc(n);null!==r;r=bl(r)){if(!r[2])continue;const s=r[9];for(let a=0;a<s.length;a++){const l=s[a],d=l[3];0==(1024&l[2])&&Xr(d,1),l[2]|=1024}}}(r),function gp(n){for(let r=fc(n);null!==r;r=bl(r))for(let s=10;s<r.length;s++){const a=r[s],l=a[1];Or(a)&&Dc(l,a,l.template,a[8])}}(r),null!==n.contentQueries&&Ml(n,r),!d)if(v){const V=n.contentCheckHooks;null!==V&&bo(r,V)}else{const V=n.contentHooks;null!==V&&Yo(r,V,1),vi(r,1)}!function Ic(n,r){const s=n.hostBindingOpCodes;if(null!==s)try{for(let a=0;a<s.length;a++){const l=s[a];if(l<0)No(~l);else{const d=l,v=s[++a],C=s[++a];li(v,d),C(2,r[d])}}}finally{No(-1)}}(n,r);const C=n.components;null!==C&&function ip(n,r){for(let s=0;s<r.length;s++)mp(n,r[s])}(r,C);const A=n.viewQuery;if(null!==A&&Ph(2,A,a),!d)if(v){const V=n.viewCheckHooks;null!==V&&bo(r,V)}else{const V=n.viewHooks;null!==V&&Yo(r,V,2),vi(r,2)}!0===n.firstUpdatePass&&(n.firstUpdatePass=!1),d||(r[2]&=-73),1024&r[2]&&(r[2]&=-1025,Xr(r[3],-1))}finally{Po()}}function sp(n,r,s,a){const l=r[10],d=!qr(),v=bn(r);try{d&&!v&&l.begin&&l.begin(),v&&Ol(n,r,a),Dc(n,r,s,a)}finally{d&&!v&&l.end&&l.end()}}function rm(n,r,s,a,l){const d=_i(),v=2&a;try{No(-1),v&&r.length>20&&Hg(n,r,20,qr()),s(a,l)}finally{No(d)}}function md(n,r,s){!k()||(function fm(n,r,s,a){const l=s.directiveStart,d=s.directiveEnd;n.firstCreatePass||To(s,r),Ns(a,r);const v=s.initialInputs;for(let C=l;C<d;C++){const A=n.data[C],V=oi(A);V&&a_(r,s,A);const q=xt(r,n,C,s);Ns(q,r),null!==v&&Ac(0,C-l,q,A,0,v),V&&(_n(s.index,r)[8]=q)}}(n,r,s,Ke(s,r)),128==(128&s.flags)&&function xh(n,r,s){const a=s.directiveStart,l=s.directiveEnd,v=s.index,C=function Pr(){return un.lFrame.currentDirectiveIndex}();try{No(v);for(let A=a;A<l;A++){const V=n.data[A],q=r[A];Rs(A),(null!==V.hostBindings||0!==V.hostVars||null!==V.hostAttrs)&&Tc(V,q)}}finally{No(-1),Rs(C)}}(n,r,s))}function As(n,r,s=Ke){const a=r.localNames;if(null!==a){let l=r.index+1;for(let d=0;d<a.length;d+=2){const v=a[d+1],C=-1===v?s(r,n):n[v];n[l++]=C}}}function sm(n){const r=n.tView;return null===r||r.incompleteFirstPass?n.tView=Dh(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts):r}function Dh(n,r,s,a,l,d,v,C,A,V){const q=20+a,re=q+l,ve=function r_(n,r){const s=[];for(let a=0;a<r;a++)s.push(a<n?null:Bn);return s}(q,re),ke="function"==typeof V?V():V;return ve[1]={type:n,blueprint:ve,template:s,queries:null,viewQuery:C,declTNode:r,data:ve.slice().fill(null,q),bindingStartIndex:q,expandoStartIndex:re,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof d?d():d,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:A,consts:ke,incompleteFirstPass:!1}}function Th(n,r,s,a){const l=_m(r);null===s?l.push(a):(l.push(s),n.firstCreatePass&&vm(n).push(a,l.length-1))}function op(n,r,s){for(let a in n)if(n.hasOwnProperty(a)){const l=n[a];(s=null===s?{}:s).hasOwnProperty(a)?s[a].push(r,l):s[a]=[r,l]}return s}function cp(n,r,s,a){let l=!1;if(k()){const d=function dp(n,r,s){const a=n.directiveRegistry;let l=null;if(a)for(let d=0;d<a.length;d++){const v=a[d];jg(s,v.selectors,!1)&&(l||(l=[]),b(To(s,r),n,v.type),oi(v)?(hp(n,s),l.unshift(v)):l.push(v))}return l}(n,r,s),v=null===a?null:{"":-1};if(null!==d){l=!0,pm(s,n.data.length,d.length);for(let q=0;q<d.length;q++){const re=d[q];re.providersResolver&&re.providersResolver(re)}let C=!1,A=!1,V=bc(n,r,d.length,null);for(let q=0;q<d.length;q++){const re=d[q];s.mergedAttrs=Jo(s.mergedAttrs,re.hostAttrs),gm(n,s,r,V,re),o_(V,re,v),null!==re.contentQueries&&(s.flags|=8),(null!==re.hostBindings||null!==re.hostAttrs||0!==re.hostVars)&&(s.flags|=128);const ve=re.type.prototype;!C&&(ve.ngOnChanges||ve.ngOnInit||ve.ngDoCheck)&&((n.preOrderHooks||(n.preOrderHooks=[])).push(s.index),C=!0),!A&&(ve.ngOnChanges||ve.ngDoCheck)&&((n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(s.index),A=!0),V++}!function ap(n,r){const a=r.directiveEnd,l=n.data,d=r.attrs,v=[];let C=null,A=null;for(let V=r.directiveStart;V<a;V++){const q=l[V],re=q.inputs,ve=null===d||fh(r)?null:fp(re,d);v.push(ve),C=op(re,V,C),A=op(q.outputs,V,A)}null!==C&&(C.hasOwnProperty("class")&&(r.flags|=16),C.hasOwnProperty("style")&&(r.flags|=32)),r.initialInputs=v,r.inputs=C,r.outputs=A}(n,s)}v&&function s_(n,r,s){if(r){const a=n.localNames=[];for(let l=0;l<r.length;l+=2){const d=s[r[l+1]];if(null==d)throw new Xe(-301,!1);a.push(r[l],d)}}}(s,a,v)}return s.mergedAttrs=Jo(s.mergedAttrs,s.attrs),l}function hm(n,r,s,a,l,d){const v=d.hostBindings;if(v){let C=n.hostBindingOpCodes;null===C&&(C=n.hostBindingOpCodes=[]);const A=~r.index;(function i_(n){let r=n.length;for(;r>0;){const s=n[--r];if("number"==typeof s&&s<0)return s}return 0})(C)!=A&&C.push(A),C.push(a,l,v)}}function Tc(n,r){null!==n.hostBindings&&n.hostBindings(1,r)}function hp(n,r){r.flags|=2,(n.components||(n.components=[])).push(r.index)}function o_(n,r,s){if(s){if(r.exportAs)for(let a=0;a<r.exportAs.length;a++)s[r.exportAs[a]]=n;oi(r)&&(s[""]=n)}}function pm(n,r,s){n.flags|=1,n.directiveStart=r,n.directiveEnd=r+s,n.providerIndexes=r}function gm(n,r,s,a,l){n.data[a]=l;const d=l.factory||(l.factory=te(l.type)),v=new zs(d,oi(l),null);n.blueprint[a]=v,s[a]=v,hm(n,r,0,a,bc(n,s,l.hostVars,Bn),l)}function a_(n,r,s){const a=Ke(r,n),l=sm(s),d=n[10],v=Mh(n,Cc(n,l,null,s.onPush?64:16,a,r,d,d.createRenderer(a,s),null,null));n[r.index]=v}function Ro(n,r,s,a,l,d){const v=Ke(n,r);!function yd(n,r,s,a,l,d,v){if(null==d)vr(n)?n.removeAttribute(r,l,s):r.removeAttribute(l);else{const C=null==v?Ge(d):v(d,a||"",l);vr(n)?n.setAttribute(r,l,C,s):s?r.setAttributeNS(s,l,C):r.setAttribute(l,C)}}(r[11],v,d,n.value,s,a,l)}function Ac(n,r,s,a,l,d){const v=d[r];if(null!==v){const C=a.setInput;for(let A=0;A<v.length;){const V=v[A++],q=v[A++],re=v[A++];null!==C?a.setInput(s,re,V,q):s[q]=re}}}function fp(n,r){let s=null,a=0;for(;a<r.length;){const l=r[a];if(0!==l)if(5!==l){if("number"==typeof l)break;n.hasOwnProperty(l)&&(null===s&&(s=[]),s.push(l,n[l],r[a+1])),a+=2}else a+=2;else a+=4}return s}function Sc(n,r,s,a){return new Array(n,!0,!1,r,null,0,a,s,null,null)}function mp(n,r){const s=_n(r,n);if(Or(s)){const a=s[1];80&s[2]?Dc(a,s,a.template,s[8]):s[5]>0&&_d(s)}}function _d(n){for(let a=fc(n);null!==a;a=bl(a))for(let l=10;l<a.length;l++){const d=a[l];if(1024&d[2]){const v=d[1];Dc(v,d,v.template,d[8])}else d[5]>0&&_d(d)}const s=n[1].components;if(null!==s)for(let a=0;a<s.length;a++){const l=_n(s[a],n);Or(l)&&l[5]>0&&_d(l)}}function qu(n,r){const s=_n(r,n),a=s[1];(function ym(n,r){for(let s=r.length;s<n.blueprint.length;s++)r.push(n.blueprint[s])})(a,s),Ol(a,s,s[8])}function Mh(n,r){return n[13]?n[14][4]=r:n[13]=r,n[14]=r,r}function vd(n){for(;n;){n[2]|=64;const r=hi(n);if(Vi(n)&&!r)return n;n=r}return null}function yp(n,r,s){const a=r[10];a.begin&&a.begin();try{Dc(n,r,n.template,s)}catch(l){throw wp(r,l),l}finally{a.end&&a.end()}}function Rh(n){!function Ed(n){for(let r=0;r<n.components.length;r++){const s=n.components[r],a=uc(s),l=a[1];sp(l,a,l.template,s)}}(n[8])}function Ph(n,r,s){zo(0),r(n,s)}const vp=(()=>Promise.resolve(null))();function _m(n){return n[7]||(n[7]=[])}function vm(n){return n.cleanup||(n.cleanup=[])}function wp(n,r){const s=n[9],a=s?s.get(Ts,null):null;a&&a.handleError(r)}function Em(n,r,s,a,l){for(let d=0;d<s.length;){const v=s[d++],C=s[d++],A=r[v],V=n.data[v];null!==V.setInput?V.setInput(A,l,a,C):A[C]=l}}function va(n,r,s){const a=ze(r,n);!function id(n,r,s){vr(n)?n.setValue(r,s):r.textContent=s}(n[11],a,s)}function Nh(n,r,s){let a=s?n.styles:null,l=s?n.classes:null,d=0;if(null!==r)for(let v=0;v<r.length;v++){const C=r[v];"number"==typeof C?d=C:1==d?l=Me(l,C):2==d&&(a=Me(a,C+": "+r[++v]+";"))}s?n.styles=a:n.stylesWithoutHost=a,s?n.classes=l:n.classesWithoutHost=l}const Cp=new Wt("INJECTOR",-1);class kh{get(r,s=ia){if(s===ia){const a=new Error(`NullInjectorError: No provider for ${Ae(r)}!`);throw a.name="NullInjectorError",a}return s}}const Fh=new Wt("Set Injector scope."),Pl={},bp={};let Id;function Nl(){return void 0===Id&&(Id=new kh),Id}function mu(n,r=null,s=null,a){const l=Lh(n,r,s,a);return l._resolveInjectorDefTypes(),l}function Lh(n,r=null,s=null,a){return new xc(n,s,r||Nl(),a)}class xc{constructor(r,s,a,l=null){this.parent=a,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;const d=[];s&&Js(s,C=>this.processProvider(C,r,s)),Js([r],C=>this.processInjectorType(C,[],d)),this.records.set(Cp,Rc(void 0,this));const v=this.records.get(Fh);this.scope=null!=v?v.value:null,this.source=l||("object"==typeof r?null:Ae(r))}get destroyed(){return this._destroyed}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach(r=>r.ngOnDestroy())}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}}get(r,s=ia,a=Vt.Default){this.assertNotDestroyed();const l=mt(this),d=tn(void 0);try{if(!(a&Vt.SkipSelf)){let C=this.records.get(r);if(void 0===C){const A=function Sp(n){return"function"==typeof n||"object"==typeof n&&n instanceof Wt}(r)&&yn(r);C=A&&this.injectableDefInScope(A)?Rc(zu(r),Pl):null,this.records.set(r,C)}if(null!=C)return this.hydrate(r,C)}return(a&Vt.Self?Nl():this.parent).get(r,s=a&Vt.Optional&&s===ia?null:s)}catch(v){if("NullInjectorError"===v.name){if((v[Mu]=v[Mu]||[]).unshift(Ae(r)),l)throw v;return function uo(n,r,s,a){const l=n[Mu];throw r[ae]&&l.unshift(r[ae]),n.message=function Ru(n,r,s,a=null){n=n&&"\n"===n.charAt(0)&&"\u0275"==n.charAt(1)?n.substr(2):n;let l=Ae(r);if(Array.isArray(r))l=r.map(Ae).join(" -> ");else if("object"==typeof r){let d=[];for(let v in r)if(r.hasOwnProperty(v)){let C=r[v];d.push(v+":"+("string"==typeof C?JSON.stringify(C):Ae(C)))}l=`{${d.join(", ")}}`}return`${s}${a?"("+a+")":""}[${l}]: ${n.replace(N,"\n  ")}`}("\n"+n.message,l,s,a),n.ngTokenPath=l,n[Mu]=null,n}(v,r,"R3InjectorError",this.source)}throw v}finally{tn(d),mt(l)}}_resolveInjectorDefTypes(){this.injectorDefTypes.forEach(r=>this.get(r))}toString(){const r=[];return this.records.forEach((a,l)=>r.push(Ae(l))),`R3Injector[${r.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Xe(205,!1)}processInjectorType(r,s,a){if(!(r=Se(r)))return!1;let l=rr(r);const d=null==l&&r.ngModule||void 0,v=void 0===d?r:d,C=-1!==a.indexOf(v);if(void 0!==d&&(l=rr(d)),null==l)return!1;if(null!=l.imports&&!C){let q;a.push(v);try{Js(l.imports,re=>{this.processInjectorType(re,s,a)&&(void 0===q&&(q=[]),q.push(re))})}finally{}if(void 0!==q)for(let re=0;re<q.length;re++){const{ngModule:ve,providers:ke}=q[re];Js(ke,it=>this.processProvider(it,ve,ke||Kt))}}this.injectorDefTypes.add(v);const A=te(v)||(()=>new v);this.records.set(v,Rc(A,Pl));const V=l.providers;if(null!=V&&!C){const q=r;Js(V,re=>this.processProvider(re,q,V))}return void 0!==d&&void 0!==r.providers}processProvider(r,s,a){let l=Wu(r=Se(r))?r:Se(r&&r.provide);const d=function Mc(n,r,s){return Uh(n)?Rc(void 0,n.useValue):Rc(Cm(n),Pl)}(r);if(Wu(r)||!0!==r.multi)this.records.get(l);else{let v=this.records.get(l);v||(v=Rc(void 0,Pl,!0),v.factory=()=>Nn(v.multi),this.records.set(l,v)),l=r,v.multi.push(r)}this.records.set(l,d)}hydrate(r,s){return s.value===Pl&&(s.value=bp,s.value=s.factory()),"object"==typeof s.value&&s.value&&function Ap(n){return null!==n&&"object"==typeof n&&"function"==typeof n.ngOnDestroy}(s.value)&&this.onDestroy.add(s.value),s.value}injectableDefInScope(r){if(!r.providedIn)return!1;const s=Se(r.providedIn);return"string"==typeof s?"any"===s||s===this.scope:this.injectorDefTypes.has(s)}}function zu(n){const r=yn(n),s=null!==r?r.factory:te(n);if(null!==s)return s;if(n instanceof Wt)throw new Xe(204,!1);if(n instanceof Function)return function Im(n){const r=n.length;if(r>0)throw function Ki(n,r){const s=[];for(let a=0;a<n;a++)s.push(r);return s}(r,"?"),new Xe(204,!1);const s=function zn(n){const r=n&&(n[wr]||n[xr]);if(r){const s=function Qr(n){if(n.hasOwnProperty("name"))return n.name;const r=(""+n).match(/^function\s*([^\s(]+)/);return null===r?"":r[1]}(n);return console.warn(`DEPRECATED: DI is instantiating a token "${s}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${s}" class.`),r}return null}(n);return null!==s?()=>s.factory(n):()=>new n}(n);throw new Xe(204,!1)}function Cm(n,r,s){let a;if(Wu(n)){const l=Se(n);return te(l)||zu(l)}if(Uh(n))a=()=>Se(n.useValue);else if(function Tp(n){return!(!n||!n.useFactory)}(n))a=()=>n.useFactory(...Nn(n.deps||[]));else if(function Dp(n){return!(!n||!n.useExisting)}(n))a=()=>an(Se(n.useExisting));else{const l=Se(n&&(n.useClass||n.provide));if(!function d_(n){return!!n.deps}(n))return te(l)||zu(l);a=()=>new l(...Nn(n.deps))}return a}function Rc(n,r,s=!1){return{factory:n,value:r,multi:s?[]:void 0}}function Uh(n){return null!==n&&"object"==typeof n&&Pe in n}function Wu(n){return"function"==typeof n}let Ea=(()=>{class n{static create(s,a){var l;if(Array.isArray(s))return mu({name:""},a,s,"");{const d=null!==(l=s.name)&&void 0!==l?l:"";return mu({name:d},s.parent,s.providers,d)}}}return n.THROW_IF_NOT_FOUND=ia,n.NULL=new kh,n.\u0275prov=It({token:n,providedIn:"any",factory:()=>an(Cp)}),n.__NG_ELEMENT_ID__=-1,n})();function Np(n,r){Is(uc(n)[1],ee())}function Ku(n){let r=function Hh(n){return Object.getPrototypeOf(n.prototype).constructor}(n.type),s=!0;const a=[n];for(;r;){let l;if(oi(n))l=r.\u0275cmp||r.\u0275dir;else{if(r.\u0275cmp)throw new Xe(903,"");l=r.\u0275dir}if(l){if(s){a.push(l);const v=n;v.inputs=bd(n.inputs),v.declaredInputs=bd(n.declaredInputs),v.outputs=bd(n.outputs);const C=l.hostBindings;C&&yu(n,C);const A=l.viewQuery,V=l.contentQueries;if(A&&m_(n,A),V&&kp(n,V),Te(n.inputs,l.inputs),Te(n.declaredInputs,l.declaredInputs),Te(n.outputs,l.outputs),oi(l)&&l.data.animation){const q=n.data;q.animation=(q.animation||[]).concat(l.data.animation)}}const d=l.features;if(d)for(let v=0;v<d.length;v++){const C=d[v];C&&C.ngInherit&&C(n),C===Ku&&(s=!1)}}r=Object.getPrototypeOf(r)}!function Nm(n){let r=0,s=null;for(let a=n.length-1;a>=0;a--){const l=n[a];l.hostVars=r+=l.hostVars,l.hostAttrs=Jo(l.hostAttrs,s=Jo(s,l.hostAttrs))}}(a)}function bd(n){return n===Xn?{}:n===Kt?[]:n}function m_(n,r){const s=n.viewQuery;n.viewQuery=s?(a,l)=>{r(a,l),s(a,l)}:r}function kp(n,r){const s=n.contentQueries;n.contentQueries=s?(a,l,d)=>{r(a,l,d),s(a,l,d)}:r}function yu(n,r){const s=n.hostBindings;n.hostBindings=s?(a,l)=>{r(a,l),s(a,l)}:r}let Gh=null;function Oc(){if(!Gh){const n=fn.Symbol;if(n&&n.iterator)Gh=n.iterator;else{const r=Object.getOwnPropertyNames(Map.prototype);for(let s=0;s<r.length;++s){const a=r[s];"entries"!==a&&"size"!==a&&Map.prototype[a]===Map.prototype.entries&&(Gh=a)}}}return Gh}function Dd(n){return!!Td(n)&&(Array.isArray(n)||!(n instanceof Map)&&Oc()in n)}function Td(n){return null!==n&&("function"==typeof n||"object"==typeof n)}function to(n,r,s){return!Object.is(n[r],s)&&(n[r]=s,!0)}function Bp(n,r,s,a){const l=y();return to(l,Er(),r)&&(D(),Ro(ci(),l,n,r,s,a)),Bp}function Qu(n,r,s,a,l,d){const C=function _u(n,r,s,a){const l=to(n,r,s);return to(n,r+1,a)||l}(n,function tr(){return un.lFrame.bindingIndex}(),s,l);return ui(2),C?r+Ge(s)+a+Ge(l)+d:Bn}function zh(n,r,s,a,l,d,v,C){const A=y(),V=D(),q=n+20,re=V.firstCreatePass?function Vm(n,r,s,a,l,d,v,C,A){const V=r.consts,q=Rl(r,n,4,v||null,hr(V,C));cp(r,s,q,hr(V,A)),Is(r,q);const re=q.tViews=Dh(2,q,a,l,d,r.directiveRegistry,r.pipeRegistry,null,r.schemas,V);return null!==r.queries&&(r.queries.template(r,q),re.queries=r.queries.embeddedTView(q)),q}(q,V,A,r,s,a,l,d,v):V.data[q];nt(re,!1);const ve=A[11].createComment("");yc(V,A,ve,re),Ns(ve,A),Mh(A,A[q]=Sc(ve,A,ve,re)),ms(re)&&md(V,A,re),null!=v&&As(A,re,C)}function Xh(n,r=Vt.Default){const s=y();return null===s?an(n,r):F(ee(),s,Se(n),r)}function T_(){throw new Error("invalid")}function ss(n,r,s){const a=y();return to(a,Er(),r)&&function eo(n,r,s,a,l,d,v,C){const A=Ke(r,s);let q,V=r.inputs;!C&&null!=V&&(q=V[a])?(Em(n,s,q,a,l),_r(r)&&function Sh(n,r){const s=_n(r,n);16&s[2]||(s[2]|=64)}(s,r.index)):3&r.type&&(a=function Ah(n){return"class"===n?"className":"for"===n?"htmlFor":"formaction"===n?"formAction":"innerHtml"===n?"innerHTML":"readonly"===n?"readOnly":"tabindex"===n?"tabIndex":n}(a),l=null!=v?v(l,r.value||"",a):l,vr(d)?d.setProperty(A,a,l):bs(a)||(A.setProperty?A.setProperty(a,l):A[a]=l))}(D(),ci(),a,n,r,a[11],s,!1),ss}function ef(n,r,s,a,l){const v=l?"class":"style";Em(n,s,r.inputs[v],v,a)}function tf(n,r,s,a){const l=y(),d=D(),v=20+n,C=l[11],A=l[v]=gc(C,r,function Zl(){return un.lFrame.currentNamespace}()),V=d.firstCreatePass?function A_(n,r,s,a,l,d,v){const C=r.consts,V=Rl(r,n,2,l,hr(C,d));return cp(r,s,V,hr(C,v)),null!==V.attrs&&Nh(V,V.attrs,!1),null!==V.mergedAttrs&&Nh(V,V.mergedAttrs,!0),null!==r.queries&&r.queries.elementStart(r,V),V}(v,d,l,0,r,s,a):d.data[v];nt(V,!0);const q=V.mergedAttrs;null!==q&&Qo(C,A,q);const re=V.classes;null!==re&&cd(C,A,re);const ve=V.styles;return null!==ve&&hh(C,A,ve),64!=(64&V.flags)&&yc(d,l,A,V),0===function Wi(){return un.lFrame.elementDepthCount}()&&Ns(A,l),function Gs(){un.lFrame.elementDepthCount++}(),ms(V)&&(md(d,l,V),function im(n,r,s){if(us(r)){const l=r.directiveEnd;for(let d=r.directiveStart;d<l;d++){const v=n.data[d];v.contentQueries&&v.contentQueries(1,s[d],d)}}}(d,V,l)),null!==a&&As(l,V),tf}function Rd(){let n=ee();Ut()?function Ct(){un.lFrame.isParent=!1}():(n=n.parent,nt(n,!1));const r=n;!function Bs(){un.lFrame.elementDepthCount--}();const s=D();return s.firstCreatePass&&(Is(s,n),us(n)&&s.queries.elementEnd(n)),null!=r.classesWithoutHost&&function eu(n){return 0!=(16&n.flags)}(r)&&ef(s,r,y(),r.classesWithoutHost,!0),null!=r.stylesWithoutHost&&function Tu(n){return 0!=(32&n.flags)}(r)&&ef(s,r,y(),r.stylesWithoutHost,!1),Rd}function eg(n,r,s,a){return tf(n,r,s,a),Rd(),eg}function Ym(){return y()}function nf(n){return!!n&&"function"==typeof n.then}function Ya(n){return!!n&&"function"==typeof n.subscribe}const x_=Ya;function ua(n,r,s,a){const l=y(),d=D(),v=ee();return function Qm(n,r,s,a,l,d,v,C){const A=ms(a),q=n.firstCreatePass&&vm(n),re=r[8],ve=_m(r);let ke=!0;if(3&a.type||C){const jt=Ke(a,r),cn=C?C(jt):jt,dt=ve.length,Dn=C?kr=>C(O(kr[a.index])):a.index;if(vr(s)){let kr=null;if(!C&&A&&(kr=function rf(n,r,s,a){const l=n.cleanup;if(null!=l)for(let d=0;d<l.length-1;d+=2){const v=l[d];if(v===s&&l[d+1]===a){const C=r[7],A=l[d+2];return C.length>A?C[A]:null}"string"==typeof v&&(d+=2)}return null}(n,r,l,a.index)),null!==kr)(kr.__ngLastListenerFn__||kr).__ngNextListenerFn__=d,kr.__ngLastListenerFn__=d,ke=!1;else{d=sf(a,r,re,d,!1);const fi=s.listen(cn,l,d);ve.push(d,fi),q&&q.push(l,Dn,dt,dt+1)}}else d=sf(a,r,re,d,!0),cn.addEventListener(l,d,v),ve.push(d),q&&q.push(l,Dn,dt,v)}else d=sf(a,r,re,d,!1);const it=a.outputs;let Dt;if(ke&&null!==it&&(Dt=it[l])){const jt=Dt.length;if(jt)for(let cn=0;cn<jt;cn+=2){const ba=r[Dt[cn]][Dt[cn+1]].subscribe(d),jd=ve.length;ve.push(d,ba),q&&q.push(l,a.index,jd,-(jd+1))}}}(d,l,l[11],v,n,r,!!s,a),ua}function Jm(n,r,s,a){try{return!1!==s(a)}catch(l){return wp(n,l),!1}}function sf(n,r,s,a,l){return function d(v){if(v===Function)return a;const C=2&n.flags?_n(n.index,r):r;0==(32&r[2])&&vd(C);let A=Jm(r,0,a,v),V=d.__ngNextListenerFn__;for(;V;)A=Jm(r,0,V,v)&&A,V=V.__ngNextListenerFn__;return l&&!1===A&&(v.preventDefault(),v.returnValue=!1),A}}function ng(n=1){return function Iu(n){return(un.lFrame.contextLView=function la(n,r){for(;n>0;)r=r[15],n--;return r}(n,un.lFrame.contextLView))[8]}(n)}function df(n,r,s,a,l){const d=n[s+1],v=null===r;let C=a?Mo(d):Za(d),A=!1;for(;0!==C&&(!1===A||v);){const q=n[C+1];sg(n[C],r)&&(A=!0,n[C+1]=a?mh(q):ho(q)),C=a?Mo(q):Za(q)}A&&(n[s+1]=a?ho(d):mh(d))}function sg(n,r){return null===n||null==r||(Array.isArray(n)?n[1]:n)===r||!(!Array.isArray(n)||"string"!=typeof r)&&So(n,r)>=0}function ag(n,r){return function Ia(n,r,s,a){const l=y(),d=D(),v=ui(2);d.firstUpdatePass&&function ay(n,r,s,a){const l=n.data;if(null===l[s+1]){const d=l[_i()],v=function ug(n,r){return r>=n.expandoStartIndex}(n,s);(function dy(n,r){return 0!=(n.flags&(r?16:32))})(d,a)&&null===r&&!v&&(r=!1),r=function N_(n,r,s,a){const l=function po(n){const r=un.lFrame.currentDirectiveIndex;return-1===r?null:n[r]}(n);let d=a?r.residualClasses:r.residualStyles;if(null===l)0===(a?r.classBindings:r.styleBindings)&&(s=Bc(s=pf(null,n,r,s,a),r.attrs,a),d=null);else{const v=r.directiveStylingLast;if(-1===v||n[v]!==l)if(s=pf(l,n,r,s,a),null===d){let A=function uy(n,r,s){const a=s?r.classBindings:r.styleBindings;if(0!==Za(a))return n[Mo(a)]}(n,r,a);void 0!==A&&Array.isArray(A)&&(A=pf(null,n,r,A[1],a),A=Bc(A,r.attrs,a),function k_(n,r,s,a){n[Mo(s?r.classBindings:r.styleBindings)]=a}(n,r,a,A))}else d=function F_(n,r,s){let a;const l=r.directiveEnd;for(let d=1+r.directiveStylingLast;d<l;d++)a=Bc(a,n[d].hostAttrs,s);return Bc(a,r.attrs,s)}(n,r,a)}return void 0!==d&&(a?r.residualClasses=d:r.residualStyles=d),s}(l,d,r,a),function ny(n,r,s,a,l,d){let v=d?r.classBindings:r.styleBindings,C=Mo(v),A=Za(v);n[a]=s;let q,V=!1;if(Array.isArray(s)){const re=s;q=re[1],(null===q||So(re,q)>0)&&(V=!0)}else q=s;if(l)if(0!==A){const ve=Mo(n[C+1]);n[a+1]=Hu(ve,C),0!==ve&&(n[ve+1]=Ec(n[ve+1],a)),n[C+1]=function Gg(n,r){return 131071&n|r<<17}(n[C+1],a)}else n[a+1]=Hu(C,0),0!==C&&(n[C+1]=Ec(n[C+1],a)),C=a;else n[a+1]=Hu(A,0),0===C?C=a:n[A+1]=Ec(n[A+1],a),A=a;V&&(n[a+1]=ho(n[a+1])),df(n,q,a,!0),df(n,q,a,!1),function ry(n,r,s,a,l){const d=l?n.residualClasses:n.residualStyles;null!=d&&"string"==typeof r&&So(d,r)>=0&&(s[a+1]=mh(s[a+1]))}(r,q,n,a,d),v=Hu(C,A),d?r.classBindings=v:r.styleBindings=v}(l,d,r,s,v,a)}}(d,n,v,a),r!==Bn&&to(l,v,r)&&function Fd(n,r,s,a,l,d,v,C){if(!(3&r.type))return;const A=n.data,V=A[C+1];Ld(function gh(n){return 1==(1&n)}(V)?cy(A,r,s,l,Za(V),v):void 0)||(Ld(d)||function fd(n){return 2==(2&n)}(V)&&(d=cy(A,null,s,l,C,v)),function Ug(n,r,s,a,l){const d=vr(n);if(r)l?d?n.addClass(s,a):s.classList.add(a):d?n.removeClass(s,a):s.classList.remove(a);else{let v=-1===a.indexOf("-")?void 0:je.DashCase;if(null==l)d?n.removeStyle(s,a,v):s.style.removeProperty(a);else{const C="string"==typeof l&&l.endsWith("!important");C&&(l=l.slice(0,-10),v|=je.Important),d?n.setStyle(s,a,l,v):s.style.setProperty(a,l,C?"important":"")}}}(a,v,ze(_i(),s),l,d))}(d,d.data[_i()],l,l[11],n,l[v+1]=function rl(n,r){return null==n||("string"==typeof r?n+=r:"object"==typeof n&&(n=Ae(Io(n)))),n}(r,s),a,v)}(n,r,null,!0),ag}function pf(n,r,s,a,l){let d=null;const v=s.directiveEnd;let C=s.directiveStylingLast;for(-1===C?C=s.directiveStart:C++;C<v&&(d=r[C],a=Bc(a,d.hostAttrs,l),d!==n);)C++;return null!==n&&(s.directiveStylingLast=C),a}function Bc(n,r,s){const a=s?1:2;let l=-1;if(null!==r)for(let d=0;d<r.length;d++){const v=r[d];"number"==typeof v?l=v:l===a&&(Array.isArray(n)||(n=void 0===n?[]:["",n]),Yi(n,v,!!s||r[++d]))}return void 0===n?null:n}function cy(n,r,s,a,l,d){const v=null===r;let C;for(;l>0;){const A=n[l],V=Array.isArray(A),q=V?A[1]:A,re=null===q;let ve=s[l+1];ve===Bn&&(ve=re?Kt:void 0);let ke=re?vo(ve,a):q===a?ve:void 0;if(V&&!Ld(ke)&&(ke=vo(A,a)),Ld(ke)&&(C=ke,v))return C;const it=n[l+1];l=v?Mo(it):Za(it)}if(null!==r){let A=d?r.residualClasses:r.residualStyles;null!=A&&(C=vo(A,a))}return C}function Ld(n){return void 0!==n}function il(n,r=""){const s=y(),a=D(),l=n+20,d=a.firstCreatePass?Rl(a,l,1,r,null):a.data[l],v=s[l]=function pc(n,r){return vr(n)?n.createText(r):n.createTextNode(r)}(s[11],r);yc(a,s,v,d),nt(d,!1)}function dg(n){return gf("",n,""),dg}function gf(n,r,s){const a=y(),l=function Pc(n,r,s,a){return to(n,Er(),s)?r+Ge(s)+a:Bn}(a,n,r,s);return l!==Bn&&va(a,_i(),l),gf}function hg(n,r,s,a,l){const d=y(),v=Qu(d,n,r,s,a,l);return v!==Bn&&va(d,_i(),v),hg}const gs=void 0;var Cy=["en",[["a","p"],["AM","PM"],gs],[["AM","PM"],gs,gs],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],gs,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],gs,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",gs,"{1} 'at' {0}",gs],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Iy(n){const s=Math.floor(Math.abs(n)),a=n.toString().replace(/^[^.]*\.?/,"").length;return 1===s&&0===a?1:5}];let Ja={};function no(n){const r=function $l(n){return n.toLowerCase().replace(/_/g,"-")}(n);let s=jl(r);if(s)return s;const a=r.split("-")[0];if(s=jl(a),s)return s;if("en"===a)return Cy;throw new Error(`Missing locale data for the locale "${n}".`)}function _f(n){return no(n)[Cn.PluralCase]}function jl(n){return n in Ja||(Ja[n]=fn.ng&&fn.ng.common&&fn.ng.common.locales&&fn.ng.common.locales[n]),Ja[n]}var Cn=(()=>((Cn=Cn||{})[Cn.LocaleId=0]="LocaleId",Cn[Cn.DayPeriodsFormat=1]="DayPeriodsFormat",Cn[Cn.DayPeriodsStandalone=2]="DayPeriodsStandalone",Cn[Cn.DaysFormat=3]="DaysFormat",Cn[Cn.DaysStandalone=4]="DaysStandalone",Cn[Cn.MonthsFormat=5]="MonthsFormat",Cn[Cn.MonthsStandalone=6]="MonthsStandalone",Cn[Cn.Eras=7]="Eras",Cn[Cn.FirstDayOfWeek=8]="FirstDayOfWeek",Cn[Cn.WeekendRange=9]="WeekendRange",Cn[Cn.DateFormat=10]="DateFormat",Cn[Cn.TimeFormat=11]="TimeFormat",Cn[Cn.DateTimeFormat=12]="DateTimeFormat",Cn[Cn.NumberSymbols=13]="NumberSymbols",Cn[Cn.NumberFormats=14]="NumberFormats",Cn[Cn.CurrencyCode=15]="CurrencyCode",Cn[Cn.CurrencySymbol=16]="CurrencySymbol",Cn[Cn.CurrencyName=17]="CurrencyName",Cn[Cn.Currencies=18]="Currencies",Cn[Cn.Directionality=19]="Directionality",Cn[Cn.PluralCase=20]="PluralCase",Cn[Cn.ExtraData=21]="ExtraData",Cn))();const vf="en-US";let by=vf;function X_(n,r,s,a,l){if(n=Se(n),Array.isArray(n))for(let d=0;d<n.length;d++)X_(n[d],r,s,a,l);else{const d=D(),v=y();let C=Wu(n)?n:Se(n.provide),A=Cm(n);const V=ee(),q=1048575&V.providerIndexes,re=V.directiveStart,ve=V.providerIndexes>>20;if(Wu(n)||!n.multi){const ke=new zs(A,l,Xh),it=tv(C,r,l?q:q+ve,re);-1===it?(b(To(V,v),d,C),ev(d,n,r.length),r.push(C),V.directiveStart++,V.directiveEnd++,l&&(V.providerIndexes+=1048576),s.push(ke),v.push(ke)):(s[it]=ke,v[it]=ke)}else{const ke=tv(C,r,q+ve,re),it=tv(C,r,q,q+ve),Dt=ke>=0&&s[ke],jt=it>=0&&s[it];if(l&&!jt||!l&&!Dt){b(To(V,v),d,C);const cn=function lw(n,r,s,a,l){const d=new zs(n,s,Xh);return d.multi=[],d.index=r,d.componentProviders=0,p0(d,l,a&&!s),d}(l?uw:aw,s.length,l,a,A);!l&&jt&&(s[it].providerFactory=cn),ev(d,n,r.length,0),r.push(C),V.directiveStart++,V.directiveEnd++,l&&(V.providerIndexes+=1048576),s.push(cn),v.push(cn)}else ev(d,n,ke>-1?ke:it,p0(s[l?it:ke],A,!l&&a));!l&&a&&jt&&s[it].componentProviders++}}}function ev(n,r,s,a){const l=Wu(r),d=function c_(n){return!!n.useClass}(r);if(l||d){const A=(d?Se(r.useClass):r).prototype.ngOnDestroy;if(A){const V=n.destroyHooks||(n.destroyHooks=[]);if(!l&&r.multi){const q=V.indexOf(s);-1===q?V.push(s,[a,A]):V[q+1].push(a,A)}else V.push(s,A)}}}function p0(n,r,s){return s&&n.componentProviders++,n.multi.push(r)-1}function tv(n,r,s,a){for(let l=s;l<a;l++)if(r[l]===n)return l;return-1}function aw(n,r,s,a){return nv(this.multi,[])}function uw(n,r,s,a){const l=this.multi;let d;if(this.providerFactory){const v=this.providerFactory.componentProviders,C=xt(s,s[1],this.providerFactory.index,a);d=C.slice(0,v),nv(l,d);for(let A=v;A<C.length;A++)d.push(C[A])}else d=[],nv(l,d);return d}function nv(n,r){for(let s=0;s<n.length;s++)r.push((0,n[s])());return r}function g0(n,r=[]){return s=>{s.providersResolver=(a,l)=>function ow(n,r,s){const a=D();if(a.firstCreatePass){const l=oi(n);X_(s,a.data,a.blueprint,l,!0),X_(r,a.data,a.blueprint,l,!1)}}(a,l?l(n):n,r)}}class m0{}class hw{resolveComponentFactory(r){throw function dw(n){const r=Error(`No component factory found for ${Ae(n)}. Did you add it to @NgModule.entryComponents?`);return r.ngComponent=n,r}(r)}}let Py=(()=>{class n{}return n.NULL=new hw,n})();function fw(){return Tf(ee(),y())}function Tf(n,r){return new Dg(Ke(n,r))}let Dg=(()=>{class n{constructor(s){this.nativeElement=s}}return n.__NG_ELEMENT_ID__=fw,n})();function pw(n){return n instanceof Dg?n.nativeElement:n}class _0{}let gw=(()=>{class n{}return n.__NG_ELEMENT_ID__=()=>function yw(){const n=y(),s=_n(ee().index,n);return function mw(n){return n[11]}(Gr(s)?s:n)}(),n})(),_w=(()=>{class n{}return n.\u0275prov=It({token:n,providedIn:"root",factory:()=>null}),n})();class v0{constructor(r){this.full=r,this.major=r.split(".")[0],this.minor=r.split(".")[1],this.patch=r.split(".").slice(2).join(".")}}const E0=new v0("13.2.7"),rv={};function Ny(n,r,s,a,l=!1){for(;null!==s;){const d=r[s.index];if(null!==d&&a.push(O(d)),ti(d))for(let C=10;C<d.length;C++){const A=d[C],V=A[1].firstChild;null!==V&&Ny(A[1],A,V,a)}const v=s.type;if(8&v)Ny(n,r,s.child,a);else if(32&v){const C=rn(s,r);let A;for(;A=C();)a.push(A)}else if(16&v){const C=Wf(r,s);if(Array.isArray(C))a.push(...C);else{const A=hi(r[16]);Ny(A[1],A,C,a,!0)}}s=l?s.projectionNext:s.next}return a}class Tg{constructor(r,s){this._lView=r,this._cdRefInjectingView=s,this._appRef=null,this._attachedToViewContainer=!1}get rootNodes(){const r=this._lView,s=r[1];return Ny(s,r,s.firstChild,[])}get context(){return this._lView[8]}set context(r){this._lView[8]=r}get destroyed(){return 256==(256&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const r=this._lView[3];if(ti(r)){const s=r[8],a=s?s.indexOf(this):-1;a>-1&&(uh(r,a),ta(s,a))}this._attachedToViewContainer=!1}kg(this._lView[1],this._lView)}onDestroy(r){Th(this._lView[1],this._lView,null,r)}markForCheck(){vd(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-129}reattach(){this._lView[2]|=128}detectChanges(){yp(this._lView[1],this._lView,this.context)}checkNoChanges(){!function Oh(n,r,s){fr(!0);try{yp(n,r,s)}finally{fr(!1)}}(this._lView[1],this._lView,this.context)}attachToViewContainerRef(){if(this._appRef)throw new Xe(902,"");this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function qf(n,r){ya(n,r,r[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(r){if(this._attachedToViewContainer)throw new Xe(902,"");this._appRef=r}}class vw extends Tg{constructor(r){super(r),this._view=r}detectChanges(){Rh(this._view)}checkNoChanges(){!function _p(n){fr(!0);try{Rh(n)}finally{fr(!1)}}(this._view)}get context(){return null}}class w0 extends Py{constructor(r){super(),this.ngModule=r}resolveComponentFactory(r){const s=En(r);return new iv(s,this.ngModule)}}function I0(n){const r=[];for(let s in n)n.hasOwnProperty(s)&&r.push({propName:n[s],templateName:s});return r}class iv extends m0{constructor(r,s){super(),this.componentDef=r,this.ngModule=s,this.componentType=r.type,this.selector=function zy(n){return n.map($g).join(",")}(r.selectors),this.ngContentSelectors=r.ngContentSelectors?r.ngContentSelectors:[],this.isBoundToModule=!!s}get inputs(){return I0(this.componentDef.inputs)}get outputs(){return I0(this.componentDef.outputs)}create(r,s,a,l){const d=(l=l||this.ngModule)?function ww(n,r){return{get:(s,a,l)=>{const d=n.get(s,rv,l);return d!==rv||a===rv?d:r.get(s,a,l)}}}(r,l.injector):r,v=d.get(_0,P),C=d.get(_w,null),A=v.createRenderer(null,this.componentDef),V=this.componentDef.selectors[0][0]||"div",q=a?function am(n,r,s){if(vr(n))return n.selectRootElement(r,s===wt.ShadowDom);let a="string"==typeof r?n.querySelector(r):r;return a.textContent="",a}(A,a,this.componentDef.encapsulation):gc(v.createRenderer(null,this.componentDef),V,function Ew(n){const r=n.toLowerCase();return"svg"===r?"svg":"math"===r?"math":null}(V)),re=this.componentDef.onPush?576:528,ve=function Om(n,r){return{components:[],scheduler:n||$f,clean:vp,playerHandler:r||null,flags:0}}(),ke=Dh(0,null,null,1,0,null,null,null,null,null),it=Cc(null,ke,ve,re,null,null,v,A,C,d);let Dt,jt;go(it);try{const cn=function Rm(n,r,s,a,l,d){const v=s[1];s[20]=n;const A=Rl(v,20,2,"#host",null),V=A.mergedAttrs=r.hostAttrs;null!==V&&(Nh(A,V,!0),null!==n&&(Qo(l,n,V),null!==A.classes&&cd(l,n,A.classes),null!==A.styles&&hh(l,n,A.styles)));const q=a.createRenderer(n,r),re=Cc(s,sm(r),null,r.onPush?64:16,s[20],A,a,q,d||null,null);return v.firstCreatePass&&(b(To(A,s),v,r.type),hp(v,A),pm(A,s.length,1)),Mh(s,re),s[20]=re}(q,this.componentDef,it,v,A);if(q)if(a)Qo(A,q,["ng-version",E0.full]);else{const{attrs:dt,classes:Dn}=function Wy(n){const r=[],s=[];let a=1,l=2;for(;a<n.length;){let d=n[a];if("string"==typeof d)2===l?""!==d&&r.push(d,n[++a]):8===l&&s.push(d);else{if(!_a(l))break;l=d}a++}return{attrs:r,classes:s}}(this.componentDef.selectors[0]);dt&&Qo(A,q,dt),Dn&&Dn.length>0&&cd(A,q,Dn.join(" "))}if(jt=or(ke,20),void 0!==s){const dt=jt.projection=[];for(let Dn=0;Dn<this.ngContentSelectors.length;Dn++){const kr=s[Dn];dt.push(null!=kr?Array.from(kr):null)}}Dt=function $h(n,r,s,a,l){const d=s[1],v=function dm(n,r,s){const a=ee();n.firstCreatePass&&(s.providersResolver&&s.providersResolver(s),gm(n,a,r,bc(n,r,1,null),s));const l=xt(r,n,a.directiveStart,a);Ns(l,r);const d=Ke(a,r);return d&&Ns(d,r),l}(d,s,r);if(a.components.push(v),n[8]=v,l&&l.forEach(A=>A(v,r)),r.contentQueries){const A=ee();r.contentQueries(1,v,A.directiveStart)}const C=ee();return!d.firstCreatePass||null===r.hostBindings&&null===r.hostAttrs||(No(C.index),hm(s[1],C,0,C.directiveStart,C.directiveEnd,r),Tc(r,v)),v}(cn,this.componentDef,it,ve,[Np]),Ol(ke,it,null)}finally{Po()}return new Cw(this.componentType,Dt,Tf(jt,it),it,jt)}}class Cw extends class cw{}{constructor(r,s,a,l,d){super(),this.location=a,this._rootLView=l,this._tNode=d,this.instance=s,this.hostView=this.changeDetectorRef=new vw(l),this.componentType=r}get injector(){return new Zn(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(r){this.hostView.onDestroy(r)}}class Af{}class C0{}const Sf=new Map;class T0 extends Af{constructor(r,s){super(),this._parent=s,this._bootstrapComponents=[],this.injector=this,this.destroyCbs=[],this.componentFactoryResolver=new w0(this);const a=$n(r);this._bootstrapComponents=h(a.bootstrap),this._r3Injector=Lh(r,s,[{provide:Af,useValue:this},{provide:Py,useValue:this.componentFactoryResolver}],Ae(r)),this._r3Injector._resolveInjectorDefTypes(),this.instance=this.get(r)}get(r,s=Ea.THROW_IF_NOT_FOUND,a=Vt.Default){return r===Ea||r===Af||r===Cp?this:this._r3Injector.get(r,s,a)}destroy(){const r=this._r3Injector;!r.destroyed&&r.destroy(),this.destroyCbs.forEach(s=>s()),this.destroyCbs=null}onDestroy(r){this.destroyCbs.push(r)}}class sv extends C0{constructor(r){super(),this.moduleType=r,null!==$n(r)&&function Dw(n){const r=new Set;!function s(a){const l=$n(a,!0),d=l.id;null!==d&&(function b0(n,r,s){if(r&&r!==s)throw new Error(`Duplicate module registered for ${n} - ${Ae(r)} vs ${Ae(r.name)}`)}(d,Sf.get(d),a),Sf.set(d,a));const v=h(l.imports);for(const C of v)r.has(C)||(r.add(C),s(C))}(n)}(r)}create(r){return new T0(this.moduleType,r)}}function A0(n,r,s,a){return S0(y(),Yn(),n,r,s,a)}function S0(n,r,s,a,l,d){const v=r+s;return to(n,v,l)?function Wa(n,r,s){return n[r]=s}(n,v+1,d?a.call(d,l):a(l)):function Ag(n,r){const s=n[r];return s===Bn?void 0:s}(n,v+1)}function P0(n,r){const s=D();let a;const l=n+20;s.firstCreatePass?(a=function kw(n,r){if(r)for(let s=r.length-1;s>=0;s--){const a=r[s];if(n===a.name)return a}}(r,s.pipeRegistry),s.data[l]=a,a.onDestroy&&(s.destroyHooks||(s.destroyHooks=[])).push(l,a.onDestroy)):a=s.data[l];const d=a.factory||(a.factory=te(a.type)),v=tn(Xh);try{const C=js(!1),A=d();return js(C),function Hp(n,r,s,a){s>=n.data.length&&(n.data[s]=null,n.blueprint[s]=null),r[s]=a}(s,y(),l,A),A}finally{tn(v)}}function N0(n,r,s){const a=n+20,l=y(),d=function Kn(n,r){return n[r]}(l,a);return function Sg(n,r){return n[1].data[r].pure}(l,a)?S0(l,Yn(),r,d.transform,s,d):d.transform(s)}function ov(n){return r=>{setTimeout(n,void 0,r)}}const al=class Bw extends g.x{constructor(r=!1){super(),this.__isAsync=r}emit(r){super.next(r)}subscribe(r,s,a){var l,d,v;let C=r,A=s||(()=>null),V=a;if(r&&"object"==typeof r){const re=r;C=null===(l=re.next)||void 0===l?void 0:l.bind(re),A=null===(d=re.error)||void 0===d?void 0:d.bind(re),V=null===(v=re.complete)||void 0===v?void 0:v.bind(re)}this.__isAsync&&(A=ov(A),C&&(C=ov(C)),V&&(V=ov(V)));const q=super.subscribe({next:C,error:A,complete:V});return r instanceof p.w0&&r.add(q),q}};function jw(){return this._results[Oc()]()}class av{constructor(r=!1){this._emitDistinctChangesOnly=r,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const s=Oc(),a=av.prototype;a[s]||(a[s]=jw)}get changes(){return this._changes||(this._changes=new al)}get(r){return this._results[r]}map(r){return this._results.map(r)}filter(r){return this._results.filter(r)}find(r){return this._results.find(r)}reduce(r,s){return this._results.reduce(r,s)}forEach(r){this._results.forEach(r)}some(r){return this._results.some(r)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(r,s){const a=this;a.dirty=!1;const l=ts(r);(this._changesDetected=!function Fo(n,r,s){if(n.length!==r.length)return!1;for(let a=0;a<n.length;a++){let l=n[a],d=r[a];if(s&&(l=s(l),d=s(d)),d!==l)return!1}return!0}(a._results,l,s))&&(a._results=l,a.length=l.length,a.last=l[this.length-1],a.first=l[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}Symbol;let xg=(()=>{class n{}return n.__NG_ELEMENT_ID__=Gw,n})();const $w=xg,Hw=class extends $w{constructor(r,s,a){super(),this._declarationLView=r,this._declarationTContainer=s,this.elementRef=a}createEmbeddedView(r){const s=this._declarationTContainer.tViews,a=Cc(this._declarationLView,s,r,16,null,s.declTNode,null,null,null,null);a[17]=this._declarationLView[this._declarationTContainer.index];const d=this._declarationLView[19];return null!==d&&(a[19]=d.createEmbeddedView(s)),Ol(s,a,r),new Tg(a)}};function Gw(){return ky(ee(),y())}function ky(n,r){return 4&n.type?new Hw(r,n,Tf(n,r)):null}let Fy=(()=>{class n{}return n.__NG_ELEMENT_ID__=Zw,n})();function Zw(){return L0(ee(),y())}const qw=Fy,k0=class extends qw{constructor(r,s,a){super(),this._lContainer=r,this._hostTNode=s,this._hostLView=a}get element(){return Tf(this._hostTNode,this._hostLView)}get injector(){return new Zn(this._hostTNode,this._hostLView)}get parentInjector(){const r=Dr(this._hostTNode,this._hostLView);if(Ma(r)){const s=Ws(r,this._hostLView),a=zr(r);return new Zn(s[1].data[a+8],s)}return new Zn(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(r){const s=F0(this._lContainer);return null!==s&&s[r]||null}get length(){return this._lContainer.length-10}createEmbeddedView(r,s,a){const l=r.createEmbeddedView(s||{});return this.insert(l,a),l}createComponent(r,s,a,l,d){const v=r&&!function Qs(n){return"function"==typeof n}(r);let C;if(v)C=s;else{const re=s||{};C=re.index,a=re.injector,l=re.projectableNodes,d=re.ngModuleRef}const A=v?r:new iv(En(r)),V=a||this.parentInjector;if(!d&&null==A.ngModule){const ve=(v?V:this.parentInjector).get(Af,null);ve&&(d=ve)}const q=A.create(V,l,void 0,d);return this.insert(q.hostView,C),q}insert(r,s){const a=r._lView,l=a[1];if(function ar(n){return ti(n[3])}(a)){const q=this.indexOf(r);if(-1!==q)this.detach(q);else{const re=a[3],ve=new k0(re,re[6],re[3]);ve.detach(ve.indexOf(r))}}const d=this._adjustIndex(s),v=this._lContainer;!function Hy(n,r,s,a){const l=10+a,d=s.length;a>0&&(s[l-1][4]=r),a<d-10?(r[4]=s[l],Pa(s,10+a,r)):(s.push(r),r[4]=null),r[3]=s;const v=r[17];null!==v&&s!==v&&function Pg(n,r){const s=n[9];r[16]!==r[3][3][16]&&(n[2]=!0),null===s?n[9]=[r]:s.push(r)}(v,r);const C=r[19];null!==C&&C.insertView(n),r[2]|=128}(l,a,v,d);const C=Kf(d,v),A=a[11],V=Ga(A,v[7]);return null!==V&&function od(n,r,s,a,l,d){a[0]=l,a[6]=r,ya(n,a,s,1,l,d)}(l,v[6],A,a,V,C),r.attachToViewContainerRef(),Pa(uv(v),d,r),r}move(r,s){return this.insert(r,s)}indexOf(r){const s=F0(this._lContainer);return null!==s?s.indexOf(r):-1}remove(r){const s=this._adjustIndex(r,-1),a=uh(this._lContainer,s);a&&(ta(uv(this._lContainer),s),kg(a[1],a))}detach(r){const s=this._adjustIndex(r,-1),a=uh(this._lContainer,s);return a&&null!=ta(uv(this._lContainer),s)?new Tg(a):null}_adjustIndex(r,s=0){return null==r?this.length+s:r}};function F0(n){return n[8]}function uv(n){return n[8]||(n[8]=[])}function L0(n,r){let s;const a=r[n.index];if(ti(a))s=a;else{let l;if(8&n.type)l=O(a);else{const d=r[11];l=d.createComment("");const v=Ke(n,r);Dl(d,Ga(d,v),l,function Lg(n,r){return vr(n)?n.nextSibling(r):r.nextSibling}(d,v),!1)}r[n.index]=s=Sc(a,r,l,n),Mh(r,s)}return new k0(s,n,r)}class lv{constructor(r){this.queryList=r,this.matches=null}clone(){return new lv(this.queryList)}setDirty(){this.queryList.setDirty()}}class cv{constructor(r=[]){this.queries=r}createEmbeddedView(r){const s=r.queries;if(null!==s){const a=null!==r.contentQueries?r.contentQueries[0]:s.length,l=[];for(let d=0;d<a;d++){const v=s.getByIndex(d);l.push(this.queries[v.indexInDeclarationView].clone())}return new cv(l)}return null}insertView(r){this.dirtyQueriesWithMatches(r)}detachView(r){this.dirtyQueriesWithMatches(r)}dirtyQueriesWithMatches(r){for(let s=0;s<this.queries.length;s++)null!==q0(r,s).matches&&this.queries[s].setDirty()}}class U0{constructor(r,s,a=null){this.predicate=r,this.flags=s,this.read=a}}class dv{constructor(r=[]){this.queries=r}elementStart(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].elementStart(r,s)}elementEnd(r){for(let s=0;s<this.queries.length;s++)this.queries[s].elementEnd(r)}embeddedTView(r){let s=null;for(let a=0;a<this.length;a++){const l=null!==s?s.length:0,d=this.getByIndex(a).embeddedTView(r,l);d&&(d.indexInDeclarationView=a,null!==s?s.push(d):s=[d])}return null!==s?new dv(s):null}template(r,s){for(let a=0;a<this.queries.length;a++)this.queries[a].template(r,s)}getByIndex(r){return this.queries[r]}get length(){return this.queries.length}track(r){this.queries.push(r)}}class hv{constructor(r,s=-1){this.metadata=r,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=s}elementStart(r,s){this.isApplyingToNode(s)&&this.matchTNode(r,s)}elementEnd(r){this._declarationNodeIndex===r.index&&(this._appliesToNextNode=!1)}template(r,s){this.elementStart(r,s)}embeddedTView(r,s){return this.isApplyingToNode(r)?(this.crossesNgTemplate=!0,this.addMatch(-r.index,s),new hv(this.metadata)):null}isApplyingToNode(r){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const s=this._declarationNodeIndex;let a=r.parent;for(;null!==a&&8&a.type&&a.index!==s;)a=a.parent;return s===(null!==a?a.index:-1)}return this._appliesToNextNode}matchTNode(r,s){const a=this.metadata.predicate;if(Array.isArray(a))for(let l=0;l<a.length;l++){const d=a[l];this.matchTNodeWithReadOption(r,s,Kw(s,d)),this.matchTNodeWithReadOption(r,s,He(s,r,d,!1,!1))}else a===xg?4&s.type&&this.matchTNodeWithReadOption(r,s,-1):this.matchTNodeWithReadOption(r,s,He(s,r,a,!1,!1))}matchTNodeWithReadOption(r,s,a){if(null!==a){const l=this.metadata.read;if(null!==l)if(l===Dg||l===Fy||l===xg&&4&s.type)this.addMatch(s.index,-2);else{const d=He(s,r,l,!1,!1);null!==d&&this.addMatch(s.index,d)}else this.addMatch(s.index,a)}}addMatch(r,s){null===this.matches?this.matches=[r,s]:this.matches.push(r,s)}}function Kw(n,r){const s=n.localNames;if(null!==s)for(let a=0;a<s.length;a+=2)if(s[a]===r)return s[a+1];return null}function Qw(n,r,s,a){return-1===s?function Yw(n,r){return 11&n.type?Tf(n,r):4&n.type?ky(n,r):null}(r,n):-2===s?function Jw(n,r,s){return s===Dg?Tf(r,n):s===xg?ky(r,n):s===Fy?L0(r,n):void 0}(n,r,a):xt(n,n[1],s,r)}function V0(n,r,s,a){const l=r[19].queries[a];if(null===l.matches){const d=n.data,v=s.matches,C=[];for(let A=0;A<v.length;A+=2){const V=v[A];C.push(V<0?null:Qw(r,d[V],v[A+1],s.metadata.read))}l.matches=C}return l.matches}function fv(n,r,s,a){const l=n.queries.getByIndex(s),d=l.matches;if(null!==d){const v=V0(n,r,l,s);for(let C=0;C<d.length;C+=2){const A=d[C];if(A>0)a.push(v[C/2]);else{const V=d[C+1],q=r[-A];for(let re=10;re<q.length;re++){const ve=q[re];ve[17]===ve[3]&&fv(ve[1],ve,V,a)}if(null!==q[9]){const re=q[9];for(let ve=0;ve<re.length;ve++){const ke=re[ve];fv(ke[1],ke,V,a)}}}}}return a}function B0(n){const r=y(),s=D(),a=Zs();zo(a+1);const l=q0(s,a);if(n.dirty&&bn(r)===(2==(2&l.metadata.flags))){if(null===l.matches)n.reset([]);else{const d=l.crossesNgTemplate?fv(s,r,a,[]):V0(s,r,l,a);n.reset(d,pw),n.notifyOnChanges()}return!0}return!1}function j0(n,r,s){const a=D();a.firstCreatePass&&(Z0(a,new U0(n,r,s),-1),2==(2&r)&&(a.staticViewQueries=!0)),G0(a,y(),r)}function $0(n,r,s,a){const l=D();if(l.firstCreatePass){const d=ee();Z0(l,new U0(r,s,a),d.index),function eI(n,r){const s=n.contentQueries||(n.contentQueries=[]);r!==(s.length?s[s.length-1]:-1)&&s.push(n.queries.length-1,r)}(l,n),2==(2&s)&&(l.staticContentQueries=!0)}G0(l,y(),s)}function H0(){return function Xw(n,r){return n[19].queries[r].queryList}(y(),Zs())}function G0(n,r,s){const a=new av(4==(4&s));Th(n,r,a,a.destroy),null===r[19]&&(r[19]=new cv),r[19].queries.push(new lv(a))}function Z0(n,r,s){null===n.queries&&(n.queries=new dv),n.queries.track(new hv(r,s))}function q0(n,r){return n.queries.getByIndex(r)}function Vy(...n){}const lE=new Wt("Application Initializer");let vv=(()=>{class n{constructor(s){this.appInits=s,this.resolve=Vy,this.reject=Vy,this.initialized=!1,this.done=!1,this.donePromise=new Promise((a,l)=>{this.resolve=a,this.reject=l})}runInitializers(){if(this.initialized)return;const s=[],a=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let l=0;l<this.appInits.length;l++){const d=this.appInits[l]();if(nf(d))s.push(d);else if(x_(d)){const v=new Promise((C,A)=>{d.subscribe({complete:C,error:A})});s.push(v)}}Promise.all(s).then(()=>{a()}).catch(l=>{this.reject(l)}),0===s.length&&a(),this.initialized=!0}}return n.\u0275fac=function(s){return new(s||n)(an(lE,8))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const cE=new Wt("AppId",{providedIn:"root",factory:function dE(){return`${Ev()}${Ev()}${Ev()}`}});function Ev(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const hE=new Wt("Platform Initializer"),fE=new Wt("Platform ID"),pE=new Wt("appBootstrapListener");let gE=(()=>{class n{log(s){console.log(s)}warn(s){console.warn(s)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();const wv=new Wt("LocaleId",{providedIn:"root",factory:()=>Vn(wv,Vt.Optional|Vt.SkipSelf)||function _I(){return"undefined"!=typeof $localize&&$localize.locale||vf}()}),vI=new Wt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class EI{constructor(r,s){this.ngModuleFactory=r,this.componentFactories=s}}let wI=(()=>{class n{compileModuleSync(s){return new sv(s)}compileModuleAsync(s){return Promise.resolve(this.compileModuleSync(s))}compileModuleAndAllComponentsSync(s){const a=this.compileModuleSync(s),d=h($n(s).declarations).reduce((v,C)=>{const A=En(C);return A&&v.push(new iv(A)),v},[]);return new EI(a,d)}compileModuleAndAllComponentsAsync(s){return Promise.resolve(this.compileModuleAndAllComponentsSync(s))}clearCache(){}clearCacheFor(s){}getModuleId(s){}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const CI=(()=>Promise.resolve(0))();function Iv(n){"undefined"==typeof Zone?CI.then(()=>{n&&n.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",n)}class Eu{constructor({enableLongStackTrace:r=!1,shouldCoalesceEventChangeDetection:s=!1,shouldCoalesceRunChangeDetection:a=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new al(!1),this.onMicrotaskEmpty=new al(!1),this.onStable=new al(!1),this.onError=new al(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched();const l=this;l._nesting=0,l._outer=l._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(l._inner=l._inner.fork(new Zone.TaskTrackingZoneSpec)),r&&Zone.longStackTraceZoneSpec&&(l._inner=l._inner.fork(Zone.longStackTraceZoneSpec)),l.shouldCoalesceEventChangeDetection=!a&&s,l.shouldCoalesceRunChangeDetection=a,l.lastRequestAnimationFrameId=-1,l.nativeRequestAnimationFrame=function bI(){let n=fn.requestAnimationFrame,r=fn.cancelAnimationFrame;if("undefined"!=typeof Zone&&n&&r){const s=n[Zone.__symbol__("OriginalDelegate")];s&&(n=s);const a=r[Zone.__symbol__("OriginalDelegate")];a&&(r=a)}return{nativeRequestAnimationFrame:n,nativeCancelAnimationFrame:r}}().nativeRequestAnimationFrame,function AI(n){const r=()=>{!function TI(n){n.isCheckStableRunning||-1!==n.lastRequestAnimationFrameId||(n.lastRequestAnimationFrameId=n.nativeRequestAnimationFrame.call(fn,()=>{n.fakeTopEventTask||(n.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{n.lastRequestAnimationFrameId=-1,bv(n),n.isCheckStableRunning=!0,Cv(n),n.isCheckStableRunning=!1},void 0,()=>{},()=>{})),n.fakeTopEventTask.invoke()}),bv(n))}(n)};n._inner=n._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(s,a,l,d,v,C)=>{try{return mE(n),s.invokeTask(l,d,v,C)}finally{(n.shouldCoalesceEventChangeDetection&&"eventTask"===d.type||n.shouldCoalesceRunChangeDetection)&&r(),yE(n)}},onInvoke:(s,a,l,d,v,C,A)=>{try{return mE(n),s.invoke(l,d,v,C,A)}finally{n.shouldCoalesceRunChangeDetection&&r(),yE(n)}},onHasTask:(s,a,l,d)=>{s.hasTask(l,d),a===l&&("microTask"==d.change?(n._hasPendingMicrotasks=d.microTask,bv(n),Cv(n)):"macroTask"==d.change&&(n.hasPendingMacrotasks=d.macroTask))},onHandleError:(s,a,l,d)=>(s.handleError(l,d),n.runOutsideAngular(()=>n.onError.emit(d)),!1)})}(l)}static isInAngularZone(){return"undefined"!=typeof Zone&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Eu.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")}static assertNotInAngularZone(){if(Eu.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")}run(r,s,a){return this._inner.run(r,s,a)}runTask(r,s,a,l){const d=this._inner,v=d.scheduleEventTask("NgZoneEvent: "+l,r,DI,Vy,Vy);try{return d.runTask(v,s,a)}finally{d.cancelTask(v)}}runGuarded(r,s,a){return this._inner.runGuarded(r,s,a)}runOutsideAngular(r){return this._outer.run(r)}}const DI={};function Cv(n){if(0==n._nesting&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function bv(n){n.hasPendingMicrotasks=!!(n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&-1!==n.lastRequestAnimationFrameId)}function mE(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function yE(n){n._nesting--,Cv(n)}class SI{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new al,this.onMicrotaskEmpty=new al,this.onStable=new al,this.onError=new al}run(r,s,a){return r.apply(s,a)}runGuarded(r,s,a){return r.apply(s,a)}runOutsideAngular(r){return r()}runTask(r,s,a,l){return r.apply(s,a)}}let _E=(()=>{class n{constructor(s){this._ngZone=s,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),s.run(()=>{this.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Eu.assertNotInAngularZone(),Iv(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Iv(()=>{for(;0!==this._callbacks.length;){let s=this._callbacks.pop();clearTimeout(s.timeoutId),s.doneCb(this._didWork)}this._didWork=!1});else{let s=this.getPendingTasks();this._callbacks=this._callbacks.filter(a=>!a.updateCb||!a.updateCb(s)||(clearTimeout(a.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(s=>({source:s.source,creationLocation:s.creationLocation,data:s.data})):[]}addCallback(s,a,l){let d=-1;a&&a>0&&(d=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==d),s(this._didWork,this.getPendingTasks())},a)),this._callbacks.push({doneCb:s,timeoutId:d,updateCb:l})}whenStable(s,a,l){if(l&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(s,a,l),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}findProviders(s,a,l){return[]}}return n.\u0275fac=function(s){return new(s||n)(an(Eu))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})(),vE=(()=>{class n{constructor(){this._applications=new Map,Dv.addToWindow(this)}registerApplication(s,a){this._applications.set(s,a)}unregisterApplication(s){this._applications.delete(s)}unregisterAllApplications(){this._applications.clear()}getTestability(s){return this._applications.get(s)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(s,a=!0){return Dv.findTestabilityInTree(this,s,a)}}return n.\u0275fac=function(s){return new(s||n)},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();class xI{addToWindow(r){}findTestabilityInTree(r,s,a){return null}}function MI(n){Dv=n}let wu,Dv=new xI;const EE=new Wt("AllowMultipleToken");class PI{constructor(r,s){this.name=r,this.token=s}}function wE(n,r,s=[]){const a=`Platform: ${r}`,l=new Wt(a);return(d=[])=>{let v=IE();if(!v||v.injector.get(EE,!1))if(n)n(s.concat(d).concat({provide:l,useValue:!0}));else{const C=s.concat(d).concat({provide:l,useValue:!0},{provide:Fh,useValue:"platform"});!function NI(n){if(wu&&!wu.destroyed&&!wu.injector.get(EE,!1))throw new Xe(400,"");wu=n.get(CE);const r=n.get(hE,null);r&&r.forEach(s=>s())}(Ea.create({providers:C,name:a}))}return function kI(n){const r=IE();if(!r)throw new Xe(401,"");return r}()}}function IE(){return wu&&!wu.destroyed?wu:null}let CE=(()=>{class n{constructor(s){this._injector=s,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(s,a){const C=function FI(n,r){let s;return s="noop"===n?new SI:("zone.js"===n?void 0:n)||new Eu({enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!!(null==r?void 0:r.ngZoneEventCoalescing),shouldCoalesceRunChangeDetection:!!(null==r?void 0:r.ngZoneRunCoalescing)}),s}(a?a.ngZone:void 0,{ngZoneEventCoalescing:a&&a.ngZoneEventCoalescing||!1,ngZoneRunCoalescing:a&&a.ngZoneRunCoalescing||!1}),A=[{provide:Eu,useValue:C}];return C.run(()=>{const V=Ea.create({providers:A,parent:this.injector,name:s.moduleType.name}),q=s.create(V),re=q.injector.get(Ts,null);if(!re)throw new Xe(402,"");return C.runOutsideAngular(()=>{const ve=C.onError.subscribe({next:ke=>{re.handleError(ke)}});q.onDestroy(()=>{Av(this._modules,q),ve.unsubscribe()})}),function LI(n,r,s){try{const a=s();return nf(a)?a.catch(l=>{throw r.runOutsideAngular(()=>n.handleError(l)),l}):a}catch(a){throw r.runOutsideAngular(()=>n.handleError(a)),a}}(re,C,()=>{const ve=q.injector.get(vv);return ve.runInitializers(),ve.donePromise.then(()=>(function wg(n){_t(n,"Expected localeId to be defined"),"string"==typeof n&&(by=n.toLowerCase().replace(/_/g,"-"))}(q.injector.get(wv,vf)||vf),this._moduleDoBootstrap(q),q))})})}bootstrapModule(s,a=[]){const l=bE({},a);return function RI(n,r,s){const a=new sv(s);return Promise.resolve(a)}(0,0,s).then(d=>this.bootstrapModuleFactory(d,l))}_moduleDoBootstrap(s){const a=s.injector.get(Tv);if(s._bootstrapComponents.length>0)s._bootstrapComponents.forEach(l=>a.bootstrap(l));else{if(!s.instance.ngDoBootstrap)throw new Xe(403,"");s.instance.ngDoBootstrap(a)}this._modules.push(s)}onDestroy(s){this._destroyListeners.push(s)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Xe(404,"");this._modules.slice().forEach(s=>s.destroy()),this._destroyListeners.forEach(s=>s()),this._destroyed=!0}get destroyed(){return this._destroyed}}return n.\u0275fac=function(s){return new(s||n)(an(Ea))},n.\u0275prov=It({token:n,factory:n.\u0275fac}),n})();function bE(n,r){return Array.isArray(r)?r.reduce(bE,n):Object.assign(Object.assign({},n),r)}let Tv=(()=>{class n{constructor(s,a,l,d,v){this._zone=s,this._injector=a,this._exceptionHandler=l,this._componentFactoryResolver=d,this._initStatus=v,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const C=new Y.y(V=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{V.next(this._stable),V.complete()})}),A=new Y.y(V=>{let q;this._zone.runOutsideAngular(()=>{q=this._zone.onStable.subscribe(()=>{Eu.assertNotInAngularZone(),Iv(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,V.next(!0))})})});const re=this._zone.onUnstable.subscribe(()=>{Eu.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{V.next(!1)}))});return()=>{q.unsubscribe(),re.unsubscribe()}});this.isStable=(0,pe.T)(C,A.pipe((0,ce.B)()))}bootstrap(s,a){if(!this._initStatus.done)throw new Xe(405,"");let l;l=s instanceof m0?s:this._componentFactoryResolver.resolveComponentFactory(s),this.componentTypes.push(l.componentType);const d=function OI(n){return n.isBoundToModule}(l)?void 0:this._injector.get(Af),C=l.create(Ea.NULL,[],a||l.selector,d),A=C.location.nativeElement,V=C.injector.get(_E,null),q=V&&C.injector.get(vE);return V&&q&&q.registerApplication(A,V),C.onDestroy(()=>{this.detachView(C.hostView),Av(this.components,C),q&&q.unregisterApplication(A)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new Xe(101,"");try{this._runningTick=!0;for(let s of this._views)s.detectChanges()}catch(s){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(s))}finally{this._runningTick=!1}}attachView(s){const a=s;this._views.push(a),a.attachToAppRef(this)}detachView(s){const a=s;Av(this._views,a),a.detachFromAppRef()}_loadComponent(s){this.attachView(s.hostView),this.tick(),this.components.push(s),this._injector.get(pE,[]).concat(this._bootstrapListeners).forEach(l=>l(s))}ngOnDestroy(){this._views.slice().forEach(s=>s.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}get viewCount(){return this._views.length}}return n.\u0275fac=function(s){return new(s||n)(an(Eu),an(Ea),an(Ts),an(Py),an(vv))},n.\u0275prov=It({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Av(n,r){const s=n.indexOf(r);s>-1&&n.splice(s,1)}let TE=!0,AE=!1;function VI(){return AE=!0,TE}function BI(){if(AE)throw new Error("Cannot enable prod mode after platform setup.");TE=!1}let jI=(()=>{class n{}return n.__NG_ELEMENT_ID__=$I,n})();function $I(n){return function HI(n,r,s){if(_r(n)&&!s){const a=_n(n.index,r);return new Tg(a,a)}return 47&n.type?new Tg(r[16],r):null}(ee(),y(),16==(16&n))}class RE{constructor(){}supports(r){return Dd(r)}create(r){return new KI(r)}}const WI=(n,r)=>r;class KI{constructor(r){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=r||WI}forEachItem(r){let s;for(s=this._itHead;null!==s;s=s._next)r(s)}forEachOperation(r){let s=this._itHead,a=this._removalsHead,l=0,d=null;for(;s||a;){const v=!a||s&&s.currentIndex<PE(a,l,d)?s:a,C=PE(v,l,d),A=v.currentIndex;if(v===a)l--,a=a._nextRemoved;else if(s=s._next,null==v.previousIndex)l++;else{d||(d=[]);const V=C-l,q=A-l;if(V!=q){for(let ve=0;ve<V;ve++){const ke=ve<d.length?d[ve]:d[ve]=0,it=ke+ve;q<=it&&it<V&&(d[ve]=ke+1)}d[v.previousIndex]=q-V}}C!==A&&r(v,C,A)}}forEachPreviousItem(r){let s;for(s=this._previousItHead;null!==s;s=s._nextPrevious)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachMovedItem(r){let s;for(s=this._movesHead;null!==s;s=s._nextMoved)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}forEachIdentityChange(r){let s;for(s=this._identityChangesHead;null!==s;s=s._nextIdentityChange)r(s)}diff(r){if(null==r&&(r=[]),!Dd(r))throw new Xe(900,"");return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let l,d,v,s=this._itHead,a=!1;if(Array.isArray(r)){this.length=r.length;for(let C=0;C<this.length;C++)d=r[C],v=this._trackByFn(C,d),null!==s&&Object.is(s.trackById,v)?(a&&(s=this._verifyReinsertion(s,d,v,C)),Object.is(s.item,d)||this._addIdentityChange(s,d)):(s=this._mismatch(s,d,v,C),a=!0),s=s._next}else l=0,function __(n,r){if(Array.isArray(n))for(let s=0;s<n.length;s++)r(n[s]);else{const s=n[Oc()]();let a;for(;!(a=s.next()).done;)r(a.value)}}(r,C=>{v=this._trackByFn(l,C),null!==s&&Object.is(s.trackById,v)?(a&&(s=this._verifyReinsertion(s,C,v,l)),Object.is(s.item,C)||this._addIdentityChange(s,C)):(s=this._mismatch(s,C,v,l),a=!0),s=s._next,l++}),this.length=l;return this._truncate(s),this.collection=r,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let r;for(r=this._previousItHead=this._itHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._additionsHead;null!==r;r=r._nextAdded)r.previousIndex=r.currentIndex;for(this._additionsHead=this._additionsTail=null,r=this._movesHead;null!==r;r=r._nextMoved)r.previousIndex=r.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(r,s,a,l){let d;return null===r?d=this._itTail:(d=r._prev,this._remove(r)),null!==(r=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._reinsertAfter(r,d,l)):null!==(r=null===this._linkedRecords?null:this._linkedRecords.get(a,l))?(Object.is(r.item,s)||this._addIdentityChange(r,s),this._moveAfter(r,d,l)):r=this._addAfter(new YI(s,a),d,l),r}_verifyReinsertion(r,s,a,l){let d=null===this._unlinkedRecords?null:this._unlinkedRecords.get(a,null);return null!==d?r=this._reinsertAfter(d,r._prev,l):r.currentIndex!=l&&(r.currentIndex=l,this._addToMoves(r,l)),r}_truncate(r){for(;null!==r;){const s=r._next;this._addToRemovals(this._unlink(r)),r=s}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(r,s,a){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(r);const l=r._prevRemoved,d=r._nextRemoved;return null===l?this._removalsHead=d:l._nextRemoved=d,null===d?this._removalsTail=l:d._prevRemoved=l,this._insertAfter(r,s,a),this._addToMoves(r,a),r}_moveAfter(r,s,a){return this._unlink(r),this._insertAfter(r,s,a),this._addToMoves(r,a),r}_addAfter(r,s,a){return this._insertAfter(r,s,a),this._additionsTail=null===this._additionsTail?this._additionsHead=r:this._additionsTail._nextAdded=r,r}_insertAfter(r,s,a){const l=null===s?this._itHead:s._next;return r._next=l,r._prev=s,null===l?this._itTail=r:l._prev=r,null===s?this._itHead=r:s._next=r,null===this._linkedRecords&&(this._linkedRecords=new OE),this._linkedRecords.put(r),r.currentIndex=a,r}_remove(r){return this._addToRemovals(this._unlink(r))}_unlink(r){null!==this._linkedRecords&&this._linkedRecords.remove(r);const s=r._prev,a=r._next;return null===s?this._itHead=a:s._next=a,null===a?this._itTail=s:a._prev=s,r}_addToMoves(r,s){return r.previousIndex===s||(this._movesTail=null===this._movesTail?this._movesHead=r:this._movesTail._nextMoved=r),r}_addToRemovals(r){return null===this._unlinkedRecords&&(this._unlinkedRecords=new OE),this._unlinkedRecords.put(r),r.currentIndex=null,r._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=r,r._prevRemoved=null):(r._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=r),r}_addIdentityChange(r,s){return r.item=s,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=r:this._identityChangesTail._nextIdentityChange=r,r}}class YI{constructor(r,s){this.item=r,this.trackById=s,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class QI{constructor(){this._head=null,this._tail=null}add(r){null===this._head?(this._head=this._tail=r,r._nextDup=null,r._prevDup=null):(this._tail._nextDup=r,r._prevDup=this._tail,r._nextDup=null,this._tail=r)}get(r,s){let a;for(a=this._head;null!==a;a=a._nextDup)if((null===s||s<=a.currentIndex)&&Object.is(a.trackById,r))return a;return null}remove(r){const s=r._prevDup,a=r._nextDup;return null===s?this._head=a:s._nextDup=a,null===a?this._tail=s:a._prevDup=s,null===this._head}}class OE{constructor(){this.map=new Map}put(r){const s=r.trackById;let a=this.map.get(s);a||(a=new QI,this.map.set(s,a)),a.add(r)}get(r,s){const l=this.map.get(r);return l?l.get(r,s):null}remove(r){const s=r.trackById;return this.map.get(s).remove(r)&&this.map.delete(s),r}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function PE(n,r,s){const a=n.previousIndex;if(null===a)return a;let l=0;return s&&a<s.length&&(l=s[a]),a+r+l}class NE{constructor(){}supports(r){return r instanceof Map||Td(r)}create(){return new JI}}class JI{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(r){let s;for(s=this._mapHead;null!==s;s=s._next)r(s)}forEachPreviousItem(r){let s;for(s=this._previousMapHead;null!==s;s=s._nextPrevious)r(s)}forEachChangedItem(r){let s;for(s=this._changesHead;null!==s;s=s._nextChanged)r(s)}forEachAddedItem(r){let s;for(s=this._additionsHead;null!==s;s=s._nextAdded)r(s)}forEachRemovedItem(r){let s;for(s=this._removalsHead;null!==s;s=s._nextRemoved)r(s)}diff(r){if(r){if(!(r instanceof Map||Td(r)))throw new Xe(900,"")}else r=new Map;return this.check(r)?this:null}onDestroy(){}check(r){this._reset();let s=this._mapHead;if(this._appendAfter=null,this._forEach(r,(a,l)=>{if(s&&s.key===l)this._maybeAddToChanges(s,a),this._appendAfter=s,s=s._next;else{const d=this._getOrCreateRecordForKey(l,a);s=this._insertBeforeOrAppend(s,d)}}),s){s._prev&&(s._prev._next=null),this._removalsHead=s;for(let a=s;null!==a;a=a._nextRemoved)a===this._mapHead&&(this._mapHead=null),this._records.delete(a.key),a._nextRemoved=a._next,a.previousValue=a.currentValue,a.currentValue=null,a._prev=null,a._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(r,s){if(r){const a=r._prev;return s._next=r,s._prev=a,r._prev=s,a&&(a._next=s),r===this._mapHead&&(this._mapHead=s),this._appendAfter=r,r}return this._appendAfter?(this._appendAfter._next=s,s._prev=this._appendAfter):this._mapHead=s,this._appendAfter=s,null}_getOrCreateRecordForKey(r,s){if(this._records.has(r)){const l=this._records.get(r);this._maybeAddToChanges(l,s);const d=l._prev,v=l._next;return d&&(d._next=v),v&&(v._prev=d),l._next=null,l._prev=null,l}const a=new XI(r);return this._records.set(r,a),a.currentValue=s,this._addToAdditions(a),a}_reset(){if(this.isDirty){let r;for(this._previousMapHead=this._mapHead,r=this._previousMapHead;null!==r;r=r._next)r._nextPrevious=r._next;for(r=this._changesHead;null!==r;r=r._nextChanged)r.previousValue=r.currentValue;for(r=this._additionsHead;null!=r;r=r._nextAdded)r.previousValue=r.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(r,s){Object.is(s,r.currentValue)||(r.previousValue=r.currentValue,r.currentValue=s,this._addToChanges(r))}_addToAdditions(r){null===this._additionsHead?this._additionsHead=this._additionsTail=r:(this._additionsTail._nextAdded=r,this._additionsTail=r)}_addToChanges(r){null===this._changesHead?this._changesHead=this._changesTail=r:(this._changesTail._nextChanged=r,this._changesTail=r)}_forEach(r,s){r instanceof Map?r.forEach(s):Object.keys(r).forEach(a=>s(r[a],a))}}class XI{constructor(r){this.key=r,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function kE(){return new Ov([new RE])}let Ov=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(null!=a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||kE()),deps:[[n,new Ei,new Hs]]}}find(s){const a=this.factories.find(l=>l.supports(s));if(null!=a)return a;throw new Xe(901,"")}}return n.\u0275prov=It({token:n,providedIn:"root",factory:kE}),n})();function FE(){return new Pv([new NE])}let Pv=(()=>{class n{constructor(s){this.factories=s}static create(s,a){if(a){const l=a.factories.slice();s=s.concat(l)}return new n(s)}static extend(s){return{provide:n,useFactory:a=>n.create(s,a||FE()),deps:[[n,new Ei,new Hs]]}}find(s){const a=this.factories.find(d=>d.supports(s));if(a)return a;throw new Xe(901,"")}}return n.\u0275prov=It({token:n,providedIn:"root",factory:FE}),n})();const nC=wE(null,"core",[{provide:fE,useValue:"unknown"},{provide:CE,deps:[Ea]},{provide:vE,deps:[]},{provide:gE,deps:[]}]);let rC=(()=>{class n{constructor(s){}}return n.\u0275fac=function(s){return new(s||n)(an(Tv))},n.\u0275mod=Re({type:n}),n.\u0275inj=kt({}),n})()},2382:(St,Be,L)=>{L.d(Be,{Fj:()=>ue,NI:()=>br,u:()=>Yt,cw:()=>Pn,sg:()=>Ti,u5:()=>un,JJ:()=>Fr,JL:()=>ri,YN:()=>Ri,wV:()=>me,UX:()=>zi,EJ:()=>ni,kI:()=>be,_Y:()=>xs,Kr:()=>Ms});var g=L(5e3),p=L(9808),Y=L(8306),pe=L(4742),ce=L(8421),we=L(7669),Te=L(5403),Ae=L(3268),Me=L(1810),ie=L(8996),Se=L(4004);let ft=(()=>{class k{constructor(M,y){this._renderer=M,this._elementRef=y,this.onChange=D=>{},this.onTouched=()=>{}}setProperty(M,y){this._renderer.setProperty(this._elementRef.nativeElement,M,y)}registerOnTouched(M){this.onTouched=M}registerOnChange(M){this.onChange=M}setDisabledState(M){this.setProperty("disabled",M)}}return k.\u0275fac=function(M){return new(M||k)(g.Y36(g.Qsj),g.Y36(g.SBq))},k.\u0275dir=g.lG2({type:k}),k})(),qe=(()=>{class k extends ft{}return k.\u0275fac=function(){let R;return function(y){return(R||(R=g.n5z(k)))(y||k)}}(),k.\u0275dir=g.lG2({type:k,features:[g.qOj]}),k})();const Xe=new g.OlP("NgValueAccessor"),Je={provide:Xe,useExisting:(0,g.Gpc)(()=>ue),multi:!0},vt=new g.OlP("CompositionEventMode");let ue=(()=>{class k extends ft{constructor(M,y,D){super(M,y),this._compositionMode=D,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Tt(){const k=(0,p.q)()?(0,p.q)().getUserAgent():"";return/android (\d+)/.test(k.toLowerCase())}())}writeValue(M){this.setProperty("value",null==M?"":M)}_handleInput(M){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(M)}_compositionStart(){this._composing=!0}_compositionEnd(M){this._composing=!1,this._compositionMode&&this.onChange(M)}}return k.\u0275fac=function(M){return new(M||k)(g.Y36(g.Qsj),g.Y36(g.SBq),g.Y36(vt,8))},k.\u0275dir=g.lG2({type:k,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(M,y){1&M&&g.NdJ("input",function(W){return y._handleInput(W.target.value)})("blur",function(){return y.onTouched()})("compositionstart",function(){return y._compositionStart()})("compositionend",function(W){return y._compositionEnd(W.target.value)})},features:[g._Bn([Je]),g.qOj]}),k})();function Ce(k){return null==k||0===k.length}function We(k){return null!=k&&"number"==typeof k.length}const st=new g.OlP("NgValidators"),et=new g.OlP("NgAsyncValidators"),Ne=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class be{static min(R){return function fe(k){return R=>{if(Ce(R.value)||Ce(k))return null;const M=parseFloat(R.value);return!isNaN(M)&&M<k?{min:{min:k,actual:R.value}}:null}}(R)}static max(R){return function Oe(k){return R=>{if(Ce(R.value)||Ce(k))return null;const M=parseFloat(R.value);return!isNaN(M)&&M>k?{max:{max:k,actual:R.value}}:null}}(R)}static required(R){return function Ee(k){return Ce(k.value)?{required:!0}:null}(R)}static requiredTrue(R){return function rt(k){return!0===k.value?null:{required:!0}}(R)}static email(R){return function Ue(k){return Ce(k.value)||Ne.test(k.value)?null:{email:!0}}(R)}static minLength(R){return function en(k){return R=>Ce(R.value)||!We(R.value)?null:R.value.length<k?{minlength:{requiredLength:k,actualLength:R.value.length}}:null}(R)}static maxLength(R){return function $t(k){return R=>We(R.value)&&R.value.length>k?{maxlength:{requiredLength:k,actualLength:R.value.length}}:null}(R)}static pattern(R){return function sn(k){if(!k)return _t;let R,M;return"string"==typeof k?(M="","^"!==k.charAt(0)&&(M+="^"),M+=k,"$"!==k.charAt(k.length-1)&&(M+="$"),R=new RegExp(M)):(M=k.toString(),R=k),y=>{if(Ce(y.value))return null;const D=y.value;return R.test(D)?null:{pattern:{requiredPattern:M,actualValue:D}}}}(R)}static nullValidator(R){return null}static compose(R){return kt(R)}static composeAsync(R){return kn(R)}}function _t(k){return null}function ct(k){return null!=k}function Qt(k){const R=(0,g.QGY)(k)?(0,ie.D)(k):k;return(0,g.CqO)(R),R}function Pt(k){let R={};return k.forEach(M=>{R=null!=M?Object.assign(Object.assign({},R),M):R}),0===Object.keys(R).length?null:R}function Tn(k,R){return R.map(M=>M(k))}function pn(k){return k.map(R=>function It(k){return!k.validate}(R)?R:M=>R.validate(M))}function kt(k){if(!k)return null;const R=k.filter(ct);return 0==R.length?null:function(M){return Pt(Tn(M,R))}}function yn(k){return null!=k?kt(pn(k)):null}function kn(k){if(!k)return null;const R=k.filter(ct);return 0==R.length?null:function(M){return function le(...k){const R=(0,we.jO)(k),{args:M,keys:y}=(0,pe.D)(k),D=new Y.y(W=>{const{length:ee}=M;if(!ee)return void W.complete();const ye=new Array(ee);let Le=ee,nt=ee;for(let Ut=0;Ut<ee;Ut++){let Ct=!1;(0,ce.Xf)(M[Ut]).subscribe((0,Te.x)(W,vn=>{Ct||(Ct=!0,nt--),ye[Ut]=vn},()=>Le--,void 0,()=>{(!Le||!Ct)&&(nt||W.next(y?(0,Me.n)(y,ye):ye),W.complete())}))}});return R?D.pipe((0,Ae.Z)(R)):D}(Tn(M,R).map(Qt)).pipe((0,Se.U)(Pt))}}function zn(k){return null!=k?kn(pn(k)):null}function Qr(k,R){return null===k?[R]:Array.isArray(k)?[...k,R]:[k,R]}function rr(k){return k._rawValidators}function wr(k){return k._rawAsyncValidators}function Wn(k){return k?Array.isArray(k)?k:[k]:[]}function xr(k,R){return Array.isArray(k)?k.includes(R):k===R}function jn(k,R){const M=Wn(R);return Wn(k).forEach(D=>{xr(M,D)||M.push(D)}),M}function Vt(k,R){return Wn(R).filter(M=>!xr(k,M))}class Zt{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(R){this._rawValidators=R||[],this._composedValidatorFn=yn(this._rawValidators)}_setAsyncValidators(R){this._rawAsyncValidators=R||[],this._composedAsyncValidatorFn=zn(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(R){this._onDestroyCallbacks.push(R)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(R=>R()),this._onDestroyCallbacks=[]}reset(R){this.control&&this.control.reset(R)}hasError(R,M){return!!this.control&&this.control.hasError(R,M)}getError(R,M){return this.control?this.control.getError(R,M):null}}class An extends Zt{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class tn extends Zt{get formDirective(){return null}get path(){return null}}class Br{constructor(R){this._cd=R}is(R){var M,y,D;return"submitted"===R?!!(null===(M=this._cd)||void 0===M?void 0:M.submitted):!!(null===(D=null===(y=this._cd)||void 0===y?void 0:y.control)||void 0===D?void 0:D[R])}}let Fr=(()=>{class k extends Br{constructor(M){super(M)}}return k.\u0275fac=function(M){return new(M||k)(g.Y36(An,2))},k.\u0275dir=g.lG2({type:k,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(M,y){2&M&&g.ekj("ng-untouched",y.is("untouched"))("ng-touched",y.is("touched"))("ng-pristine",y.is("pristine"))("ng-dirty",y.is("dirty"))("ng-valid",y.is("valid"))("ng-invalid",y.is("invalid"))("ng-pending",y.is("pending"))},features:[g.qOj]}),k})(),ri=(()=>{class k extends Br{constructor(M){super(M)}}return k.\u0275fac=function(M){return new(M||k)(g.Y36(tn,10))},k.\u0275dir=g.lG2({type:k,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(M,y){2&M&&g.ekj("ng-untouched",y.is("untouched"))("ng-touched",y.is("touched"))("ng-pristine",y.is("pristine"))("ng-dirty",y.is("dirty"))("ng-valid",y.is("valid"))("ng-invalid",y.is("invalid"))("ng-pending",y.is("pending"))("ng-submitted",y.is("submitted"))},features:[g.qOj]}),k})();function gn(k,R){ge(k,R),R.valueAccessor.writeValue(k.value),function Re(k,R){R.valueAccessor.registerOnChange(M=>{k._pendingValue=M,k._pendingChange=!0,k._pendingDirty=!0,"change"===k.updateOn&&Ht(k,R)})}(k,R),function In(k,R){const M=(y,D)=>{R.valueAccessor.writeValue(y),D&&R.viewToModelUpdate(y)};k.registerOnChange(M),R._registerOnDestroy(()=>{k._unregisterOnChange(M)})}(k,R),function yt(k,R){R.valueAccessor.registerOnTouched(()=>{k._pendingTouched=!0,"blur"===k.updateOn&&k._pendingChange&&Ht(k,R),"submit"!==k.updateOn&&k.markAsTouched()})}(k,R),function se(k,R){if(R.valueAccessor.setDisabledState){const M=y=>{R.valueAccessor.setDisabledState(y)};k.registerOnDisabledChange(M),R._registerOnDestroy(()=>{k._unregisterOnDisabledChange(M)})}}(k,R)}function qt(k,R,M=!0){const y=()=>{};R.valueAccessor&&(R.valueAccessor.registerOnChange(y),R.valueAccessor.registerOnTouched(y)),Ve(k,R),k&&(R._invokeOnDestroyCallbacks(),k._registerOnCollectionChange(()=>{}))}function he(k,R){k.forEach(M=>{M.registerOnValidatorChange&&M.registerOnValidatorChange(R)})}function ge(k,R){const M=rr(k);null!==R.validator?k.setValidators(Qr(M,R.validator)):"function"==typeof M&&k.setValidators([M]);const y=wr(k);null!==R.asyncValidator?k.setAsyncValidators(Qr(y,R.asyncValidator)):"function"==typeof y&&k.setAsyncValidators([y]);const D=()=>k.updateValueAndValidity();he(R._rawValidators,D),he(R._rawAsyncValidators,D)}function Ve(k,R){let M=!1;if(null!==k){if(null!==R.validator){const D=rr(k);if(Array.isArray(D)&&D.length>0){const W=D.filter(ee=>ee!==R.validator);W.length!==D.length&&(M=!0,k.setValidators(W))}}if(null!==R.asyncValidator){const D=wr(k);if(Array.isArray(D)&&D.length>0){const W=D.filter(ee=>ee!==R.asyncValidator);W.length!==D.length&&(M=!0,k.setAsyncValidators(W))}}}const y=()=>{};return he(R._rawValidators,y),he(R._rawAsyncValidators,y),M}function Ht(k,R){k._pendingDirty&&k.markAsDirty(),k.setValue(k._pendingValue,{emitModelToViewChange:!1}),R.viewToModelUpdate(k._pendingValue),k._pendingChange=!1}function ir(k,R){const M=k.indexOf(R);M>-1&&k.splice(M,1)}const ot="VALID",Ot="INVALID",on="PENDING",sr="DISABLED";function dr(k){return(gi(k)?k.validators:k)||null}function si(k){return Array.isArray(k)?yn(k):k||null}function On(k,R){return(gi(R)?R.asyncValidators:k)||null}function mr(k){return Array.isArray(k)?zn(k):k||null}function gi(k){return null!=k&&!Array.isArray(k)&&"object"==typeof k}const hn=k=>k instanceof br,jr=k=>k instanceof Pn;function Mi(k){return hn(k)?k.value:k.getRawValue()}function ei(k,R){const M=jr(k),y=k.controls;if(!(M?Object.keys(y):y).length)throw new g.vHH(1e3,"");if(!y[R])throw new g.vHH(1001,"")}function Cr(k,R){jr(k),k._forEachChild((y,D)=>{if(void 0===R[D])throw new g.vHH(1002,"")})}class cr{constructor(R,M){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._rawValidators=R,this._rawAsyncValidators=M,this._composedValidatorFn=si(this._rawValidators),this._composedAsyncValidatorFn=mr(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn}set validator(R){this._rawValidators=this._composedValidatorFn=R}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(R){this._rawAsyncValidators=this._composedAsyncValidatorFn=R}get parent(){return this._parent}get valid(){return this.status===ot}get invalid(){return this.status===Ot}get pending(){return this.status==on}get disabled(){return this.status===sr}get enabled(){return this.status!==sr}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(R){this._rawValidators=R,this._composedValidatorFn=si(R)}setAsyncValidators(R){this._rawAsyncValidators=R,this._composedAsyncValidatorFn=mr(R)}addValidators(R){this.setValidators(jn(R,this._rawValidators))}addAsyncValidators(R){this.setAsyncValidators(jn(R,this._rawAsyncValidators))}removeValidators(R){this.setValidators(Vt(R,this._rawValidators))}removeAsyncValidators(R){this.setAsyncValidators(Vt(R,this._rawAsyncValidators))}hasValidator(R){return xr(this._rawValidators,R)}hasAsyncValidator(R){return xr(this._rawAsyncValidators,R)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(R={}){this.touched=!0,this._parent&&!R.onlySelf&&this._parent.markAsTouched(R)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(R=>R.markAllAsTouched())}markAsUntouched(R={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(M=>{M.markAsUntouched({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}markAsDirty(R={}){this.pristine=!1,this._parent&&!R.onlySelf&&this._parent.markAsDirty(R)}markAsPristine(R={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(M=>{M.markAsPristine({onlySelf:!0})}),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}markAsPending(R={}){this.status=on,!1!==R.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!R.onlySelf&&this._parent.markAsPending(R)}disable(R={}){const M=this._parentMarkedDirty(R.onlySelf);this.status=sr,this.errors=null,this._forEachChild(y=>{y.disable(Object.assign(Object.assign({},R),{onlySelf:!0}))}),this._updateValue(),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(Object.assign(Object.assign({},R),{skipPristineCheck:M})),this._onDisabledChange.forEach(y=>y(!0))}enable(R={}){const M=this._parentMarkedDirty(R.onlySelf);this.status=ot,this._forEachChild(y=>{y.enable(Object.assign(Object.assign({},R),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent}),this._updateAncestors(Object.assign(Object.assign({},R),{skipPristineCheck:M})),this._onDisabledChange.forEach(y=>y(!1))}_updateAncestors(R){this._parent&&!R.onlySelf&&(this._parent.updateValueAndValidity(R),R.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(R){this._parent=R}updateValueAndValidity(R={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===ot||this.status===on)&&this._runAsyncValidator(R.emitEvent)),!1!==R.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!R.onlySelf&&this._parent.updateValueAndValidity(R)}_updateTreeValidity(R={emitEvent:!0}){this._forEachChild(M=>M._updateTreeValidity(R)),this.updateValueAndValidity({onlySelf:!0,emitEvent:R.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?sr:ot}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(R){if(this.asyncValidator){this.status=on,this._hasOwnPendingAsyncValidator=!0;const M=Qt(this.asyncValidator(this));this._asyncValidationSubscription=M.subscribe(y=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(y,{emitEvent:R})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(R,M={}){this.errors=R,this._updateControlsErrors(!1!==M.emitEvent)}get(R){return function ii(k,R,M){if(null==R||(Array.isArray(R)||(R=R.split(M)),Array.isArray(R)&&0===R.length))return null;let y=k;return R.forEach(D=>{y=jr(y)?y.controls.hasOwnProperty(D)?y.controls[D]:null:(k=>k instanceof Fn)(y)&&y.at(D)||null}),y}(this,R,".")}getError(R,M){const y=M?this.get(M):this;return y&&y.errors?y.errors[R]:null}hasError(R,M){return!!this.getError(R,M)}get root(){let R=this;for(;R._parent;)R=R._parent;return R}_updateControlsErrors(R){this.status=this._calculateStatus(),R&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(R)}_initObservables(){this.valueChanges=new g.vpe,this.statusChanges=new g.vpe}_calculateStatus(){return this._allControlsDisabled()?sr:this.errors?Ot:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(on)?on:this._anyControlsHaveStatus(Ot)?Ot:ot}_anyControlsHaveStatus(R){return this._anyControls(M=>M.status===R)}_anyControlsDirty(){return this._anyControls(R=>R.dirty)}_anyControlsTouched(){return this._anyControls(R=>R.touched)}_updatePristine(R={}){this.pristine=!this._anyControlsDirty(),this._parent&&!R.onlySelf&&this._parent._updatePristine(R)}_updateTouched(R={}){this.touched=this._anyControlsTouched(),this._parent&&!R.onlySelf&&this._parent._updateTouched(R)}_isBoxedValue(R){return"object"==typeof R&&null!==R&&2===Object.keys(R).length&&"value"in R&&"disabled"in R}_registerOnCollectionChange(R){this._onCollectionChange=R}_setUpdateStrategy(R){gi(R)&&null!=R.updateOn&&(this._updateOn=R.updateOn)}_parentMarkedDirty(R){return!R&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}}class br extends cr{constructor(R=null,M,y){super(dr(M),On(y,M)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(R),this._setUpdateStrategy(M),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),gi(M)&&M.initialValueIsDefault&&(this.defaultValue=this._isBoxedValue(R)?R.value:R)}setValue(R,M={}){this.value=this._pendingValue=R,this._onChange.length&&!1!==M.emitModelToViewChange&&this._onChange.forEach(y=>y(this.value,!1!==M.emitViewToModelChange)),this.updateValueAndValidity(M)}patchValue(R,M={}){this.setValue(R,M)}reset(R=this.defaultValue,M={}){this._applyFormState(R),this.markAsPristine(M),this.markAsUntouched(M),this.setValue(this.value,M),this._pendingChange=!1}_updateValue(){}_anyControls(R){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(R){this._onChange.push(R)}_unregisterOnChange(R){ir(this._onChange,R)}registerOnDisabledChange(R){this._onDisabledChange.push(R)}_unregisterOnDisabledChange(R){ir(this._onDisabledChange,R)}_forEachChild(R){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(R){this._isBoxedValue(R)?(this.value=this._pendingValue=R.value,R.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=R}}class Pn extends cr{constructor(R,M,y){super(dr(M),On(y,M)),this.controls=R,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(R,M){return this.controls[R]?this.controls[R]:(this.controls[R]=M,M.setParent(this),M._registerOnCollectionChange(this._onCollectionChange),M)}addControl(R,M,y={}){this.registerControl(R,M),this.updateValueAndValidity({emitEvent:y.emitEvent}),this._onCollectionChange()}removeControl(R,M={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}setControl(R,M,y={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),delete this.controls[R],M&&this.registerControl(R,M),this.updateValueAndValidity({emitEvent:y.emitEvent}),this._onCollectionChange()}contains(R){return this.controls.hasOwnProperty(R)&&this.controls[R].enabled}setValue(R,M={}){Cr(this,R),Object.keys(R).forEach(y=>{ei(this,y),this.controls[y].setValue(R[y],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(R,M={}){null!=R&&(Object.keys(R).forEach(y=>{this.controls[y]&&this.controls[y].patchValue(R[y],{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(R={},M={}){this._forEachChild((y,D)=>{y.reset(R[D],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this._reduceChildren({},(R,M,y)=>(R[y]=Mi(M),R))}_syncPendingControls(){let R=this._reduceChildren(!1,(M,y)=>!!y._syncPendingControls()||M);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){Object.keys(this.controls).forEach(M=>{const y=this.controls[M];y&&R(y,M)})}_setUpControls(){this._forEachChild(R=>{R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(R){for(const M of Object.keys(this.controls)){const y=this.controls[M];if(this.contains(M)&&R(y))return!0}return!1}_reduceValue(){return this._reduceChildren({},(R,M,y)=>((M.enabled||this.disabled)&&(R[y]=M.value),R))}_reduceChildren(R,M){let y=R;return this._forEachChild((D,W)=>{y=M(y,D,W)}),y}_allControlsDisabled(){for(const R of Object.keys(this.controls))if(this.controls[R].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}}class Fn extends cr{constructor(R,M,y){super(dr(M),On(y,M)),this.controls=R,this._initObservables(),this._setUpdateStrategy(M),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(R){return this.controls[R]}push(R,M={}){this.controls.push(R),this._registerControl(R),this.updateValueAndValidity({emitEvent:M.emitEvent}),this._onCollectionChange()}insert(R,M,y={}){this.controls.splice(R,0,M),this._registerControl(M),this.updateValueAndValidity({emitEvent:y.emitEvent})}removeAt(R,M={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),this.controls.splice(R,1),this.updateValueAndValidity({emitEvent:M.emitEvent})}setControl(R,M,y={}){this.controls[R]&&this.controls[R]._registerOnCollectionChange(()=>{}),this.controls.splice(R,1),M&&(this.controls.splice(R,0,M),this._registerControl(M)),this.updateValueAndValidity({emitEvent:y.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(R,M={}){Cr(this,R),R.forEach((y,D)=>{ei(this,D),this.at(D).setValue(y,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M)}patchValue(R,M={}){null!=R&&(R.forEach((y,D)=>{this.at(D)&&this.at(D).patchValue(y,{onlySelf:!0,emitEvent:M.emitEvent})}),this.updateValueAndValidity(M))}reset(R=[],M={}){this._forEachChild((y,D)=>{y.reset(R[D],{onlySelf:!0,emitEvent:M.emitEvent})}),this._updatePristine(M),this._updateTouched(M),this.updateValueAndValidity(M)}getRawValue(){return this.controls.map(R=>Mi(R))}clear(R={}){this.controls.length<1||(this._forEachChild(M=>M._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:R.emitEvent}))}_syncPendingControls(){let R=this.controls.reduce((M,y)=>!!y._syncPendingControls()||M,!1);return R&&this.updateValueAndValidity({onlySelf:!0}),R}_forEachChild(R){this.controls.forEach((M,y)=>{R(M,y)})}_updateValue(){this.value=this.controls.filter(R=>R.enabled||this.disabled).map(R=>R.value)}_anyControls(R){return this.controls.some(M=>M.enabled&&R(M))}_setUpControls(){this._forEachChild(R=>this._registerControl(R))}_allControlsDisabled(){for(const R of this.controls)if(R.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(R){R.setParent(this),R._registerOnCollectionChange(this._onCollectionChange)}}let xs=(()=>{class k{}return k.\u0275fac=function(M){return new(M||k)},k.\u0275dir=g.lG2({type:k,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),k})();const Ie={provide:Xe,useExisting:(0,g.Gpc)(()=>me),multi:!0};let me=(()=>{class k extends qe{writeValue(M){this.setProperty("value",null==M?"":M)}registerOnChange(M){this.onChange=y=>{M(""==y?null:parseFloat(y))}}}return k.\u0275fac=function(){let R;return function(y){return(R||(R=g.n5z(k)))(y||k)}}(),k.\u0275dir=g.lG2({type:k,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(M,y){1&M&&g.NdJ("input",function(W){return y.onChange(W.target.value)})("blur",function(){return y.onTouched()})},features:[g._Bn([Ie]),g.qOj]}),k})(),ht=(()=>{class k{}return k.\u0275fac=function(M){return new(M||k)},k.\u0275mod=g.oAB({type:k}),k.\u0275inj=g.cJS({}),k})();const mi=new g.OlP("NgModelWithFormControlWarning"),Zi={provide:tn,useExisting:(0,g.Gpc)(()=>Ti)};let Ti=(()=>{class k extends tn{constructor(M,y){super(),this.validators=M,this.asyncValidators=y,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new g.vpe,this._setValidators(M),this._setAsyncValidators(y)}ngOnChanges(M){this._checkFormPresent(),M.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Ve(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(M){const y=this.form.get(M.path);return gn(y,M),y.updateValueAndValidity({emitEvent:!1}),this.directives.push(M),y}getControl(M){return this.form.get(M.path)}removeControl(M){qt(M.control||null,M,!1),ir(this.directives,M)}addFormGroup(M){this._setUpFormContainer(M)}removeFormGroup(M){this._cleanUpFormContainer(M)}getFormGroup(M){return this.form.get(M.path)}addFormArray(M){this._setUpFormContainer(M)}removeFormArray(M){this._cleanUpFormContainer(M)}getFormArray(M){return this.form.get(M.path)}updateModel(M,y){this.form.get(M.path).setValue(y)}onSubmit(M){return this.submitted=!0,function lr(k,R){k._syncPendingControls(),R.forEach(M=>{const y=M.control;"submit"===y.updateOn&&y._pendingChange&&(M.viewToModelUpdate(y._pendingValue),y._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(M),!1}onReset(){this.resetForm()}resetForm(M){this.form.reset(M),this.submitted=!1}_updateDomValue(){this.directives.forEach(M=>{const y=M.control,D=this.form.get(M.path);y!==D&&(qt(y||null,M),hn(D)&&(gn(D,M),M.control=D))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(M){const y=this.form.get(M.path);(function Jt(k,R){ge(k,R)})(y,M),y.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(M){if(this.form){const y=this.form.get(M.path);y&&function En(k,R){return Ve(k,R)}(y,M)&&y.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ge(this.form,this),this._oldForm&&Ve(this._oldForm,this)}_checkFormPresent(){}}return k.\u0275fac=function(M){return new(M||k)(g.Y36(st,10),g.Y36(et,10))},k.\u0275dir=g.lG2({type:k,selectors:[["","formGroup",""]],hostBindings:function(M,y){1&M&&g.NdJ("submit",function(W){return y.onSubmit(W)})("reset",function(){return y.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[g._Bn([Zi]),g.qOj,g.TTD]}),k})();const ut={provide:An,useExisting:(0,g.Gpc)(()=>Yt)};let Yt=(()=>{class k extends An{constructor(M,y,D,W,ee){super(),this._ngModelWarningConfig=ee,this._added=!1,this.update=new g.vpe,this._ngModelWarningSent=!1,this._parent=M,this._setValidators(y),this._setAsyncValidators(D),this.valueAccessor=function er(k,R){if(!R)return null;let M,y,D;return Array.isArray(R),R.forEach(W=>{W.constructor===ue?M=W:function as(k){return Object.getPrototypeOf(k.constructor)===qe}(W)?y=W:D=W}),D||y||M||null}(0,W)}set isDisabled(M){}ngOnChanges(M){this._added||this._setUpControl(),function Bt(k,R){if(!k.hasOwnProperty("model"))return!1;const M=k.model;return!!M.isFirstChange()||!Object.is(R,M.currentValue)}(M,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(M){this.viewModel=M,this.update.emit(M)}get path(){return function Ft(k,R){return[...R.path,k]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this.control.disabled&&this.valueAccessor.setDisabledState&&this.valueAccessor.setDisabledState(!0),this._added=!0}}return k._ngModelWarningSentOnce=!1,k.\u0275fac=function(M){return new(M||k)(g.Y36(tn,13),g.Y36(st,10),g.Y36(et,10),g.Y36(Xe,10),g.Y36(mi,8))},k.\u0275dir=g.lG2({type:k,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[g._Bn([ut]),g.qOj,g.TTD]}),k})();const xn={provide:Xe,useExisting:(0,g.Gpc)(()=>ni),multi:!0};function Zr(k,R){return null==k?`${R}`:(R&&"object"==typeof R&&(R="Object"),`${k}: ${R}`.slice(0,50))}let ni=(()=>{class k extends qe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){this.value=M;const D=Zr(this._getOptionId(M),M);this.setProperty("value",D)}registerOnChange(M){this.onChange=y=>{this.value=this._getOptionValue(y),M(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(M){for(const y of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(y),M))return y;return null}_getOptionValue(M){const y=function ls(k){return k.split(":")[0]}(M);return this._optionMap.has(y)?this._optionMap.get(y):M}}return k.\u0275fac=function(){let R;return function(y){return(R||(R=g.n5z(k)))(y||k)}}(),k.\u0275dir=g.lG2({type:k,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(M,y){1&M&&g.NdJ("change",function(W){return y.onChange(W.target.value)})("blur",function(){return y.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([xn]),g.qOj]}),k})(),Ri=(()=>{class k{constructor(M,y,D){this._element=M,this._renderer=y,this._select=D,this._select&&(this.id=this._select._registerOption())}set ngValue(M){null!=this._select&&(this._select._optionMap.set(this.id,M),this._setElementValue(Zr(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._setElementValue(M),this._select&&this._select.writeValue(this._select.value)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return k.\u0275fac=function(M){return new(M||k)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(ni,9))},k.\u0275dir=g.lG2({type:k,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),k})();const vs={provide:Xe,useExisting:(0,g.Gpc)(()=>Oi),multi:!0};function Vs(k,R){return null==k?`${R}`:("string"==typeof R&&(R=`'${R}'`),R&&"object"==typeof R&&(R="Object"),`${k}: ${R}`.slice(0,50))}let Oi=(()=>{class k extends qe{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(M){this._compareWith=M}writeValue(M){let y;if(this.value=M,Array.isArray(M)){const D=M.map(W=>this._getOptionId(W));y=(W,ee)=>{W._setSelected(D.indexOf(ee.toString())>-1)}}else y=(D,W)=>{D._setSelected(!1)};this._optionMap.forEach(y)}registerOnChange(M){this.onChange=y=>{const D=[],W=y.selectedOptions;if(void 0!==W){const ee=W;for(let ye=0;ye<ee.length;ye++){const nt=this._getOptionValue(ee[ye].value);D.push(nt)}}else{const ee=y.options;for(let ye=0;ye<ee.length;ye++){const Le=ee[ye];if(Le.selected){const nt=this._getOptionValue(Le.value);D.push(nt)}}}this.value=D,M(D)}}_registerOption(M){const y=(this._idCounter++).toString();return this._optionMap.set(y,M),y}_getOptionId(M){for(const y of Array.from(this._optionMap.keys()))if(this._compareWith(this._optionMap.get(y)._value,M))return y;return null}_getOptionValue(M){const y=function ai(k){return k.split(":")[0]}(M);return this._optionMap.has(y)?this._optionMap.get(y)._value:M}}return k.\u0275fac=function(){let R;return function(y){return(R||(R=g.n5z(k)))(y||k)}}(),k.\u0275dir=g.lG2({type:k,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(M,y){1&M&&g.NdJ("change",function(W){return y.onChange(W.target)})("blur",function(){return y.onTouched()})},inputs:{compareWith:"compareWith"},features:[g._Bn([vs]),g.qOj]}),k})(),Ms=(()=>{class k{constructor(M,y,D){this._element=M,this._renderer=y,this._select=D,this._select&&(this.id=this._select._registerOption(this))}set ngValue(M){null!=this._select&&(this._value=M,this._setElementValue(Vs(this.id,M)),this._select.writeValue(this._select.value))}set value(M){this._select?(this._value=M,this._setElementValue(Vs(this.id,M)),this._select.writeValue(this._select.value)):this._setElementValue(M)}_setElementValue(M){this._renderer.setProperty(this._element.nativeElement,"value",M)}_setSelected(M){this._renderer.setProperty(this._element.nativeElement,"selected",M)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}}return k.\u0275fac=function(M){return new(M||k)(g.Y36(g.SBq),g.Y36(g.Qsj),g.Y36(Oi,9))},k.\u0275dir=g.lG2({type:k,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}}),k})(),Xr=(()=>{class k{}return k.\u0275fac=function(M){return new(M||k)},k.\u0275mod=g.oAB({type:k}),k.\u0275inj=g.cJS({imports:[[ht]]}),k})(),un=(()=>{class k{}return k.\u0275fac=function(M){return new(M||k)},k.\u0275mod=g.oAB({type:k}),k.\u0275inj=g.cJS({imports:[Xr]}),k})(),zi=(()=>{class k{static withConfig(M){return{ngModule:k,providers:[{provide:mi,useValue:M.warnOnNgModelWithFormControl}]}}}return k.\u0275fac=function(M){return new(M||k)},k.\u0275mod=g.oAB({type:k}),k.\u0275inj=g.cJS({imports:[Xr]}),k})()},441:(St,Be,L)=>{L.d(Be,{F0:()=>Hi,rH:()=>zs,yS:()=>ko,Bz:()=>zr,lC:()=>ws});var g=L(5e3),p=L(8306),Y=L(4742),pe=L(8996),ce=L(4671),we=L(3268),Te=L(7669),Ae=L(1810),Me=L(5403),le=L(9672);function ft(b,I,_){b?(0,le.f)(_,b,I):I()}var qe=L(576);function Xe(b,I){const _=(0,qe.m)(b)?b:()=>b,S=F=>F.error(_());return new p.y(I?F=>I.schedule(S,0,F):S)}var at=L(8421);function Ge(b){return new p.y(I=>{(0,at.Xf)(b()).subscribe(I)})}var Je=L(727),Tt=L(4482);function vt(){return(0,Tt.e)((b,I)=>{let _=null;b._refCount++;const S=(0,Me.x)(I,void 0,void 0,void 0,()=>{if(!b||b._refCount<=0||0<--b._refCount)return void(_=null);const F=b._connection,j=_;_=null,F&&(!j||F===j)&&F.unsubscribe(),I.unsubscribe()});b.subscribe(S),S.closed||(_=b.connect())})}class ue extends p.y{constructor(I,_){super(),this.source=I,this.subjectFactory=_,this._subject=null,this._refCount=0,this._connection=null,(0,Tt.A)(I)&&(this.lift=I.lift)}_subscribe(I){return this.getSubject().subscribe(I)}getSubject(){const I=this._subject;return(!I||I.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:I}=this;this._subject=this._connection=null,null==I||I.unsubscribe()}connect(){let I=this._connection;if(!I){I=this._connection=new Je.w0;const _=this.getSubject();I.add(this.source.subscribe((0,Me.x)(_,void 0,()=>{this._teardown(),_.complete()},S=>{this._teardown(),_.error(S)},()=>this._teardown()))),I.closed&&(this._connection=null,I=Je.w0.EMPTY)}return I}refCount(){return vt()(this)}}var Ce=L(9646),We=L(1135),st=L(6805),et=L(7272),Ne=L(515),be=L(7579);function fe(b){return(0,Tt.e)((I,_)=>{let j,S=null,F=!1;S=I.subscribe((0,Me.x)(_,void 0,void 0,G=>{j=(0,at.Xf)(b(G,fe(b)(I))),S?(S.unsubscribe(),S=null,j.subscribe(_)):F=!0})),F&&(S.unsubscribe(),S=null,j.subscribe(_))})}var Oe=L(5577);function Ee(b,I){return(0,qe.m)(I)?(0,Oe.z)(b,I,1):(0,Oe.z)(b,1)}var rt=L(9300);function Ue(b){return b<=0?()=>Ne.E:(0,Tt.e)((I,_)=>{let S=[];I.subscribe((0,Me.x)(_,F=>{S.push(F),b<S.length&&S.shift()},()=>{for(const F of S)_.next(F);_.complete()},void 0,()=>{S=null}))})}var en=L(8068),$t=L(6590),ct=L(4004),Qt=L(3900),Pt=L(5698),Tn=L(8675),It=L(5026),pn=L(590),kt=L(8505),yn=L(8189),kn=L(9808);class zn{constructor(I,_){this.id=I,this.url=_}}class Qr extends zn{constructor(I,_,S="imperative",F=null){super(I,_),this.navigationTrigger=S,this.restoredState=F}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class rr extends zn{constructor(I,_,S){super(I,_),this.urlAfterRedirects=S}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class wr extends zn{constructor(I,_,S){super(I,_),this.reason=S}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Wn extends zn{constructor(I,_,S){super(I,_),this.error=S}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class xr extends zn{constructor(I,_,S,F){super(I,_),this.urlAfterRedirects=S,this.state=F}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class jn extends zn{constructor(I,_,S,F){super(I,_),this.urlAfterRedirects=S,this.state=F}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class Vt extends zn{constructor(I,_,S,F,j){super(I,_),this.urlAfterRedirects=S,this.state=F,this.shouldActivate=j}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class Zt extends zn{constructor(I,_,S,F){super(I,_),this.urlAfterRedirects=S,this.state=F}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class An extends zn{constructor(I,_,S,F){super(I,_),this.urlAfterRedirects=S,this.state=F}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tn{constructor(I){this.route=I}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class Br{constructor(I){this.route=I}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class bi{constructor(I){this.snapshot=I}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ur{constructor(I){this.snapshot=I}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fr{constructor(I){this.snapshot=I}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class ri{constructor(I){this.snapshot=I}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class $r{constructor(I,_,S){this.routerEvent=I,this.position=_,this.anchor=S}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}const wt="primary";class Nt{constructor(I){this.params=I||{}}has(I){return Object.prototype.hasOwnProperty.call(this.params,I)}get(I){if(this.has(I)){const _=this.params[I];return Array.isArray(_)?_[0]:_}return null}getAll(I){if(this.has(I)){const _=this.params[I];return Array.isArray(_)?_:[_]}return[]}get keys(){return Object.keys(this.params)}}function Gt(b){return new Nt(b)}const gr="ngNavigationCancelingError";function Kr(b){const I=Error("NavigationCancelingError: "+b);return I[gr]=!0,I}function Di(b,I,_){const S=_.path.split("/");if(S.length>b.length||"full"===_.pathMatch&&(I.hasChildren()||S.length<b.length))return null;const F={};for(let j=0;j<S.length;j++){const G=S[j],X=b[j];if(G.startsWith(":"))F[G.substring(1)]=X;else if(G!==X.path)return null}return{consumed:b.slice(0,S.length),posParams:F}}function Xn(b,I){const _=b?Object.keys(b):void 0,S=I?Object.keys(I):void 0;if(!_||!S||_.length!=S.length)return!1;let F;for(let j=0;j<_.length;j++)if(F=_[j],!Kt(b[F],I[F]))return!1;return!0}function Kt(b,I){if(Array.isArray(b)&&Array.isArray(I)){if(b.length!==I.length)return!1;const _=[...b].sort(),S=[...I].sort();return _.every((F,j)=>S[j]===F)}return b===I}function Mr(b){return Array.prototype.concat.apply([],b)}function wn(b){return b.length>0?b[b.length-1]:null}function Qe(b,I){for(const _ in b)b.hasOwnProperty(_)&&I(b[_],_)}function bt(b){return(0,g.CqO)(b)?b:(0,g.QGY)(b)?(0,pe.D)(Promise.resolve(b)):(0,Ce.of)(b)}const gn={exact:function ge(b,I,_){if(!Xt(b.segments,I.segments)||!Ht(b.segments,I.segments,_)||b.numberOfChildren!==I.numberOfChildren)return!1;for(const S in I.children)if(!b.children[S]||!ge(b.children[S],I.children[S],_))return!1;return!0},subset:Re},qt={exact:function se(b,I){return Xn(b,I)},subset:function Ve(b,I){return Object.keys(I).length<=Object.keys(b).length&&Object.keys(I).every(_=>Kt(b[_],I[_]))},ignored:()=>!0};function he(b,I,_){return gn[_.paths](b.root,I.root,_.matrixParams)&&qt[_.queryParams](b.queryParams,I.queryParams)&&!("exact"===_.fragment&&b.fragment!==I.fragment)}function Re(b,I,_){return yt(b,I,I.segments,_)}function yt(b,I,_,S){if(b.segments.length>_.length){const F=b.segments.slice(0,_.length);return!(!Xt(F,_)||I.hasChildren()||!Ht(F,_,S))}if(b.segments.length===_.length){if(!Xt(b.segments,_)||!Ht(b.segments,_,S))return!1;for(const F in I.children)if(!b.children[F]||!Re(b.children[F],I.children[F],S))return!1;return!0}{const F=_.slice(0,b.segments.length),j=_.slice(b.segments.length);return!!(Xt(b.segments,F)&&Ht(b.segments,F,S)&&b.children[wt])&&yt(b.children[wt],I,j,S)}}function Ht(b,I,_){return I.every((S,F)=>qt[_](b[F].parameters,S.parameters))}class In{constructor(I,_,S){this.root=I,this.queryParams=_,this.fragment=S}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gt(this.queryParams)),this._queryParamMap}toString(){return as.serialize(this)}}class Jt{constructor(I,_){this.segments=I,this.children=_,this.parent=null,Qe(_,(S,F)=>S.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return lr(this)}}class En{constructor(I,_){this.path=I,this.parameters=_}get parameterMap(){return this._parameterMap||(this._parameterMap=Gt(this.parameters)),this._parameterMap}toString(){return sr(this)}}function Xt(b,I){return b.length===I.length&&b.every((_,S)=>_.path===I[S].path)}class Lr{}class Bt{parse(I){const _=new xi(I);return new In(_.parseRootSegment(),_.parseQueryParams(),_.parseFragment())}serialize(I){const _=`/${er(I.root,!0)}`,S=function dr(b){const I=Object.keys(b).map(_=>{const S=b[_];return Array.isArray(S)?S.map(F=>`${pi(_)}=${pi(F)}`).join("&"):`${pi(_)}=${pi(S)}`}).filter(_=>!!_);return I.length?`?${I.join("&")}`:""}(I.queryParams);return`${_}${S}${"string"==typeof I.fragment?`#${function Hr(b){return encodeURI(b)}(I.fragment)}`:""}`}}const as=new Bt;function lr(b){return b.segments.map(I=>sr(I)).join("/")}function er(b,I){if(!b.hasChildren())return lr(b);if(I){const _=b.children[wt]?er(b.children[wt],!1):"",S=[];return Qe(b.children,(F,j)=>{j!==wt&&S.push(`${j}:${er(F,!1)}`)}),S.length>0?`${_}(${S.join("//")})`:_}{const _=function $n(b,I){let _=[];return Qe(b.children,(S,F)=>{F===wt&&(_=_.concat(I(S,F)))}),Qe(b.children,(S,F)=>{F!==wt&&(_=_.concat(I(S,F)))}),_}(b,(S,F)=>F===wt?[er(b.children[wt],!1)]:[`${F}:${er(S,!1)}`]);return 1===Object.keys(b.children).length&&null!=b.children[wt]?`${lr(b)}/${_[0]}`:`${lr(b)}/(${_.join("//")})`}}function ir(b){return encodeURIComponent(b).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function pi(b){return ir(b).replace(/%3B/gi,";")}function ot(b){return ir(b).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ot(b){return decodeURIComponent(b)}function on(b){return Ot(b.replace(/\+/g,"%20"))}function sr(b){return`${ot(b.path)}${function ii(b){return Object.keys(b).map(I=>`;${ot(I)}=${ot(b[I])}`).join("")}(b.parameters)}`}const si=/^[^\/()?;=#]+/;function On(b){const I=b.match(si);return I?I[0]:""}const mr=/^[^=?&#]+/,hn=/^[^&#]+/;class xi{constructor(I){this.url=I,this.remaining=I}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Jt([],{}):new Jt([],this.parseChildren())}parseQueryParams(){const I={};if(this.consumeOptional("?"))do{this.parseQueryParam(I)}while(this.consumeOptional("&"));return I}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const I=[];for(this.peekStartsWith("(")||I.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),I.push(this.parseSegment());let _={};this.peekStartsWith("/(")&&(this.capture("/"),_=this.parseParens(!0));let S={};return this.peekStartsWith("(")&&(S=this.parseParens(!1)),(I.length>0||Object.keys(_).length>0)&&(S[wt]=new Jt(I,_)),S}parseSegment(){const I=On(this.remaining);if(""===I&&this.peekStartsWith(";"))throw new Error(`Empty path url segment cannot have parameters: '${this.remaining}'.`);return this.capture(I),new En(Ot(I),this.parseMatrixParams())}parseMatrixParams(){const I={};for(;this.consumeOptional(";");)this.parseParam(I);return I}parseParam(I){const _=On(this.remaining);if(!_)return;this.capture(_);let S="";if(this.consumeOptional("=")){const F=On(this.remaining);F&&(S=F,this.capture(S))}I[Ot(_)]=Ot(S)}parseQueryParam(I){const _=function gi(b){const I=b.match(mr);return I?I[0]:""}(this.remaining);if(!_)return;this.capture(_);let S="";if(this.consumeOptional("=")){const G=function jr(b){const I=b.match(hn);return I?I[0]:""}(this.remaining);G&&(S=G,this.capture(S))}const F=on(_),j=on(S);if(I.hasOwnProperty(F)){let G=I[F];Array.isArray(G)||(G=[G],I[F]=G),G.push(j)}else I[F]=j}parseParens(I){const _={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const S=On(this.remaining),F=this.remaining[S.length];if("/"!==F&&")"!==F&&";"!==F)throw new Error(`Cannot parse url '${this.url}'`);let j;S.indexOf(":")>-1?(j=S.substr(0,S.indexOf(":")),this.capture(j),this.capture(":")):I&&(j=wt);const G=this.parseChildren();_[j]=1===Object.keys(G).length?G[wt]:new Jt([],G),this.consumeOptional("//")}return _}peekStartsWith(I){return this.remaining.startsWith(I)}consumeOptional(I){return!!this.peekStartsWith(I)&&(this.remaining=this.remaining.substring(I.length),!0)}capture(I){if(!this.consumeOptional(I))throw new Error(`Expected "${I}".`)}}class Mi{constructor(I){this._root=I}get root(){return this._root.value}parent(I){const _=this.pathFromRoot(I);return _.length>1?_[_.length-2]:null}children(I){const _=ei(I,this._root);return _?_.children.map(S=>S.value):[]}firstChild(I){const _=ei(I,this._root);return _&&_.children.length>0?_.children[0].value:null}siblings(I){const _=Cr(I,this._root);return _.length<2?[]:_[_.length-2].children.map(F=>F.value).filter(F=>F!==I)}pathFromRoot(I){return Cr(I,this._root).map(_=>_.value)}}function ei(b,I){if(b===I.value)return I;for(const _ of I.children){const S=ei(b,_);if(S)return S}return null}function Cr(b,I){if(b===I.value)return[I];for(const _ of I.children){const S=Cr(b,_);if(S.length)return S.unshift(I),S}return[]}class cr{constructor(I,_){this.value=I,this.children=_}toString(){return`TreeNode(${this.value})`}}function br(b){const I={};return b&&b.children.forEach(_=>I[_.value.outlet]=_),I}class Pn extends Mi{constructor(I,_){super(I),this.snapshot=_,ms(this,I)}toString(){return this.snapshot.toString()}}function Fn(b,I){const _=function es(b,I){const G=new us([],{},{},"",{},wt,I,null,b.root,-1,{});return new _r("",new cr(G,[]))}(b,I),S=new We.X([new En("",{})]),F=new We.X({}),j=new We.X({}),G=new We.X({}),X=new We.X(""),He=new yr(S,F,G,X,j,wt,I,_.root);return He.snapshot=_.root,new Pn(new cr(He,[]),_)}class yr{constructor(I,_,S,F,j,G,X,He){this.url=I,this.params=_,this.queryParams=S,this.fragment=F,this.data=j,this.outlet=G,this.component=X,this._futureSnapshot=He}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,ct.U)(I=>Gt(I)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,ct.U)(I=>Gt(I)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Gr(b,I="emptyOnly"){const _=b.pathFromRoot;let S=0;if("always"!==I)for(S=_.length-1;S>=1;){const F=_[S],j=_[S-1];if(F.routeConfig&&""===F.routeConfig.path)S--;else{if(j.component)break;S--}}return function ti(b){return b.reduce((I,_)=>({params:Object.assign(Object.assign({},I.params),_.params),data:Object.assign(Object.assign({},I.data),_.data),resolve:Object.assign(Object.assign({},I.resolve),_._resolvedData)}),{params:{},data:{},resolve:{}})}(_.slice(S))}class us{constructor(I,_,S,F,j,G,X,He,xt,Gn,nn){this.url=I,this.params=_,this.queryParams=S,this.fragment=F,this.data=j,this.outlet=G,this.component=X,this.routeConfig=He,this._urlSegment=xt,this._lastPathIndex=Gn,this._resolve=nn}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Gt(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Gt(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(S=>S.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class _r extends Mi{constructor(I,_){super(_),this.url=I,ms(this,_)}toString(){return oi(this._root)}}function ms(b,I){I.value._routerState=b,I.children.forEach(_=>ms(b,_))}function oi(b){const I=b.children.length>0?` { ${b.children.map(oi).join(", ")} } `:"";return`${b.value}${I}`}function Vi(b){if(b.snapshot){const I=b.snapshot,_=b._futureSnapshot;b.snapshot=_,Xn(I.queryParams,_.queryParams)||b.queryParams.next(_.queryParams),I.fragment!==_.fragment&&b.fragment.next(_.fragment),Xn(I.params,_.params)||b.params.next(_.params),function Ir(b,I){if(b.length!==I.length)return!1;for(let _=0;_<b.length;++_)if(!Xn(b[_],I[_]))return!1;return!0}(I.url,_.url)||b.url.next(_.url),Xn(I.data,_.data)||b.data.next(_.data)}else b.snapshot=b._futureSnapshot,b.data.next(b._futureSnapshot.data)}function ys(b,I){const _=Xn(b.params,I.params)&&function Rn(b,I){return Xt(b,I)&&b.every((_,S)=>Xn(_.parameters,I[S].parameters))}(b.url,I.url);return _&&!(!b.parent!=!I.parent)&&(!b.parent||ys(b.parent,I.parent))}function Sn(b,I,_){if(_&&b.shouldReuseRoute(I.value,_.value.snapshot)){const S=_.value;S._futureSnapshot=I.value;const F=function Ss(b,I,_){return I.children.map(S=>{for(const F of _.children)if(b.shouldReuseRoute(S.value,F.value.snapshot))return Sn(b,S,F);return Sn(b,S)})}(b,I,_);return new cr(S,F)}{if(b.shouldAttach(I.value)){const j=b.retrieve(I.value);if(null!==j){const G=j.route;return G.value._futureSnapshot=I.value,G.children=I.children.map(X=>Sn(b,X)),G}}const S=function xs(b){return new yr(new We.X(b.url),new We.X(b.params),new We.X(b.queryParams),new We.X(b.fragment),new We.X(b.data),b.outlet,b.component,b)}(I.value),F=I.children.map(j=>Sn(b,j));return new cr(S,F)}}function me(b){return"object"==typeof b&&null!=b&&!b.outlets&&!b.segmentPath}function Fe(b){return"object"==typeof b&&null!=b&&b.outlets}function Ye(b,I,_,S,F){let j={};if(S&&Qe(S,(X,He)=>{j[He]=Array.isArray(X)?X.map(xt=>`${xt}`):`${X}`}),b===I)return new In(_,j,F);const G=ht(b,I,_);return new In(G,j,F)}function ht(b,I,_){const S={};return Qe(b.children,(F,j)=>{S[j]=F===I?_:ht(F,I,_)}),new Jt(b.segments,S)}class Lt{constructor(I,_,S){if(this.isAbsolute=I,this.numberOfDoubleDots=_,this.commands=S,I&&S.length>0&&me(S[0]))throw new Error("Root segment cannot have matrix parameters");const F=S.find(Fe);if(F&&F!==wn(S))throw new Error("{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Rr{constructor(I,_,S){this.segmentGroup=I,this.processChildren=_,this.index=S}}function yi(b,I,_){if(b||(b=new Jt([],{})),0===b.segments.length&&b.hasChildren())return Zi(b,I,_);const S=function Ti(b,I,_){let S=0,F=I;const j={match:!1,pathIndex:0,commandIndex:0};for(;F<b.segments.length;){if(S>=_.length)return j;const G=b.segments[F],X=_[S];if(Fe(X))break;const He=`${X}`,xt=S<_.length-1?_[S+1]:null;if(F>0&&void 0===He)break;if(He&&xt&&"object"==typeof xt&&void 0===xt.outlets){if(!te(He,xt,G))return j;S+=2}else{if(!te(He,{},G))return j;S++}F++}return{match:!0,pathIndex:F,commandIndex:S}}(b,I,_),F=_.slice(S.commandIndex);if(S.match&&S.pathIndex<b.segments.length){const j=new Jt(b.segments.slice(0,S.pathIndex),{});return j.children[wt]=new Jt(b.segments.slice(S.pathIndex),b.children),Zi(j,0,F)}return S.match&&0===F.length?new Jt(b.segments,{}):S.match&&!b.hasChildren()?Q(b,I,_):S.match?Zi(b,0,F):Q(b,I,_)}function Zi(b,I,_){if(0===_.length)return new Jt(b.segments,{});{const S=function Bi(b){return Fe(b[0])?b[0].outlets:{[wt]:b}}(_),F={};return Qe(S,(j,G)=>{"string"==typeof j&&(j=[j]),null!==j&&(F[G]=yi(b.children[G],I,j))}),Qe(b.children,(j,G)=>{void 0===S[G]&&(F[G]=j)}),new Jt(b.segments,F)}}function Q(b,I,_){const S=b.segments.slice(0,I);let F=0;for(;F<_.length;){const j=_[F];if(Fe(j)){const He=ne(j.outlets);return new Jt(S,He)}if(0===F&&me(_[0])){S.push(new En(b.segments[I].path,$(_[0]))),F++;continue}const G=Fe(j)?j.outlets[wt]:`${j}`,X=F<_.length-1?_[F+1]:null;G&&X&&me(X)?(S.push(new En(G,$(X))),F+=2):(S.push(new En(G,{})),F++)}return new Jt(S,{})}function ne(b){const I={};return Qe(b,(_,S)=>{"string"==typeof _&&(_=[_]),null!==_&&(I[S]=Q(new Jt([],{}),0,_))}),I}function $(b){const I={};return Qe(b,(_,S)=>I[S]=`${_}`),I}function te(b,I,_){return b==_.path&&Xn(I,_.parameters)}class ut{constructor(I,_,S,F){this.routeReuseStrategy=I,this.futureState=_,this.currState=S,this.forwardEvent=F}activate(I){const _=this.futureState._root,S=this.currState?this.currState._root:null;this.deactivateChildRoutes(_,S,I),Vi(this.futureState.root),this.activateChildRoutes(_,S,I)}deactivateChildRoutes(I,_,S){const F=br(_);I.children.forEach(j=>{const G=j.value.outlet;this.deactivateRoutes(j,F[G],S),delete F[G]}),Qe(F,(j,G)=>{this.deactivateRouteAndItsChildren(j,S)})}deactivateRoutes(I,_,S){const F=I.value,j=_?_.value:null;if(F===j)if(F.component){const G=S.getContext(F.outlet);G&&this.deactivateChildRoutes(I,_,G.children)}else this.deactivateChildRoutes(I,_,S);else j&&this.deactivateRouteAndItsChildren(_,S)}deactivateRouteAndItsChildren(I,_){I.value.component&&this.routeReuseStrategy.shouldDetach(I.value.snapshot)?this.detachAndStoreRouteSubtree(I,_):this.deactivateRouteAndOutlet(I,_)}detachAndStoreRouteSubtree(I,_){const S=_.getContext(I.value.outlet),F=S&&I.value.component?S.children:_,j=br(I);for(const G of Object.keys(j))this.deactivateRouteAndItsChildren(j[G],F);if(S&&S.outlet){const G=S.outlet.detach(),X=S.children.onOutletDeactivated();this.routeReuseStrategy.store(I.value.snapshot,{componentRef:G,route:I,contexts:X})}}deactivateRouteAndOutlet(I,_){const S=_.getContext(I.value.outlet),F=S&&I.value.component?S.children:_,j=br(I);for(const G of Object.keys(j))this.deactivateRouteAndItsChildren(j[G],F);S&&S.outlet&&(S.outlet.deactivate(),S.children.onOutletDeactivated(),S.attachRef=null,S.resolver=null,S.route=null)}activateChildRoutes(I,_,S){const F=br(_);I.children.forEach(j=>{this.activateRoutes(j,F[j.value.outlet],S),this.forwardEvent(new ri(j.value.snapshot))}),I.children.length&&this.forwardEvent(new ur(I.value.snapshot))}activateRoutes(I,_,S){const F=I.value,j=_?_.value:null;if(Vi(F),F===j)if(F.component){const G=S.getOrCreateContext(F.outlet);this.activateChildRoutes(I,_,G.children)}else this.activateChildRoutes(I,_,S);else if(F.component){const G=S.getOrCreateContext(F.outlet);if(this.routeReuseStrategy.shouldAttach(F.snapshot)){const X=this.routeReuseStrategy.retrieve(F.snapshot);this.routeReuseStrategy.store(F.snapshot,null),G.children.onOutletReAttached(X.contexts),G.attachRef=X.componentRef,G.route=X.route.value,G.outlet&&G.outlet.attach(X.componentRef,X.route.value),Vi(X.route.value),this.activateChildRoutes(I,null,G.children)}else{const X=function Yt(b){for(let I=b.parent;I;I=I.parent){const _=I.routeConfig;if(_&&_._loadedConfig)return _._loadedConfig;if(_&&_.component)return null}return null}(F.snapshot),He=X?X.module.componentFactoryResolver:null;G.attachRef=null,G.route=F,G.resolver=He,G.outlet&&G.outlet.activateWith(F,He),this.activateChildRoutes(I,null,G.children)}}else this.activateChildRoutes(I,null,S)}}class xn{constructor(I,_){this.routes=I,this.module=_}}function Zr(b){return"function"==typeof b}function ni(b){return b instanceof In}const Ur=Symbol("INITIAL_VALUE");function Oi(){return(0,Qt.w)(b=>function ie(...b){const I=(0,Te.yG)(b),_=(0,Te.jO)(b),{args:S,keys:F}=(0,Y.D)(b);if(0===S.length)return(0,pe.D)([],I);const j=new p.y(function Se(b,I,_=ce.y){return S=>{ft(I,()=>{const{length:F}=b,j=new Array(F);let G=F,X=F;for(let He=0;He<F;He++)ft(I,()=>{const xt=(0,pe.D)(b[He],I);let Gn=!1;xt.subscribe((0,Me.x)(S,nn=>{j[He]=nn,Gn||(Gn=!0,X--),X||S.next(_(j.slice()))},()=>{--G||S.complete()}))},S)},S)}}(S,I,F?G=>(0,Ae.n)(F,G):ce.y));return _?j.pipe((0,we.Z)(_)):j}(b.map(I=>I.pipe((0,Pt.q)(1),(0,Tn.O)(Ur)))).pipe((0,It.R)((I,_)=>{let S=!1;return _.reduce((F,j,G)=>F!==Ur?F:(j===Ur&&(S=!0),S||!1!==j&&G!==_.length-1&&!ni(j)?F:j),I)},Ur),(0,rt.h)(I=>I!==Ur),(0,ct.U)(I=>ni(I)?I:!0===I),(0,Pt.q)(1)))}class Ms{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.children=new Es,this.attachRef=null}}class Es{constructor(){this.contexts=new Map}onChildOutletCreated(I,_){const S=this.getOrCreateContext(I);S.outlet=_,this.contexts.set(I,S)}onChildOutletDestroyed(I){const _=this.getContext(I);_&&(_.outlet=null,_.attachRef=null)}onOutletDeactivated(){const I=this.contexts;return this.contexts=new Map,I}onOutletReAttached(I){this.contexts=I}getOrCreateContext(I){let _=this.getContext(I);return _||(_=new Ms,this.contexts.set(I,_)),_}getContext(I){return this.contexts.get(I)||null}}let ws=(()=>{class b{constructor(_,S,F,j,G){this.parentContexts=_,this.location=S,this.resolver=F,this.changeDetector=G,this.activated=null,this._activatedRoute=null,this.activateEvents=new g.vpe,this.deactivateEvents=new g.vpe,this.attachEvents=new g.vpe,this.detachEvents=new g.vpe,this.name=j||wt,_.onChildOutletCreated(this.name,this)}ngOnDestroy(){this.parentContexts.onChildOutletDestroyed(this.name)}ngOnInit(){if(!this.activated){const _=this.parentContexts.getContext(this.name);_&&_.route&&(_.attachRef?this.attach(_.attachRef,_.route):this.activateWith(_.route,_.resolver||null))}}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();const _=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(_.instance),_}attach(_,S){this.activated=_,this._activatedRoute=S,this.location.insert(_.hostView),this.attachEvents.emit(_.instance)}deactivate(){if(this.activated){const _=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(_)}}activateWith(_,S){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=_;const G=(S=S||this.resolver).resolveComponentFactory(_._futureSnapshot.routeConfig.component),X=this.parentContexts.getOrCreateContext(this.name).children,He=new cs(_,X,this.location.injector);this.activated=this.location.createComponent(G,this.location.length,He),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return b.\u0275fac=function(_){return new(_||b)(g.Y36(Es),g.Y36(g.s_b),g.Y36(g._Vd),g.$8M("name"),g.Y36(g.sBO))},b.\u0275dir=g.lG2({type:b,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"]}),b})();class cs{constructor(I,_,S){this.route=I,this.childContexts=_,this.parent=S}get(I,_){return I===yr?this.route:I===Es?this.childContexts:this.parent.get(I,_)}}let Jr=(()=>{class b{}return b.\u0275fac=function(_){return new(_||b)},b.\u0275cmp=g.Xpm({type:b,selectors:[["ng-component"]],decls:1,vars:0,template:function(_,S){1&_&&g._UZ(0,"router-outlet")},directives:[ws],encapsulation:2}),b})();function qi(b,I=""){for(let _=0;_<b.length;_++){const S=b[_];ro(S,vr(I,S))}}function ro(b,I){b.children&&qi(b.children,I)}function vr(b,I){return I?b||I.path?b&&!I.path?`${b}/`:!b&&I.path?I.path:`${b}/${I.path}`:"":b}function P(b){const I=b.children&&b.children.map(P),_=I?Object.assign(Object.assign({},b),{children:I}):Object.assign({},b);return!_.component&&(I||_.loadChildren)&&_.outlet&&_.outlet!==wt&&(_.component=Jr),_}function H(b){return b.outlet||wt}function O(b,I){const _=b.filter(S=>H(S)===I);return _.push(...b.filter(S=>H(S)!==I)),_}const K={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function de(b,I,_){var S;if(""===I.path)return"full"===I.pathMatch&&(b.hasChildren()||_.length>0)?Object.assign({},K):{matched:!0,consumedSegments:[],remainingSegments:_,parameters:{},positionalParamSegments:{}};const j=(I.matcher||Di)(_,b,I);if(!j)return Object.assign({},K);const G={};Qe(j.posParams,(He,xt)=>{G[xt]=He.path});const X=j.consumed.length>0?Object.assign(Object.assign({},G),j.consumed[j.consumed.length-1].parameters):G;return{matched:!0,consumedSegments:j.consumed,remainingSegments:_.slice(j.consumed.length),parameters:X,positionalParamSegments:null!==(S=j.posParams)&&void 0!==S?S:{}}}function ze(b,I,_,S,F="corrected"){if(_.length>0&&function or(b,I,_){return _.some(S=>_n(b,I,S)&&H(S)!==wt)}(b,_,S)){const G=new Jt(I,function Et(b,I,_,S){const F={};F[wt]=S,S._sourceSegment=b,S._segmentIndexShift=I.length;for(const j of _)if(""===j.path&&H(j)!==wt){const G=new Jt([],{});G._sourceSegment=b,G._segmentIndexShift=I.length,F[H(j)]=G}return F}(b,I,S,new Jt(_,b.children)));return G._sourceSegment=b,G._segmentIndexShift=I.length,{segmentGroup:G,slicedSegments:[]}}if(0===_.length&&function Kn(b,I,_){return _.some(S=>_n(b,I,S))}(b,_,S)){const G=new Jt(b.segments,function Ke(b,I,_,S,F,j){const G={};for(const X of S)if(_n(b,_,X)&&!F[H(X)]){const He=new Jt([],{});He._sourceSegment=b,He._segmentIndexShift="legacy"===j?b.segments.length:I.length,G[H(X)]=He}return Object.assign(Object.assign({},F),G)}(b,I,_,S,b.children,F));return G._sourceSegment=b,G._segmentIndexShift=I.length,{segmentGroup:G,slicedSegments:_}}const j=new Jt(b.segments,b.children);return j._sourceSegment=b,j._segmentIndexShift=I.length,{segmentGroup:j,slicedSegments:_}}function _n(b,I,_){return(!(b.hasChildren()||I.length>0)||"full"!==_.pathMatch)&&""===_.path}function bn(b,I,_,S){return!!(H(b)===S||S!==wt&&_n(I,_,b))&&("**"===b.path||de(I,b,_).matched)}function Or(b,I,_){return 0===I.length&&!b.children[_]}class ar{constructor(I){this.segmentGroup=I||null}}class hr{constructor(I){this.urlTree=I}}function ji(b){return Xe(new ar(b))}function Xr(b){return Xe(new hr(b))}class Gs{constructor(I,_,S,F,j){this.configLoader=_,this.urlSerializer=S,this.urlTree=F,this.config=j,this.allowRedirects=!0,this.ngModule=I.get(g.h0i)}apply(){const I=ze(this.urlTree.root,[],[],this.config).segmentGroup,_=new Jt(I.segments,I.children);return this.expandSegmentGroup(this.ngModule,this.config,_,wt).pipe((0,ct.U)(j=>this.createUrlTree(k(j),this.urlTree.queryParams,this.urlTree.fragment))).pipe(fe(j=>{if(j instanceof hr)return this.allowRedirects=!1,this.match(j.urlTree);throw j instanceof ar?this.noMatchError(j):j}))}match(I){return this.expandSegmentGroup(this.ngModule,this.config,I.root,wt).pipe((0,ct.U)(F=>this.createUrlTree(k(F),I.queryParams,I.fragment))).pipe(fe(F=>{throw F instanceof ar?this.noMatchError(F):F}))}noMatchError(I){return new Error(`Cannot match any routes. URL Segment: '${I.segmentGroup}'`)}createUrlTree(I,_,S){const F=I.segments.length>0?new Jt([],{[wt]:I}):I;return new In(F,_,S)}expandSegmentGroup(I,_,S,F){return 0===S.segments.length&&S.hasChildren()?this.expandChildren(I,_,S).pipe((0,ct.U)(j=>new Jt([],j))):this.expandSegment(I,S,_,S.segments,F,!0)}expandChildren(I,_,S){const F=[];for(const j of Object.keys(S.children))"primary"===j?F.unshift(j):F.push(j);return(0,pe.D)(F).pipe(Ee(j=>{const G=S.children[j],X=O(_,j);return this.expandSegmentGroup(I,X,G,j).pipe((0,ct.U)(He=>({segment:He,outlet:j})))}),(0,It.R)((j,G)=>(j[G.outlet]=G.segment,j),{}),function sn(b,I){const _=arguments.length>=2;return S=>S.pipe(b?(0,rt.h)((F,j)=>b(F,j,S)):ce.y,Ue(1),_?(0,$t.d)(I):(0,en.T)(()=>new st.K))}())}expandSegment(I,_,S,F,j,G){return(0,pe.D)(S).pipe(Ee(X=>this.expandSegmentAgainstRoute(I,_,S,X,F,j,G).pipe(fe(xt=>{if(xt instanceof ar)return(0,Ce.of)(null);throw xt}))),(0,pn.P)(X=>!!X),fe((X,He)=>{if(X instanceof st.K||"EmptyError"===X.name)return Or(_,F,j)?(0,Ce.of)(new Jt([],{})):ji(_);throw X}))}expandSegmentAgainstRoute(I,_,S,F,j,G,X){return bn(F,_,j,G)?void 0===F.redirectTo?this.matchSegmentAgainstRoute(I,_,F,j,G):X&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(I,_,S,F,j,G):ji(_):ji(_)}expandSegmentAgainstRouteUsingRedirect(I,_,S,F,j,G){return"**"===F.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(I,S,F,G):this.expandRegularSegmentAgainstRouteUsingRedirect(I,_,S,F,j,G)}expandWildCardWithParamsAgainstRouteUsingRedirect(I,_,S,F){const j=this.applyRedirectCommands([],S.redirectTo,{});return S.redirectTo.startsWith("/")?Xr(j):this.lineralizeSegments(S,j).pipe((0,Oe.z)(G=>{const X=new Jt(G,{});return this.expandSegment(I,X,_,G,F,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(I,_,S,F,j,G){const{matched:X,consumedSegments:He,remainingSegments:xt,positionalParamSegments:Gn}=de(_,F,j);if(!X)return ji(_);const nn=this.applyRedirectCommands(He,F.redirectTo,Gn);return F.redirectTo.startsWith("/")?Xr(nn):this.lineralizeSegments(F,nn).pipe((0,Oe.z)(Tr=>this.expandSegment(I,_,S,Tr.concat(xt),G,!1)))}matchSegmentAgainstRoute(I,_,S,F,j){if("**"===S.path)return S.loadChildren?(S._loadedConfig?(0,Ce.of)(S._loadedConfig):this.configLoader.load(I.injector,S)).pipe((0,ct.U)(nn=>(S._loadedConfig=nn,new Jt(F,{})))):(0,Ce.of)(new Jt(F,{}));const{matched:G,consumedSegments:X,remainingSegments:He}=de(_,S,F);return G?this.getChildConfig(I,S,F).pipe((0,Oe.z)(Gn=>{const nn=Gn.module,Tr=Gn.routes,{segmentGroup:Zn,slicedSegments:Ks}=ze(_,X,He,Tr),Ps=new Jt(Zn.segments,Zn.children);if(0===Ks.length&&Ps.hasChildren())return this.expandChildren(nn,Tr,Ps).pipe((0,ct.U)(Ys=>new Jt(X,Ys)));if(0===Tr.length&&0===Ks.length)return(0,Ce.of)(new Jt(X,{}));const ea=H(S)===j;return this.expandSegment(nn,Ps,Tr,Ks,ea?wt:j,!0).pipe((0,ct.U)(di=>new Jt(X.concat(di.segments),di.children)))})):ji(_)}getChildConfig(I,_,S){return _.children?(0,Ce.of)(new xn(_.children,I)):_.loadChildren?void 0!==_._loadedConfig?(0,Ce.of)(_._loadedConfig):this.runCanLoadGuards(I.injector,_,S).pipe((0,Oe.z)(F=>F?this.configLoader.load(I.injector,_).pipe((0,ct.U)(j=>(_._loadedConfig=j,j))):function zi(b){return Xe(Kr(`Cannot load children because the guard of the route "path: '${b.path}'" returned false`))}(_))):(0,Ce.of)(new xn([],I))}runCanLoadGuards(I,_,S){const F=_.canLoad;if(!F||0===F.length)return(0,Ce.of)(!0);const j=F.map(G=>{const X=I.get(G);let He;if(function Ri(b){return b&&Zr(b.canLoad)}(X))He=X.canLoad(_,S);else{if(!Zr(X))throw new Error("Invalid CanLoad guard");He=X(_,S)}return bt(He)});return(0,Ce.of)(j).pipe(Oi(),(0,kt.b)(G=>{if(!ni(G))return;const X=Kr(`Redirecting to "${this.urlSerializer.serialize(G)}"`);throw X.url=G,X}),(0,ct.U)(G=>!0===G))}lineralizeSegments(I,_){let S=[],F=_.root;for(;;){if(S=S.concat(F.segments),0===F.numberOfChildren)return(0,Ce.of)(S);if(F.numberOfChildren>1||!F.children[wt])return Xe(new Error(`Only absolute redirects can have named outlets. redirectTo: '${I.redirectTo}'`));F=F.children[wt]}}applyRedirectCommands(I,_,S){return this.applyRedirectCreatreUrlTree(_,this.urlSerializer.parse(_),I,S)}applyRedirectCreatreUrlTree(I,_,S,F){const j=this.createSegmentGroup(I,_.root,S,F);return new In(j,this.createQueryParams(_.queryParams,this.urlTree.queryParams),_.fragment)}createQueryParams(I,_){const S={};return Qe(I,(F,j)=>{if("string"==typeof F&&F.startsWith(":")){const X=F.substring(1);S[j]=_[X]}else S[j]=F}),S}createSegmentGroup(I,_,S,F){const j=this.createSegments(I,_.segments,S,F);let G={};return Qe(_.children,(X,He)=>{G[He]=this.createSegmentGroup(I,X,S,F)}),new Jt(j,G)}createSegments(I,_,S,F){return _.map(j=>j.path.startsWith(":")?this.findPosParam(I,j,F):this.findOrReturn(j,S))}findPosParam(I,_,S){const F=S[_.path.substring(1)];if(!F)throw new Error(`Cannot redirect to '${I}'. Cannot find '${_.path}'.`);return F}findOrReturn(I,_){let S=0;for(const F of _){if(F.path===I.path)return _.splice(S),F;S++}return I}}function k(b){const I={};for(const S of Object.keys(b.children)){const j=k(b.children[S]);(j.segments.length>0||j.hasChildren())&&(I[S]=j)}return function Bs(b){if(1===b.numberOfChildren&&b.children[wt]){const I=b.children[wt];return new Jt(b.segments.concat(I.segments),I.children)}return b}(new Jt(b.segments,I))}class M{constructor(I){this.path=I,this.route=this.path[this.path.length-1]}}class y{constructor(I,_){this.component=I,this.route=_}}function D(b,I,_){const S=b._root;return Le(S,I?I._root:null,_,[S.value])}function ee(b,I,_){const S=function ye(b){if(!b)return null;for(let I=b.parent;I;I=I.parent){const _=I.routeConfig;if(_&&_._loadedConfig)return _._loadedConfig}return null}(I);return(S?S.module.injector:_).get(b)}function Le(b,I,_,S,F={canDeactivateChecks:[],canActivateChecks:[]}){const j=br(I);return b.children.forEach(G=>{(function nt(b,I,_,S,F={canDeactivateChecks:[],canActivateChecks:[]}){const j=b.value,G=I?I.value:null,X=_?_.getContext(b.value.outlet):null;if(G&&j.routeConfig===G.routeConfig){const He=function Ut(b,I,_){if("function"==typeof _)return _(b,I);switch(_){case"pathParamsChange":return!Xt(b.url,I.url);case"pathParamsOrQueryParamsChange":return!Xt(b.url,I.url)||!Xn(b.queryParams,I.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!ys(b,I)||!Xn(b.queryParams,I.queryParams);default:return!ys(b,I)}}(G,j,j.routeConfig.runGuardsAndResolvers);He?F.canActivateChecks.push(new M(S)):(j.data=G.data,j._resolvedData=G._resolvedData),Le(b,I,j.component?X?X.children:null:_,S,F),He&&X&&X.outlet&&X.outlet.isActivated&&F.canDeactivateChecks.push(new y(X.outlet.component,G))}else G&&Ct(I,X,F),F.canActivateChecks.push(new M(S)),Le(b,null,j.component?X?X.children:null:_,S,F)})(G,j[G.value.outlet],_,S.concat([G.value]),F),delete j[G.value.outlet]}),Qe(j,(G,X)=>Ct(G,_.getContext(X),F)),F}function Ct(b,I,_){const S=br(b),F=b.value;Qe(S,(j,G)=>{Ct(j,F.component?I?I.children.getContext(G):null:I,_)}),_.canDeactivateChecks.push(new y(F.component&&I&&I.outlet&&I.outlet.isActivated?I.outlet.component:null,F))}class ui{}function $i(b){return new p.y(I=>I.error(b))}class li{constructor(I,_,S,F,j,G){this.rootComponentType=I,this.config=_,this.urlTree=S,this.url=F,this.paramsInheritanceStrategy=j,this.relativeLinkResolution=G}recognize(){const I=ze(this.urlTree.root,[],[],this.config.filter(G=>void 0===G.redirectTo),this.relativeLinkResolution).segmentGroup,_=this.processSegmentGroup(this.config,I,wt);if(null===_)return null;const S=new us([],Object.freeze({}),Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,{},wt,this.rootComponentType,null,this.urlTree.root,-1,{}),F=new cr(S,_),j=new _r(this.url,F);return this.inheritParamsAndData(j._root),j}inheritParamsAndData(I){const _=I.value,S=Gr(_,this.paramsInheritanceStrategy);_.params=Object.freeze(S.params),_.data=Object.freeze(S.data),I.children.forEach(F=>this.inheritParamsAndData(F))}processSegmentGroup(I,_,S){return 0===_.segments.length&&_.hasChildren()?this.processChildren(I,_):this.processSegment(I,_,_.segments,S)}processChildren(I,_){const S=[];for(const j of Object.keys(_.children)){const G=_.children[j],X=O(I,j),He=this.processSegmentGroup(X,G,j);if(null===He)return null;S.push(...He)}const F=Zs(S);return function Pr(b){b.sort((I,_)=>I.value.outlet===wt?-1:_.value.outlet===wt?1:I.value.outlet.localeCompare(_.value.outlet))}(F),F}processSegment(I,_,S,F){for(const j of I){const G=this.processSegmentAgainstRoute(j,_,S,F);if(null!==G)return G}return Or(_,S,F)?[]:null}processSegmentAgainstRoute(I,_,S,F){if(I.redirectTo||!bn(I,_,S,F))return null;let j,G=[],X=[];if("**"===I.path){const Zn=S.length>0?wn(S).parameters:{};j=new us(S,Zn,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,go(I),H(I),I.component,I,Da(_),Wo(_)+S.length,Ta(I))}else{const Zn=de(_,I,S);if(!Zn.matched)return null;G=Zn.consumedSegments,X=Zn.remainingSegments,j=new us(G,Zn.parameters,Object.freeze(Object.assign({},this.urlTree.queryParams)),this.urlTree.fragment,go(I),H(I),I.component,I,Da(_),Wo(_)+G.length,Ta(I))}const He=function Rs(b){return b.children?b.children:b.loadChildren?b._loadedConfig.routes:[]}(I),{segmentGroup:xt,slicedSegments:Gn}=ze(_,G,X,He.filter(Zn=>void 0===Zn.redirectTo),this.relativeLinkResolution);if(0===Gn.length&&xt.hasChildren()){const Zn=this.processChildren(He,xt);return null===Zn?null:[new cr(j,Zn)]}if(0===He.length&&0===Gn.length)return[new cr(j,[])];const nn=H(I)===F,Tr=this.processSegment(He,xt,Gn,nn?wt:F);return null===Tr?null:[new cr(j,Tr)]}}function po(b){const I=b.value.routeConfig;return I&&""===I.path&&void 0===I.redirectTo}function Zs(b){const I=[],_=new Set;for(const S of b){if(!po(S)){I.push(S);continue}const F=I.find(j=>S.value.routeConfig===j.value.routeConfig);void 0!==F?(F.children.push(...S.children),_.add(F)):I.push(S)}for(const S of _){const F=Zs(S.children);I.push(new cr(S.value,F))}return I.filter(S=>!_.has(S))}function Da(b){let I=b;for(;I._sourceSegment;)I=I._sourceSegment;return I}function Wo(b){let I=b,_=I._segmentIndexShift?I._segmentIndexShift:0;for(;I._sourceSegment;)I=I._sourceSegment,_+=I._segmentIndexShift?I._segmentIndexShift:0;return _-1}function go(b){return b.data||{}}function Ta(b){return b.resolve||{}}function Iu(b){return[...Object.keys(b),...Object.getOwnPropertySymbols(b)]}function _i(b){return(0,Qt.w)(I=>{const _=b(I);return _?(0,pe.D)(_).pipe((0,ct.U)(()=>I)):(0,Ce.of)(I)})}class ca extends class ci{shouldDetach(I){return!1}store(I,_){}shouldAttach(I){return!1}retrieve(I){return null}shouldReuseRoute(I,_){return I.routeConfig===_.routeConfig}}{}const Cu=new g.OlP("ROUTES");class bu{constructor(I,_,S,F){this.injector=I,this.compiler=_,this.onLoadStartListener=S,this.onLoadEndListener=F}load(I,_){if(_._loader$)return _._loader$;this.onLoadStartListener&&this.onLoadStartListener(_);const F=this.loadModuleFactory(_.loadChildren).pipe((0,ct.U)(j=>{this.onLoadEndListener&&this.onLoadEndListener(_);const G=j.create(I);return new xn(Mr(G.injector.get(Cu,void 0,g.XFs.Self|g.XFs.Optional)).map(P),G)}),fe(j=>{throw _._loader$=void 0,j}));return _._loader$=new ue(F,()=>new be.x).pipe(vt()),_._loader$}loadModuleFactory(I){return bt(I()).pipe((0,Oe.z)(_=>_ instanceof g.YKP?(0,Ce.of)(_):(0,pe.D)(this.compiler.compileModuleAsync(_))))}}class Zl{shouldProcessUrl(I){return!0}extract(I){return I}merge(I,_){return I}}function Sa(b){throw b}function Is(b,I,_){return I.parse("/")}function bo(b,I){return(0,Ce.of)(null)}const Yo={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},vi={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Hi=(()=>{class b{constructor(_,S,F,j,G,X,He){this.rootComponentType=_,this.urlSerializer=S,this.rootContexts=F,this.location=j,this.config=He,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.disposed=!1,this.navigationId=0,this.currentPageId=0,this.isNgZoneEnabled=!1,this.events=new be.x,this.errorHandler=Sa,this.malformedUriErrorHandler=Is,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:bo,afterPreactivation:bo},this.urlHandlingStrategy=new Zl,this.routeReuseStrategy=new ca,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="corrected",this.canceledNavigationResolution="replace",this.ngModule=G.get(g.h0i),this.console=G.get(g.c2e);const nn=G.get(g.R0b);this.isNgZoneEnabled=nn instanceof g.R0b&&g.R0b.isInAngularZone(),this.resetConfig(He),this.currentUrlTree=function Ft(){return new In(new Jt([],{}),{},null)}(),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new bu(G,X,Tr=>this.triggerEvent(new tn(Tr)),Tr=>this.triggerEvent(new Br(Tr))),this.routerState=Fn(this.currentUrlTree,this.rootComponentType),this.transitions=new We.X({id:0,targetPageId:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}get browserPageId(){var _;return null===(_=this.location.getState())||void 0===_?void 0:_.\u0275routerPageId}setupNavigations(_){const S=this.events;return _.pipe((0,rt.h)(F=>0!==F.id),(0,ct.U)(F=>Object.assign(Object.assign({},F),{extractedUrl:this.urlHandlingStrategy.extract(F.rawUrl)})),(0,Qt.w)(F=>{let j=!1,G=!1;return(0,Ce.of)(F).pipe((0,kt.b)(X=>{this.currentNavigation={id:X.id,initialUrl:X.currentRawUrl,extractedUrl:X.extractedUrl,trigger:X.source,extras:X.extras,previousNavigation:this.lastSuccessfulNavigation?Object.assign(Object.assign({},this.lastSuccessfulNavigation),{previousNavigation:null}):null}}),(0,Qt.w)(X=>{const He=this.browserUrlTree.toString(),xt=!this.navigated||X.extractedUrl.toString()!==He||He!==this.currentUrlTree.toString();if(("reload"===this.onSameUrlNavigation||xt)&&this.urlHandlingStrategy.shouldProcessUrl(X.rawUrl))return Cs(X.source)&&(this.browserUrlTree=X.extractedUrl),(0,Ce.of)(X).pipe((0,Qt.w)(nn=>{const Tr=this.transitions.getValue();return S.next(new Qr(nn.id,this.serializeUrl(nn.extractedUrl),nn.source,nn.restoredState)),Tr!==this.transitions.getValue()?Ne.E:Promise.resolve(nn)}),function R(b,I,_,S){return(0,Qt.w)(F=>function Wi(b,I,_,S,F){return new Gs(b,I,_,S,F).apply()}(b,I,_,F.extractedUrl,S).pipe((0,ct.U)(j=>Object.assign(Object.assign({},F),{urlAfterRedirects:j}))))}(this.ngModule.injector,this.configLoader,this.urlSerializer,this.config),(0,kt.b)(nn=>{this.currentNavigation=Object.assign(Object.assign({},this.currentNavigation),{finalUrl:nn.urlAfterRedirects})}),function io(b,I,_,S,F){return(0,Oe.z)(j=>function Yr(b,I,_,S,F="emptyOnly",j="legacy"){try{const G=new li(b,I,_,S,F,j).recognize();return null===G?$i(new ui):(0,Ce.of)(G)}catch(G){return $i(G)}}(b,I,j.urlAfterRedirects,_(j.urlAfterRedirects),S,F).pipe((0,ct.U)(G=>Object.assign(Object.assign({},j),{targetSnapshot:G}))))}(this.rootComponentType,this.config,nn=>this.serializeUrl(nn),this.paramsInheritanceStrategy,this.relativeLinkResolution),(0,kt.b)(nn=>{if("eager"===this.urlUpdateStrategy){if(!nn.extras.skipLocationChange){const Zn=this.urlHandlingStrategy.merge(nn.urlAfterRedirects,nn.rawUrl);this.setBrowserUrl(Zn,nn)}this.browserUrlTree=nn.urlAfterRedirects}const Tr=new xr(nn.id,this.serializeUrl(nn.extractedUrl),this.serializeUrl(nn.urlAfterRedirects),nn.targetSnapshot);S.next(Tr)}));if(xt&&this.rawUrlTree&&this.urlHandlingStrategy.shouldProcessUrl(this.rawUrlTree)){const{id:Tr,extractedUrl:Zn,source:Ks,restoredState:Ps,extras:ea}=X,Ao=new Qr(Tr,this.serializeUrl(Zn),Ks,Ps);S.next(Ao);const di=Fn(Zn,this.rootComponentType).snapshot;return(0,Ce.of)(Object.assign(Object.assign({},X),{targetSnapshot:di,urlAfterRedirects:Zn,extras:Object.assign(Object.assign({},ea),{skipLocationChange:!1,replaceUrl:!1})}))}return this.rawUrlTree=X.rawUrl,X.resolve(null),Ne.E}),_i(X=>{const{targetSnapshot:He,id:xt,extractedUrl:Gn,rawUrl:nn,extras:{skipLocationChange:Tr,replaceUrl:Zn}}=X;return this.hooks.beforePreactivation(He,{navigationId:xt,appliedUrlTree:Gn,rawUrlTree:nn,skipLocationChange:!!Tr,replaceUrl:!!Zn})}),(0,kt.b)(X=>{const He=new jn(X.id,this.serializeUrl(X.extractedUrl),this.serializeUrl(X.urlAfterRedirects),X.targetSnapshot);this.triggerEvent(He)}),(0,ct.U)(X=>Object.assign(Object.assign({},X),{guards:D(X.targetSnapshot,X.currentSnapshot,this.rootContexts)})),function vn(b,I){return(0,Oe.z)(_=>{const{targetSnapshot:S,currentSnapshot:F,guards:{canActivateChecks:j,canDeactivateChecks:G}}=_;return 0===G.length&&0===j.length?(0,Ce.of)(Object.assign(Object.assign({},_),{guardsResult:!0})):function Hn(b,I,_,S){return(0,pe.D)(b).pipe((0,Oe.z)(F=>function Er(b,I,_,S,F){const j=I&&I.routeConfig?I.routeConfig.canDeactivate:null;if(!j||0===j.length)return(0,Ce.of)(!0);const G=j.map(X=>{const He=ee(X,I,F);let xt;if(function ai(b){return b&&Zr(b.canDeactivate)}(He))xt=bt(He.canDeactivate(b,I,_,S));else{if(!Zr(He))throw new Error("Invalid CanDeactivate guard");xt=bt(He(b,I,_,S))}return xt.pipe((0,pn.P)())});return(0,Ce.of)(G).pipe(Oi())}(F.component,F.route,_,I,S)),(0,pn.P)(F=>!0!==F,!0))}(G,S,F,b).pipe((0,Oe.z)(X=>X&&function ls(b){return"boolean"==typeof b}(X)?function qr(b,I,_,S){return(0,pe.D)(I).pipe(Ee(F=>(0,et.z)(function Yn(b,I){return null!==b&&I&&I(new bi(b)),(0,Ce.of)(!0)}(F.route.parent,S),function fr(b,I){return null!==b&&I&&I(new Fr(b)),(0,Ce.of)(!0)}(F.route,S),function Ai(b,I,_){const S=I[I.length-1],j=I.slice(0,I.length-1).reverse().map(G=>function W(b){const I=b.routeConfig?b.routeConfig.canActivateChild:null;return I&&0!==I.length?{node:b,guards:I}:null}(G)).filter(G=>null!==G).map(G=>Ge(()=>{const X=G.guards.map(He=>{const xt=ee(He,G.node,_);let Gn;if(function Vs(b){return b&&Zr(b.canActivateChild)}(xt))Gn=bt(xt.canActivateChild(S,b));else{if(!Zr(xt))throw new Error("Invalid CanActivateChild guard");Gn=bt(xt(S,b))}return Gn.pipe((0,pn.P)())});return(0,Ce.of)(X).pipe(Oi())}));return(0,Ce.of)(j).pipe(Oi())}(b,F.path,_),function tr(b,I,_){const S=I.routeConfig?I.routeConfig.canActivate:null;if(!S||0===S.length)return(0,Ce.of)(!0);const F=S.map(j=>Ge(()=>{const G=ee(j,I,_);let X;if(function vs(b){return b&&Zr(b.canActivate)}(G))X=bt(G.canActivate(I,b));else{if(!Zr(G))throw new Error("Invalid CanActivate guard");X=bt(G(I,b))}return X.pipe((0,pn.P)())}));return(0,Ce.of)(F).pipe(Oi())}(b,F.route,_))),(0,pn.P)(F=>!0!==F,!0))}(S,j,b,I):(0,Ce.of)(X)),(0,ct.U)(X=>Object.assign(Object.assign({},_),{guardsResult:X})))})}(this.ngModule.injector,X=>this.triggerEvent(X)),(0,kt.b)(X=>{if(ni(X.guardsResult)){const xt=Kr(`Redirecting to "${this.serializeUrl(X.guardsResult)}"`);throw xt.url=X.guardsResult,xt}const He=new Vt(X.id,this.serializeUrl(X.extractedUrl),this.serializeUrl(X.urlAfterRedirects),X.targetSnapshot,!!X.guardsResult);this.triggerEvent(He)}),(0,rt.h)(X=>!!X.guardsResult||(this.restoreHistory(X),this.cancelNavigationTransition(X,""),!1)),_i(X=>{if(X.guards.canActivateChecks.length)return(0,Ce.of)(X).pipe((0,kt.b)(He=>{const xt=new Zt(He.id,this.serializeUrl(He.extractedUrl),this.serializeUrl(He.urlAfterRedirects),He.targetSnapshot);this.triggerEvent(xt)}),(0,Qt.w)(He=>{let xt=!1;return(0,Ce.of)(He).pipe(function Aa(b,I){return(0,Oe.z)(_=>{const{targetSnapshot:S,guards:{canActivateChecks:F}}=_;if(!F.length)return(0,Ce.of)(_);let j=0;return(0,pe.D)(F).pipe(Ee(G=>function qs(b,I,_,S){return function Po(b,I,_,S){const F=Iu(b);if(0===F.length)return(0,Ce.of)({});const j={};return(0,pe.D)(F).pipe((0,Oe.z)(G=>function la(b,I,_,S){const F=ee(b,I,S);return bt(F.resolve?F.resolve(I,_):F(I,_))}(b[G],I,_,S).pipe((0,kt.b)(X=>{j[G]=X}))),Ue(1),(0,Oe.z)(()=>Iu(j).length===F.length?(0,Ce.of)(j):Ne.E))}(b._resolve,b,I,S).pipe((0,ct.U)(j=>(b._resolvedData=j,b.data=Object.assign(Object.assign({},b.data),Gr(b,_).resolve),null)))}(G.route,S,b,I)),(0,kt.b)(()=>j++),Ue(1),(0,Oe.z)(G=>j===F.length?(0,Ce.of)(_):Ne.E))})}(this.paramsInheritanceStrategy,this.ngModule.injector),(0,kt.b)({next:()=>xt=!0,complete:()=>{xt||(this.restoreHistory(He),this.cancelNavigationTransition(He,"At least one route resolver didn't emit any value."))}}))}),(0,kt.b)(He=>{const xt=new An(He.id,this.serializeUrl(He.extractedUrl),this.serializeUrl(He.urlAfterRedirects),He.targetSnapshot);this.triggerEvent(xt)}))}),_i(X=>{const{targetSnapshot:He,id:xt,extractedUrl:Gn,rawUrl:nn,extras:{skipLocationChange:Tr,replaceUrl:Zn}}=X;return this.hooks.afterPreactivation(He,{navigationId:xt,appliedUrlTree:Gn,rawUrlTree:nn,skipLocationChange:!!Tr,replaceUrl:!!Zn})}),(0,ct.U)(X=>{const He=function _s(b,I,_){const S=Sn(b,I._root,_?_._root:void 0);return new Pn(S,I)}(this.routeReuseStrategy,X.targetSnapshot,X.currentRouterState);return Object.assign(Object.assign({},X),{targetRouterState:He})}),(0,kt.b)(X=>{this.currentUrlTree=X.urlAfterRedirects,this.rawUrlTree=this.urlHandlingStrategy.merge(X.urlAfterRedirects,X.rawUrl),this.routerState=X.targetRouterState,"deferred"===this.urlUpdateStrategy&&(X.extras.skipLocationChange||this.setBrowserUrl(this.rawUrlTree,X),this.browserUrlTree=X.urlAfterRedirects)}),((b,I,_)=>(0,ct.U)(S=>(new ut(I,S.targetRouterState,S.currentRouterState,_).activate(b),S)))(this.rootContexts,this.routeReuseStrategy,X=>this.triggerEvent(X)),(0,kt.b)({next(){j=!0},complete(){j=!0}}),function _t(b){return(0,Tt.e)((I,_)=>{try{I.subscribe(_)}finally{_.add(b)}})}(()=>{var X;j||G||this.cancelNavigationTransition(F,`Navigation ID ${F.id} is not equal to the current navigation id ${this.navigationId}`),(null===(X=this.currentNavigation)||void 0===X?void 0:X.id)===F.id&&(this.currentNavigation=null)}),fe(X=>{if(G=!0,function fn(b){return b&&b[gr]}(X)){const He=ni(X.url);He||(this.navigated=!0,this.restoreHistory(F,!0));const xt=new wr(F.id,this.serializeUrl(F.extractedUrl),X.message);S.next(xt),He?setTimeout(()=>{const Gn=this.urlHandlingStrategy.merge(X.url,this.rawUrlTree),nn={skipLocationChange:F.extras.skipLocationChange,replaceUrl:"eager"===this.urlUpdateStrategy||Cs(F.source)};this.scheduleNavigation(Gn,"imperative",null,nn,{resolve:F.resolve,reject:F.reject,promise:F.promise})},0):F.resolve(!1)}else{this.restoreHistory(F,!0);const He=new Wn(F.id,this.serializeUrl(F.extractedUrl),X);S.next(He);try{F.resolve(this.errorHandler(X))}catch(xt){F.reject(xt)}}return Ne.E}))}))}resetRootComponentType(_){this.rootComponentType=_,this.routerState.root.component=this.rootComponentType}setTransition(_){this.transitions.next(Object.assign(Object.assign({},this.transitions.value),_))}initialNavigation(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(_=>{const S="popstate"===_.type?"popstate":"hashchange";"popstate"===S&&setTimeout(()=>{var F;const j={replaceUrl:!0},G=(null===(F=_.state)||void 0===F?void 0:F.navigationId)?_.state:null;if(G){const He=Object.assign({},G);delete He.navigationId,delete He.\u0275routerPageId,0!==Object.keys(He).length&&(j.state=He)}const X=this.parseUrl(_.url);this.scheduleNavigation(X,S,G,j)},0)}))}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.currentNavigation}triggerEvent(_){this.events.next(_)}resetConfig(_){qi(_),this.config=_.map(P),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.transitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(_,S={}){const{relativeTo:F,queryParams:j,fragment:G,queryParamsHandling:X,preserveFragment:He}=S,xt=F||this.routerState.root,Gn=He?this.currentUrlTree.fragment:G;let nn=null;switch(X){case"merge":nn=Object.assign(Object.assign({},this.currentUrlTree.queryParams),j);break;case"preserve":nn=this.currentUrlTree.queryParams;break;default:nn=j||null}return null!==nn&&(nn=this.removeEmptyProps(nn)),function Ie(b,I,_,S,F){if(0===_.length)return Ye(I.root,I.root,I.root,S,F);const j=function Ln(b){if("string"==typeof b[0]&&1===b.length&&"/"===b[0])return new Lt(!0,0,b);let I=0,_=!1;const S=b.reduce((F,j,G)=>{if("object"==typeof j&&null!=j){if(j.outlets){const X={};return Qe(j.outlets,(He,xt)=>{X[xt]="string"==typeof He?He.split("/"):He}),[...F,{outlets:X}]}if(j.segmentPath)return[...F,j.segmentPath]}return"string"!=typeof j?[...F,j]:0===G?(j.split("/").forEach((X,He)=>{0==He&&"."===X||(0==He&&""===X?_=!0:".."===X?I++:""!=X&&F.push(X))}),F):[...F,j]},[]);return new Lt(_,I,S)}(_);if(j.toRoot())return Ye(I.root,I.root,new Jt([],{}),S,F);const G=function Un(b,I,_){if(b.isAbsolute)return new Rr(I.root,!0,0);if(-1===_.snapshot._lastPathIndex){const j=_.snapshot._urlSegment;return new Rr(j,j===I.root,0)}const S=me(b.commands[0])?0:1;return function mi(b,I,_){let S=b,F=I,j=_;for(;j>F;){if(j-=F,S=S.parent,!S)throw new Error("Invalid number of '../'");F=S.segments.length}return new Rr(S,!1,F-j)}(_.snapshot._urlSegment,_.snapshot._lastPathIndex+S,b.numberOfDoubleDots)}(j,I,b),X=G.processChildren?Zi(G.segmentGroup,G.index,j.commands):yi(G.segmentGroup,G.index,j.commands);return Ye(I.root,G.segmentGroup,X,S,F)}(xt,this.currentUrlTree,_,nn,null!=Gn?Gn:null)}navigateByUrl(_,S={skipLocationChange:!1}){const F=ni(_)?_:this.parseUrl(_),j=this.urlHandlingStrategy.merge(F,this.rawUrlTree);return this.scheduleNavigation(j,"imperative",null,S)}navigate(_,S={skipLocationChange:!1}){return function Du(b){for(let I=0;I<b.length;I++){const _=b[I];if(null==_)throw new Error(`The requested path contains ${_} segment at index ${I}`)}}(_),this.navigateByUrl(this.createUrlTree(_,S),S)}serializeUrl(_){return this.urlSerializer.serialize(_)}parseUrl(_){let S;try{S=this.urlSerializer.parse(_)}catch(F){S=this.malformedUriErrorHandler(F,this.urlSerializer,_)}return S}isActive(_,S){let F;if(F=!0===S?Object.assign({},Yo):!1===S?Object.assign({},vi):S,ni(_))return he(this.currentUrlTree,_,F);const j=this.parseUrl(_);return he(this.currentUrlTree,j,F)}removeEmptyProps(_){return Object.keys(_).reduce((S,F)=>{const j=_[F];return null!=j&&(S[F]=j),S},{})}processNavigations(){this.navigations.subscribe(_=>{this.navigated=!0,this.lastSuccessfulId=_.id,this.currentPageId=_.targetPageId,this.events.next(new rr(_.id,this.serializeUrl(_.extractedUrl),this.serializeUrl(this.currentUrlTree))),this.lastSuccessfulNavigation=this.currentNavigation,_.resolve(!0)},_=>{this.console.warn(`Unhandled Navigation Error: ${_}`)})}scheduleNavigation(_,S,F,j,G){var X,He;if(this.disposed)return Promise.resolve(!1);let xt,Gn,nn;G?(xt=G.resolve,Gn=G.reject,nn=G.promise):nn=new Promise((Ks,Ps)=>{xt=Ks,Gn=Ps});const Tr=++this.navigationId;let Zn;return"computed"===this.canceledNavigationResolution?(0===this.currentPageId&&(F=this.location.getState()),Zn=F&&F.\u0275routerPageId?F.\u0275routerPageId:j.replaceUrl||j.skipLocationChange?null!==(X=this.browserPageId)&&void 0!==X?X:0:(null!==(He=this.browserPageId)&&void 0!==He?He:0)+1):Zn=0,this.setTransition({id:Tr,targetPageId:Zn,source:S,restoredState:F,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:_,extras:j,resolve:xt,reject:Gn,promise:nn,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),nn.catch(Ks=>Promise.reject(Ks))}setBrowserUrl(_,S){const F=this.urlSerializer.serialize(_),j=Object.assign(Object.assign({},S.extras.state),this.generateNgRouterState(S.id,S.targetPageId));this.location.isCurrentPathEqualTo(F)||S.extras.replaceUrl?this.location.replaceState(F,"",j):this.location.go(F,"",j)}restoreHistory(_,S=!1){var F,j;if("computed"===this.canceledNavigationResolution){const G=this.currentPageId-_.targetPageId;"popstate"!==_.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==(null===(F=this.currentNavigation)||void 0===F?void 0:F.finalUrl)||0===G?this.currentUrlTree===(null===(j=this.currentNavigation)||void 0===j?void 0:j.finalUrl)&&0===G&&(this.resetState(_),this.browserUrlTree=_.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(G)}else"replace"===this.canceledNavigationResolution&&(S&&this.resetState(_),this.resetUrlToCurrentUrlTree())}resetState(_){this.routerState=_.currentRouterState,this.currentUrlTree=_.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,_.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}cancelNavigationTransition(_,S){const F=new wr(_.id,this.serializeUrl(_.extractedUrl),S);this.triggerEvent(F),_.resolve(!1)}generateNgRouterState(_,S){return"computed"===this.canceledNavigationResolution?{navigationId:_,\u0275routerPageId:S}:{navigationId:_}}}return b.\u0275fac=function(_){g.$Z()},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac}),b})();function Cs(b){return"imperative"!==b}let zs=(()=>{class b{constructor(_,S,F,j,G){this.router=_,this.route=S,this.tabIndexAttribute=F,this.renderer=j,this.el=G,this.commands=null,this.onChanges=new be.x,this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(_){if(null!=this.tabIndexAttribute)return;const S=this.renderer,F=this.el.nativeElement;null!==_?S.setAttribute(F,"tabindex",_):S.removeAttribute(F,"tabindex")}ngOnChanges(_){this.onChanges.next(this)}set routerLink(_){null!=_?(this.commands=Array.isArray(_)?_:[_],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(){if(null===this.urlTree)return!0;const _={skipLocationChange:ds(this.skipLocationChange),replaceUrl:ds(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,_),!0}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ds(this.preserveFragment)})}}return b.\u0275fac=function(_){return new(_||b)(g.Y36(Hi),g.Y36(yr),g.$8M("tabindex"),g.Y36(g.Qsj),g.Y36(g.SBq))},b.\u0275dir=g.lG2({type:b,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(_,S){1&_&&g.NdJ("click",function(){return S.onClick()})},inputs:{queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[g.TTD]}),b})(),ko=(()=>{class b{constructor(_,S,F){this.router=_,this.route=S,this.locationStrategy=F,this.commands=null,this.href=null,this.onChanges=new be.x,this.subscription=_.events.subscribe(j=>{j instanceof rr&&this.updateTargetUrlAndHref()})}set routerLink(_){this.commands=null!=_?Array.isArray(_)?_:[_]:null}ngOnChanges(_){this.updateTargetUrlAndHref(),this.onChanges.next(this)}ngOnDestroy(){this.subscription.unsubscribe()}onClick(_,S,F,j,G){if(0!==_||S||F||j||G||"string"==typeof this.target&&"_self"!=this.target||null===this.urlTree)return!0;const X={skipLocationChange:ds(this.skipLocationChange),replaceUrl:ds(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,X),!1}updateTargetUrlAndHref(){this.href=null!==this.urlTree?this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:ds(this.preserveFragment)})}}return b.\u0275fac=function(_){return new(_||b)(g.Y36(Hi),g.Y36(yr),g.Y36(kn.S$))},b.\u0275dir=g.lG2({type:b,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(_,S){1&_&&g.NdJ("click",function(j){return S.onClick(j.button,j.ctrlKey,j.shiftKey,j.altKey,j.metaKey)}),2&_&&g.uIk("target",S.target)("href",S.href,g.LSH)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state",relativeTo:"relativeTo",routerLink:"routerLink"},features:[g.TTD]}),b})();function ds(b){return""===b||!!b}class eu{}class tu{preload(I,_){return(0,Ce.of)(null)}}let Vr=(()=>{class b{constructor(_,S,F,j){this.router=_,this.injector=F,this.preloadingStrategy=j,this.loader=new bu(F,S,He=>_.triggerEvent(new tn(He)),He=>_.triggerEvent(new Br(He)))}setUpPreloading(){this.subscription=this.router.events.pipe((0,rt.h)(_=>_ instanceof rr),Ee(()=>this.preload())).subscribe(()=>{})}preload(){const _=this.injector.get(g.h0i);return this.processRoutes(_,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(_,S){const F=[];for(const j of S)if(j.loadChildren&&!j.canLoad&&j._loadedConfig){const G=j._loadedConfig;F.push(this.processRoutes(G.module,G.routes))}else j.loadChildren&&!j.canLoad?F.push(this.preloadConfig(_,j)):j.children&&F.push(this.processRoutes(_,j.children));return(0,pe.D)(F).pipe((0,yn.J)(),(0,ct.U)(j=>{}))}preloadConfig(_,S){return this.preloadingStrategy.preload(S,()=>(S._loadedConfig?(0,Ce.of)(S._loadedConfig):this.loader.load(_.injector,S)).pipe((0,Oe.z)(j=>(S._loadedConfig=j,this.processRoutes(j.module,j.routes)))))}}return b.\u0275fac=function(_){return new(_||b)(g.LFG(Hi),g.LFG(g.Sil),g.LFG(g.zs3),g.LFG(eu))},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac}),b})(),Qo=(()=>{class b{constructor(_,S,F={}){this.router=_,this.viewportScroller=S,this.options=F,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},F.scrollPositionRestoration=F.scrollPositionRestoration||"disabled",F.anchorScrolling=F.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof Qr?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=_.navigationTrigger,this.restoredId=_.restoredState?_.restoredState.navigationId:0):_ instanceof rr&&(this.lastId=_.id,this.scheduleScrollEvent(_,this.router.parseUrl(_.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.router.events.subscribe(_=>{_ instanceof $r&&(_.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(_.position):_.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(_.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(_,S){this.router.triggerEvent(new $r(_,"popstate"===this.lastSource?this.store[this.restoredId]:null,S))}ngOnDestroy(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()}}return b.\u0275fac=function(_){g.$Z()},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac}),b})();const bs=new g.OlP("ROUTER_CONFIGURATION"),Jo=new g.OlP("ROUTER_FORROOT_GUARD"),Xo=[kn.Ye,{provide:Lr,useClass:Bt},{provide:Hi,useFactory:function ql(b,I,_,S,F,j,G={},X,He){const xt=new Hi(null,b,I,_,S,F,Mr(j));return X&&(xt.urlHandlingStrategy=X),He&&(xt.routeReuseStrategy=He),function nu(b,I){b.errorHandler&&(I.errorHandler=b.errorHandler),b.malformedUriErrorHandler&&(I.malformedUriErrorHandler=b.malformedUriErrorHandler),b.onSameUrlNavigation&&(I.onSameUrlNavigation=b.onSameUrlNavigation),b.paramsInheritanceStrategy&&(I.paramsInheritanceStrategy=b.paramsInheritanceStrategy),b.relativeLinkResolution&&(I.relativeLinkResolution=b.relativeLinkResolution),b.urlUpdateStrategy&&(I.urlUpdateStrategy=b.urlUpdateStrategy),b.canceledNavigationResolution&&(I.canceledNavigationResolution=b.canceledNavigationResolution)}(G,xt),G.enableTracing&&xt.events.subscribe(Gn=>{var nn,Tr;null===(nn=console.group)||void 0===nn||nn.call(console,`Router Event: ${Gn.constructor.name}`),console.log(Gn.toString()),console.log(Gn),null===(Tr=console.groupEnd)||void 0===Tr||Tr.call(console)}),xt},deps:[Lr,Es,kn.Ye,g.zs3,g.Sil,Cu,bs,[class Ko{},new g.FiY],[class No{},new g.FiY]]},Es,{provide:yr,useFactory:function Pi(b){return b.routerState.root},deps:[Hi]},Vr,tu,class Tu{preload(I,_){return _().pipe(fe(()=>(0,Ce.of)(null)))}},{provide:bs,useValue:{enableTracing:!1}}];function Ma(){return new g.PXZ("Router",Hi)}let zr=(()=>{class b{constructor(_,S){}static forRoot(_,S){return{ngModule:b,providers:[Xo,js(_),{provide:Jo,useFactory:Ra,deps:[[Hi,new g.FiY,new g.tp0]]},{provide:bs,useValue:S||{}},{provide:kn.S$,useFactory:Ws,deps:[kn.lw,[new g.tBr(kn.mr),new g.FiY],bs]},{provide:Qo,useFactory:ul,deps:[Hi,kn.EM,bs]},{provide:eu,useExisting:S&&S.preloadingStrategy?S.preloadingStrategy:tu},{provide:g.PXZ,multi:!0,useFactory:Ma},[Do,{provide:g.ip1,multi:!0,useFactory:Os,deps:[Do]},{provide:so,useFactory:To,deps:[Do]},{provide:g.tb,multi:!0,useExisting:so}]]}}static forChild(_){return{ngModule:b,providers:[js(_)]}}}return b.\u0275fac=function(_){return new(_||b)(g.LFG(Jo,8),g.LFG(Hi,8))},b.\u0275mod=g.oAB({type:b}),b.\u0275inj=g.cJS({}),b})();function ul(b,I,_){return _.scrollOffset&&I.setOffset(_.scrollOffset),new Qo(b,I,_)}function Ws(b,I,_={}){return _.useHash?new kn.Do(b,I):new kn.b0(b,I)}function Ra(b){return"guarded"}function js(b){return[{provide:g.deG,multi:!0,useValue:b},{provide:Cu,multi:!0,useValue:b}]}let Do=(()=>{class b{constructor(_){this.injector=_,this.initNavigation=!1,this.destroyed=!1,this.resultOfPreactivationDone=new be.x}appInitializer(){return this.injector.get(kn.V_,Promise.resolve(null)).then(()=>{if(this.destroyed)return Promise.resolve(!0);let S=null;const F=new Promise(X=>S=X),j=this.injector.get(Hi),G=this.injector.get(bs);return"disabled"===G.initialNavigation?(j.setUpLocationChangeListener(),S(!0)):"enabled"===G.initialNavigation||"enabledBlocking"===G.initialNavigation?(j.hooks.afterPreactivation=()=>this.initNavigation?(0,Ce.of)(null):(this.initNavigation=!0,S(!0),this.resultOfPreactivationDone),j.initialNavigation()):S(!0),F})}bootstrapListener(_){const S=this.injector.get(bs),F=this.injector.get(Vr),j=this.injector.get(Qo),G=this.injector.get(Hi),X=this.injector.get(g.z2F);_===X.components[0]&&(("enabledNonBlocking"===S.initialNavigation||void 0===S.initialNavigation)&&G.initialNavigation(),F.setUpPreloading(),j.init(),G.resetRootComponentType(X.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())}ngOnDestroy(){this.destroyed=!0}}return b.\u0275fac=function(_){return new(_||b)(g.LFG(g.zs3))},b.\u0275prov=g.Yz7({token:b,factory:b.\u0275fac}),b})();function Os(b){return b.appInitializer.bind(b)}function To(b){return b.bootstrapListener.bind(b)}const so=new g.OlP("Router Initializer")},3942:(St,Be,L)=>{L.d(Be,{Z:()=>Xe});var g=L(2090),p=L(4859),Y=L(9681),pe=L(1877);class ce{constructor(Ge,Je){this._delegate=Ge,this.firebase=Je,(0,Y._addComponent)(Ge,new p.wA("app-compat",()=>this,"PUBLIC")),this.container=Ge.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Ge){this._delegate.automaticDataCollectionEnabled=Ge}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Ge=>{this._delegate.checkDestroyed(),Ge()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,Y.deleteApp)(this._delegate)))}_getService(Ge,Je=Y._DEFAULT_ENTRY_NAME){var Tt;this._delegate.checkDestroyed();const vt=this._delegate.container.getProvider(Ge);return!vt.isInitialized()&&"EXPLICIT"===(null===(Tt=vt.getComponent())||void 0===Tt?void 0:Tt.instantiationMode)&&vt.initialize(),vt.getImmediate({identifier:Je})}_removeServiceInstance(Ge,Je=Y._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Ge).clearInstance(Je)}_addComponent(Ge){(0,Y._addComponent)(this._delegate,Ge)}_addOrOverwriteComponent(Ge){(0,Y._addOrOverwriteComponent)(this._delegate,Ge)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Te=new g.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),le=function Me(){const at=function Ae(at){const Ge={},Je={__esModule:!0,initializeApp:function ue(et,Ne={}){const be=Y.initializeApp(et,Ne);if((0,g.r3)(Ge,be.name))return Ge[be.name];const fe=new at(be,Je);return Ge[be.name]=fe,fe},app:vt,registerVersion:Y.registerVersion,setLogLevel:Y.setLogLevel,onLog:Y.onLog,apps:null,SDK_VERSION:Y.SDK_VERSION,INTERNAL:{registerComponent:function We(et){const Ne=et.name,be=Ne.replace("-compat","");if(Y._registerComponent(et)&&"PUBLIC"===et.type){const fe=(Oe=vt())=>{if("function"!=typeof Oe[be])throw Te.create("invalid-app-argument",{appName:Ne});return Oe[be]()};void 0!==et.serviceProps&&(0,g.ZB)(fe,et.serviceProps),Je[be]=fe,at.prototype[be]=function(...Oe){return this._getService.bind(this,Ne).apply(this,et.multipleInstances?Oe:[])}}return"PUBLIC"===et.type?Je[be]:null},removeApp:function Tt(et){delete Ge[et]},useAsService:function st(et,Ne){return"serverAuth"===Ne?null:Ne},modularAPIs:Y}};function vt(et){if(!(0,g.r3)(Ge,et=et||Y._DEFAULT_ENTRY_NAME))throw Te.create("no-app",{appName:et});return Ge[et]}return Je.default=Je,Object.defineProperty(Je,"apps",{get:function Ce(){return Object.keys(Ge).map(et=>Ge[et])}}),vt.App=at,Je}(ce);return at.INTERNAL=Object.assign(Object.assign({},at.INTERNAL),{createFirebaseNamespace:Me,extendNamespace:function Ge(Je){(0,g.ZB)(at,Je)},createSubscribe:g.ne,ErrorFactory:g.LL,deepExtend:g.ZB}),at}(),ie=new pe.Yd("@firebase/app-compat");if((0,g.jU)()&&void 0!==self.firebase){ie.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const at=self.firebase.SDK_VERSION;at&&at.indexOf("LITE")>=0&&ie.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Xe=le;!function qe(at){(0,Y.registerVersion)("@firebase/app-compat","0.1.21",at)}()},9681:(St,Be,L)=>{L.r(Be),L.d(Be,{FirebaseError:()=>pe.ZR,SDK_VERSION:()=>rr,_DEFAULT_ENTRY_NAME:()=>sn,_addComponent:()=>Pt,_addOrOverwriteComponent:()=>Tn,_apps:()=>ct,_clearComponents:()=>yn,_components:()=>Qt,_getProvider:()=>pn,_registerComponent:()=>It,_removeServiceInstance:()=>kt,deleteApp:()=>jn,getApp:()=>Wn,getApps:()=>xr,initializeApp:()=>wr,onLog:()=>An,registerVersion:()=>Zt,setLogLevel:()=>tn});var g=L(5861),p=L(4859),Y=L(1877),pe=L(2090);class ce{constructor(Qe){this.container=Qe}getPlatformInfoString(){return this.container.getProviders().map(bt=>{if(function we(Mt){const Qe=Mt.getComponent();return"VERSION"===(null==Qe?void 0:Qe.type)}(bt)){const Ft=bt.getImmediate();return`${Ft.library}/${Ft.version}`}return null}).filter(bt=>bt).join(" ")}}const Te="@firebase/app",Me=new Y.Yd("@firebase/app"),sn="[DEFAULT]",_t={[Te]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},ct=new Map,Qt=new Map;function Pt(Mt,Qe){try{Mt.container.addComponent(Qe)}catch(bt){Me.debug(`Component ${Qe.name} failed to register with FirebaseApp ${Mt.name}`,bt)}}function Tn(Mt,Qe){Mt.container.addOrOverwriteComponent(Qe)}function It(Mt){const Qe=Mt.name;if(Qt.has(Qe))return Me.debug(`There were multiple attempts to register component ${Qe}.`),!1;Qt.set(Qe,Mt);for(const bt of ct.values())Pt(bt,Mt);return!0}function pn(Mt,Qe){const bt=Mt.container.getProvider("heartbeat").getImmediate({optional:!0});return bt&&bt.triggerHeartbeat(),Mt.container.getProvider(Qe)}function kt(Mt,Qe,bt=sn){pn(Mt,Qe).clearInstance(bt)}function yn(){Qt.clear()}const zn=new pe.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}."});class Qr{constructor(Qe,bt,Ft){this._isDeleted=!1,this._options=Object.assign({},Qe),this._config=Object.assign({},bt),this._name=bt.name,this._automaticDataCollectionEnabled=bt.automaticDataCollectionEnabled,this._container=Ft,this.container.addComponent(new p.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Qe){this.checkDestroyed(),this._automaticDataCollectionEnabled=Qe}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(Qe){this._isDeleted=Qe}checkDestroyed(){if(this.isDeleted)throw zn.create("app-deleted",{appName:this._name})}}const rr="9.6.10";function wr(Mt,Qe={}){"object"!=typeof Qe&&(Qe={name:Qe});const bt=Object.assign({name:sn,automaticDataCollectionEnabled:!1},Qe),Ft=bt.name;if("string"!=typeof Ft||!Ft)throw zn.create("bad-app-name",{appName:String(Ft)});const gn=ct.get(Ft);if(gn){if((0,pe.vZ)(Mt,gn.options)&&(0,pe.vZ)(bt,gn.config))return gn;throw zn.create("duplicate-app",{appName:Ft})}const qt=new p.H0(Ft);for(const se of Qt.values())qt.addComponent(se);const he=new Qr(Mt,bt,qt);return ct.set(Ft,he),he}function Wn(Mt=sn){const Qe=ct.get(Mt);if(!Qe)throw zn.create("no-app",{appName:Mt});return Qe}function xr(){return Array.from(ct.values())}function jn(Mt){return Vt.apply(this,arguments)}function Vt(){return(Vt=(0,g.Z)(function*(Mt){const Qe=Mt.name;ct.has(Qe)&&(ct.delete(Qe),yield Promise.all(Mt.container.getProviders().map(bt=>bt.delete())),Mt.isDeleted=!0)})).apply(this,arguments)}function Zt(Mt,Qe,bt){var Ft;let gn=null!==(Ft=_t[Mt])&&void 0!==Ft?Ft:Mt;bt&&(gn+=`-${bt}`);const qt=gn.match(/\s|\//),he=Qe.match(/\s|\//);if(qt||he){const se=[`Unable to register library "${gn}" with version "${Qe}":`];return qt&&se.push(`library name "${gn}" contains illegal characters (whitespace or "/")`),qt&&he&&se.push("and"),he&&se.push(`version name "${Qe}" contains illegal characters (whitespace or "/")`),void Me.warn(se.join(" "))}It(new p.wA(`${gn}-version`,()=>({library:gn,version:Qe}),"VERSION"))}function An(Mt,Qe){if(null!==Mt&&"function"!=typeof Mt)throw zn.create("invalid-log-argument");(0,Y.Am)(Mt,Qe)}function tn(Mt){(0,Y.Ub)(Mt)}const ur="firebase-heartbeat-store";let Fr=null;function ri(){return Fr||(Fr=(0,pe.X3)("firebase-heartbeat-database",1,(Mt,Qe)=>{0===Qe&&Mt.createObjectStore(ur)}).catch(Mt=>{throw zn.create("storage-open",{originalErrorMessage:Mt.message})})),Fr}function wt(){return(wt=(0,g.Z)(function*(Mt){try{return(yield ri()).transaction(ur).objectStore(ur).get(gr(Mt))}catch(Qe){throw zn.create("storage-get",{originalErrorMessage:Qe.message})}})).apply(this,arguments)}function Nt(Mt,Qe){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,g.Z)(function*(Mt,Qe){try{const Ft=(yield ri()).transaction(ur,"readwrite");return yield Ft.objectStore(ur).put(Qe,gr(Mt)),Ft.complete}catch(bt){throw zn.create("storage-set",{originalErrorMessage:bt.message})}})).apply(this,arguments)}function gr(Mt){return`${Mt.name}!${Mt.options.appId}`}class Di{constructor(Qe){this.container=Qe,this._heartbeatsCache=null;const bt=this.container.getProvider("app").getImmediate();this._storage=new Kt(bt),this._heartbeatsCachePromise=this._storage.read().then(Ft=>(this._heartbeatsCache=Ft,Ft))}triggerHeartbeat(){var Qe=this;return(0,g.Z)(function*(){const Ft=Qe.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),gn=Ir();if(null===Qe._heartbeatsCache&&(Qe._heartbeatsCache=yield Qe._heartbeatsCachePromise),Qe._heartbeatsCache.lastSentHeartbeatDate!==gn&&!Qe._heartbeatsCache.heartbeats.some(qt=>qt.date===gn))return Qe._heartbeatsCache.heartbeats.push({date:gn,agent:Ft}),Qe._heartbeatsCache.heartbeats=Qe._heartbeatsCache.heartbeats.filter(qt=>{const he=new Date(qt.date).valueOf();return Date.now()-he<=2592e6}),Qe._storage.overwrite(Qe._heartbeatsCache)})()}getHeartbeatsHeader(){var Qe=this;return(0,g.Z)(function*(){if(null===Qe._heartbeatsCache&&(yield Qe._heartbeatsCachePromise),null===Qe._heartbeatsCache||0===Qe._heartbeatsCache.heartbeats.length)return"";const bt=Ir(),{heartbeatsToSend:Ft,unsentEntries:gn}=function Xn(Mt,Qe=1024){const bt=[];let Ft=Mt.slice();for(const gn of Mt){const qt=bt.find(he=>he.agent===gn.agent);if(qt){if(qt.dates.push(gn.date),Mr(bt)>Qe){qt.dates.pop();break}}else if(bt.push({agent:gn.agent,dates:[gn.date]}),Mr(bt)>Qe){bt.pop();break}Ft=Ft.slice(1)}return{heartbeatsToSend:bt,unsentEntries:Ft}}(Qe._heartbeatsCache.heartbeats),qt=(0,pe.L)(JSON.stringify({version:2,heartbeats:Ft}));return Qe._heartbeatsCache.lastSentHeartbeatDate=bt,gn.length>0?(Qe._heartbeatsCache.heartbeats=gn,yield Qe._storage.overwrite(Qe._heartbeatsCache)):(Qe._heartbeatsCache.heartbeats=[],Qe._storage.overwrite(Qe._heartbeatsCache)),qt})()}}function Ir(){return(new Date).toISOString().substring(0,10)}class Kt{constructor(Qe){this.app=Qe,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,g.Z)(function*(){return!!(0,pe.hl)()&&(0,pe.eu)().then(()=>!0).catch(()=>!1)})()}read(){var Qe=this;return(0,g.Z)(function*(){return(yield Qe._canUseIndexedDBPromise)&&(yield function $r(Mt){return wt.apply(this,arguments)}(Qe.app))||{heartbeats:[]}})()}overwrite(Qe){var bt=this;return(0,g.Z)(function*(){var Ft;if(yield bt._canUseIndexedDBPromise){const qt=yield bt.read();return Nt(bt.app,{lastSentHeartbeatDate:null!==(Ft=Qe.lastSentHeartbeatDate)&&void 0!==Ft?Ft:qt.lastSentHeartbeatDate,heartbeats:Qe.heartbeats})}})()}add(Qe){var bt=this;return(0,g.Z)(function*(){var Ft;if(yield bt._canUseIndexedDBPromise){const qt=yield bt.read();return Nt(bt.app,{lastSentHeartbeatDate:null!==(Ft=Qe.lastSentHeartbeatDate)&&void 0!==Ft?Ft:qt.lastSentHeartbeatDate,heartbeats:[...qt.heartbeats,...Qe.heartbeats]})}})()}}function Mr(Mt){return(0,pe.L)(JSON.stringify({version:2,heartbeats:Mt})).length}!function wn(Mt){It(new p.wA("platform-logger",Qe=>new ce(Qe),"PRIVATE")),It(new p.wA("heartbeat",Qe=>new Di(Qe),"PRIVATE")),Zt(Te,"0.7.20",Mt),Zt(Te,"0.7.20","esm2017"),Zt("fire-js","")}("")},4859:(St,Be,L)=>{L.d(Be,{wA:()=>Y,H0:()=>Ae});var g=L(5861),p=L(2090);class Y{constructor(le,ie,Se){this.name=le,this.instanceFactory=ie,this.type=Se,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(le){return this.instantiationMode=le,this}setMultipleInstances(le){return this.multipleInstances=le,this}setServiceProps(le){return this.serviceProps=le,this}setInstanceCreatedCallback(le){return this.onInstanceCreated=le,this}}const pe="[DEFAULT]";class ce{constructor(le,ie){this.name=le,this.container=ie,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(le){const ie=this.normalizeInstanceIdentifier(le);if(!this.instancesDeferred.has(ie)){const Se=new p.BH;if(this.instancesDeferred.set(ie,Se),this.isInitialized(ie)||this.shouldAutoInitialize())try{const ft=this.getOrInitializeService({instanceIdentifier:ie});ft&&Se.resolve(ft)}catch(ft){}}return this.instancesDeferred.get(ie).promise}getImmediate(le){var ie;const Se=this.normalizeInstanceIdentifier(null==le?void 0:le.identifier),ft=null!==(ie=null==le?void 0:le.optional)&&void 0!==ie&&ie;if(!this.isInitialized(Se)&&!this.shouldAutoInitialize()){if(ft)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:Se})}catch(qe){if(ft)return null;throw qe}}getComponent(){return this.component}setComponent(le){if(le.name!==this.name)throw Error(`Mismatching Component ${le.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=le,this.shouldAutoInitialize()){if(function Te(Me){return"EAGER"===Me.instantiationMode}(le))try{this.getOrInitializeService({instanceIdentifier:pe})}catch(ie){}for(const[ie,Se]of this.instancesDeferred.entries()){const ft=this.normalizeInstanceIdentifier(ie);try{const qe=this.getOrInitializeService({instanceIdentifier:ft});Se.resolve(qe)}catch(qe){}}}}clearInstance(le=pe){this.instancesDeferred.delete(le),this.instancesOptions.delete(le),this.instances.delete(le)}delete(){var le=this;return(0,g.Z)(function*(){const ie=Array.from(le.instances.values());yield Promise.all([...ie.filter(Se=>"INTERNAL"in Se).map(Se=>Se.INTERNAL.delete()),...ie.filter(Se=>"_delete"in Se).map(Se=>Se._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(le=pe){return this.instances.has(le)}getOptions(le=pe){return this.instancesOptions.get(le)||{}}initialize(le={}){const{options:ie={}}=le,Se=this.normalizeInstanceIdentifier(le.instanceIdentifier);if(this.isInitialized(Se))throw Error(`${this.name}(${Se}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ft=this.getOrInitializeService({instanceIdentifier:Se,options:ie});for(const[qe,Xe]of this.instancesDeferred.entries())Se===this.normalizeInstanceIdentifier(qe)&&Xe.resolve(ft);return ft}onInit(le,ie){var Se;const ft=this.normalizeInstanceIdentifier(ie),qe=null!==(Se=this.onInitCallbacks.get(ft))&&void 0!==Se?Se:new Set;qe.add(le),this.onInitCallbacks.set(ft,qe);const Xe=this.instances.get(ft);return Xe&&le(Xe,ft),()=>{qe.delete(le)}}invokeOnInitCallbacks(le,ie){const Se=this.onInitCallbacks.get(ie);if(Se)for(const ft of Se)try{ft(le,ie)}catch(qe){}}getOrInitializeService({instanceIdentifier:le,options:ie={}}){let Se=this.instances.get(le);if(!Se&&this.component&&(Se=this.component.instanceFactory(this.container,{instanceIdentifier:(Me=le,Me===pe?void 0:Me),options:ie}),this.instances.set(le,Se),this.instancesOptions.set(le,ie),this.invokeOnInitCallbacks(Se,le),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,le,Se)}catch(ft){}var Me;return Se||null}normalizeInstanceIdentifier(le=pe){return this.component?this.component.multipleInstances?le:pe:le}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ae{constructor(le){this.name=le,this.providers=new Map}addComponent(le){const ie=this.getProvider(le.name);if(ie.isComponentSet())throw new Error(`Component ${le.name} has already been registered with ${this.name}`);ie.setComponent(le)}addOrOverwriteComponent(le){this.getProvider(le.name).isComponentSet()&&this.providers.delete(le.name),this.addComponent(le)}getProvider(le){if(this.providers.has(le))return this.providers.get(le);const ie=new ce(le,this);return this.providers.set(le,ie),ie}getProviders(){return Array.from(this.providers.values())}}},1877:(St,Be,L)=>{L.d(Be,{in:()=>p,Yd:()=>Te,Ub:()=>Ae,Am:()=>Me});const g=[];var p=(()=>{return(le=p||(p={}))[le.DEBUG=0]="DEBUG",le[le.VERBOSE=1]="VERBOSE",le[le.INFO=2]="INFO",le[le.WARN=3]="WARN",le[le.ERROR=4]="ERROR",le[le.SILENT=5]="SILENT",p;var le})();const Y={debug:p.DEBUG,verbose:p.VERBOSE,info:p.INFO,warn:p.WARN,error:p.ERROR,silent:p.SILENT},pe=p.INFO,ce={[p.DEBUG]:"log",[p.VERBOSE]:"log",[p.INFO]:"info",[p.WARN]:"warn",[p.ERROR]:"error"},we=(le,ie,...Se)=>{if(ie<le.logLevel)return;const ft=(new Date).toISOString(),qe=ce[ie];if(!qe)throw new Error(`Attempted to log a message with an invalid logType (value: ${ie})`);console[qe](`[${ft}]  ${le.name}:`,...Se)};class Te{constructor(ie){this.name=ie,this._logLevel=pe,this._logHandler=we,this._userLogHandler=null,g.push(this)}get logLevel(){return this._logLevel}set logLevel(ie){if(!(ie in p))throw new TypeError(`Invalid value "${ie}" assigned to \`logLevel\``);this._logLevel=ie}setLogLevel(ie){this._logLevel="string"==typeof ie?Y[ie]:ie}get logHandler(){return this._logHandler}set logHandler(ie){if("function"!=typeof ie)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=ie}get userLogHandler(){return this._userLogHandler}set userLogHandler(ie){this._userLogHandler=ie}debug(...ie){this._userLogHandler&&this._userLogHandler(this,p.DEBUG,...ie),this._logHandler(this,p.DEBUG,...ie)}log(...ie){this._userLogHandler&&this._userLogHandler(this,p.VERBOSE,...ie),this._logHandler(this,p.VERBOSE,...ie)}info(...ie){this._userLogHandler&&this._userLogHandler(this,p.INFO,...ie),this._logHandler(this,p.INFO,...ie)}warn(...ie){this._userLogHandler&&this._userLogHandler(this,p.WARN,...ie),this._logHandler(this,p.WARN,...ie)}error(...ie){this._userLogHandler&&this._userLogHandler(this,p.ERROR,...ie),this._logHandler(this,p.ERROR,...ie)}}function Ae(le){g.forEach(ie=>{ie.setLogLevel(le)})}function Me(le,ie){for(const Se of g){let ft=null;ie&&ie.level&&(ft=Y[ie.level]),Se.userLogHandler=null===le?null:(qe,Xe,...at)=>{const Ge=at.map(Je=>{if(null==Je)return null;if("string"==typeof Je)return Je;if("number"==typeof Je||"boolean"==typeof Je)return Je.toString();if(Je instanceof Error)return Je.message;try{return JSON.stringify(Je)}catch(Tt){return null}}).filter(Je=>Je).join(" ");Xe>=(null!=ft?ft:qe.logLevel)&&le({level:p[Xe].toLowerCase(),message:Ge,args:at,type:qe.name})}}}},5861:(St,Be,L)=>{function g(Y,pe,ce,we,Te,Ae,Me){try{var le=Y[Ae](Me),ie=le.value}catch(Se){return void ce(Se)}le.done?pe(ie):Promise.resolve(ie).then(we,Te)}function p(Y){return function(){var pe=this,ce=arguments;return new Promise(function(we,Te){var Ae=Y.apply(pe,ce);function Me(ie){g(Ae,we,Te,Me,le,"next",ie)}function le(ie){g(Ae,we,Te,Me,le,"throw",ie)}Me(void 0)})}}L.d(Be,{Z:()=>p})}},St=>{St(St.s=7348)}]);