"use strict";(self.webpackChunkECOMMERCE=self.webpackChunkECOMMERCE||[]).push([[490],{1490:(R,p,i)=>{i.r(p),i.d(p,{DashboardModule:()=>L});var l=i(9808),_=i(441),d=i(5107),t=i(5e3),g=i(910);let Z=(()=>{class r{constructor(e){this._CartService=e,this.cartUser=[]}ngOnInit(){this._CartService.getCartUser().subscribe(e=>{this.cartUser=e.map(n=>n.payload.doc.data()),console.log(this.cartUser)})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(g.N))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-user-cart"]],decls:17,vars:0,consts:[[1,"py-5"],[1,"container","mt-5"],[1,"table"],["src","../../../assets/image/cart-img-1.png","alt",""]],template:function(e,n){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"table",2)(3,"thead"),t._UZ(4,"th"),t.TgZ(5,"th"),t._uU(6,"Product Name"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Product Price"),t.qZA()(),t.TgZ(9,"tbody")(10,"tr")(11,"td"),t._UZ(12,"img",3),t.qZA(),t.TgZ(13,"td"),t._uU(14,"Tomato"),t.qZA(),t.TgZ(15,"td"),t._uU(16,"$ 500"),t.qZA()()()()()())},styles:["img[_ngcontent-%COMP%]{height:5rem}tr[_ngcontent-%COMP%]{vertical-align:middle}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid;padding:10px}"]}),r})();var h=i(4961),f=i(7556);function v(r,o){if(1&r&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td")(6,"button",4),t._uU(7,"view"),t.qZA()()()),2&r){const e=o.$implicit;t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(e.city)}}let C=(()=>{class r{constructor(e,n,c){this._UsersService=e,this._CartService=n,this._AuthService=c,this.users=[]}ngOnInit(){this._UsersService.getAllUser().subscribe(e=>{this.users=e.map(n=>n.payload.doc.data())})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(h.f),t.Y36(g.N),t.Y36(f.e))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-manage-orders"]],decls:13,vars:1,consts:[[1,"manage-orders","py-5"],[1,"container","mt-5"],[1,"table","my-5"],[4,"ngFor","ngForOf"],[1,"btn","text-info"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"h2"),t._uU(3,"Orders"),t.qZA(),t.TgZ(4,"table",2)(5,"thead")(6,"th"),t._uU(7,"Customer"),t.qZA(),t.TgZ(8,"th"),t._uU(9,"City"),t.qZA(),t._UZ(10,"th"),t.qZA(),t.TgZ(11,"tbody"),t.YNc(12,v,8,2,"tr",3),t.qZA()()()()),2&e&&(t.xp6(12),t.Q6J("ngForOf",n.users))},directives:[l.sg],styles:[""]}),r})();var a=i(2382),P=i(727),T=i(9531);const U=["imgProduct"];function y(r,o){1&r&&(t.TgZ(0,"p",19),t._uU(1,"* name is required"),t.qZA())}function A(r,o){1&r&&(t.TgZ(0,"p",19),t._uU(1,"* name is min length 3 "),t.qZA())}function q(r,o){1&r&&(t.TgZ(0,"p",19),t._uU(1,"* name is max length 20 "),t.qZA())}function M(r,o){if(1&r&&(t.TgZ(0,"div",17),t.YNc(1,y,2,0,"p",18),t.YNc(2,A,2,0,"p",18),t.YNc(3,q,2,0,"p",18),t.qZA()),2&r){const e=t.oxw();let n,c,u;t.xp6(1),t.Q6J("ngIf",null==(n=e.newProductForm.get("name"))||null==n.errors?null:n.errors.required),t.xp6(1),t.Q6J("ngIf",null==(c=e.newProductForm.get("name"))||null==c.errors?null:c.errors.minlength),t.xp6(1),t.Q6J("ngIf",null==(u=e.newProductForm.get("name"))||null==u.errors?null:u.errors.maxllength)}}function b(r,o){1&r&&(t.TgZ(0,"p",19),t._uU(1,"* category is required"),t.qZA())}function x(r,o){if(1&r&&(t.TgZ(0,"div",17),t.YNc(1,b,2,0,"p",18),t.qZA()),2&r){const e=t.oxw();let n;t.xp6(1),t.Q6J("ngIf",null==(n=e.newProductForm.get("category"))||null==n.errors?null:n.errors.required)}}function O(r,o){1&r&&(t.TgZ(0,"p",19),t._uU(1,"* price is required"),t.qZA())}function F(r,o){if(1&r&&(t.TgZ(0,"div",17),t.YNc(1,O,2,0,"p",18),t.qZA()),2&r){const e=t.oxw();let n;t.xp6(1),t.Q6J("ngIf",null==(n=e.newProductForm.get("price"))||null==n.errors?null:n.errors.required)}}function w(r,o){1&r&&(t.TgZ(0,"p",19),t._uU(1,"* product image is required"),t.qZA())}function N(r,o){if(1&r&&(t.TgZ(0,"div",17),t.YNc(1,w,2,0,"p",18),t.qZA()),2&r){const e=t.oxw();let n;t.xp6(1),t.Q6J("ngIf",null==(n=e.newProductForm.get("imgUrl"))||null==n.errors?null:n.errors.required)}}function I(r,o){if(1&r){const e=t.EpF();t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"img",20),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.qZA(),t.TgZ(9,"td")(10,"button",21),t.NdJ("click",function(){const u=t.CHM(e).index;return t.oxw().deleteProduct(u)}),t._uU(11,"delete"),t.qZA()()()}if(2&r){const e=o.$implicit,n=o.index;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Q6J("src",e.imgUrl,t.LSH),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.hij("$",e.price,"")}}let J=(()=>{class r{constructor(e){this._ProductsService=e,this.productsCat=[],this.test="",this.productsObservable=new P.w0,this.newProductForm=new a.cw({name:new a.NI(null,[a.kI.required,a.kI.minLength(3),a.kI.maxLength(20)]),category:new a.NI(null,[a.kI.required]),price:new a.NI(null,[a.kI.required]),imgUrl:new a.NI(null,[a.kI.required])})}ngOnInit(){this.productsObservable=this._ProductsService.getAllProducts().subscribe(e=>{this.productsCat=e.map(n=>Object.assign({id:n.payload.doc.id},n.payload.doc.data()))})}deleteProduct(e){this._ProductsService.deleteProduct(this.productsCat[e].id)}addProduct(){var e;let s=null===(e=this.imgProduct.nativeElement.files)||void 0===e?void 0:e[0];this._ProductsService.addNewProduct(this.newProductForm.value.name,this.newProductForm.value.category,this.newProductForm.value.price,s)}ngOnChanges(){}ngOnDestroy(){this.productsObservable.unsubscribe()}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(T.s))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-manage-products"]],viewQuery:function(e,n){if(1&e&&t.Gf(U,5),2&e){let c;t.iGM(c=t.CRH())&&(n.imgProduct=c.first)}},features:[t.TTD],decls:36,vars:7,consts:[[1,"manage-products","py-5"],[1,"container","mt-5"],[3,"formGroup","ngSubmit"],["formControlName","name","type","text","id","name","placeholder","product name...",1,"form-control","mb-2"],["class","alert-danger alert",4,"ngIf"],["for","category"],["formControlName","category","name","category","id","category",1,"form-control"],["value","vegetables"],["value","fruit"],["value","dairy"],["value","meat"],["formControlName","price","type","number","id","price","placeholder","product price...",1,"form-control","my-2"],["formControlName","imgUrl","type","file","id","imgUrl",1,"form-control","mb-2"],["imgProduct",""],["type","submit",1,"btn","custom-button","my-3",3,"disabled"],[1,"table"],[4,"ngFor","ngForOf"],[1,"alert-danger","alert"],["class","m-0",4,"ngIf"],[1,"m-0"],["alt","",3,"src"],[1,"btn","btn-danger",3,"click"]],template:function(e,n){if(1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"form",2),t.NdJ("ngSubmit",function(){return n.addProduct()}),t._UZ(3,"input",3),t.YNc(4,M,4,3,"div",4),t.TgZ(5,"label",5),t._uU(6,"Choose a category:"),t.qZA(),t.TgZ(7,"select",6)(8,"option",7),t._uU(9,"Vegetables"),t.qZA(),t.TgZ(10,"option",8),t._uU(11,"Fruit"),t.qZA(),t.TgZ(12,"option",9),t._uU(13,"Dairy"),t.qZA(),t.TgZ(14,"option",10),t._uU(15,"Meat"),t.qZA()(),t.YNc(16,x,2,1,"div",4),t._UZ(17,"input",11),t.YNc(18,F,2,1,"div",4),t._UZ(19,"input",12,13),t.YNc(21,N,2,1,"div",4),t.TgZ(22,"button",14),t._uU(23,"Add Product"),t.qZA()(),t.TgZ(24,"table",15)(25,"thead"),t._UZ(26,"th"),t.TgZ(27,"th"),t._uU(28,"Product Image"),t.qZA(),t.TgZ(29,"th"),t._uU(30,"Name"),t.qZA(),t.TgZ(31,"th"),t._uU(32,"Price"),t.qZA(),t._UZ(33,"th"),t.qZA(),t.TgZ(34,"tbody"),t.YNc(35,I,12,4,"tr",16),t.qZA()()()()),2&e){let c,u,s,m;t.xp6(2),t.Q6J("formGroup",n.newProductForm),t.xp6(2),t.Q6J("ngIf",(null==(c=n.newProductForm.get("name"))?null:c.errors)&&(null==(c=n.newProductForm.get("name"))?null:c.touched)),t.xp6(12),t.Q6J("ngIf",(null==(u=n.newProductForm.get("category"))?null:u.errors)&&(null==(u=n.newProductForm.get("category"))?null:u.touched)),t.xp6(2),t.Q6J("ngIf",(null==(s=n.newProductForm.get("price"))?null:s.errors)&&(null==(s=n.newProductForm.get("price"))?null:s.touched)),t.xp6(3),t.Q6J("ngIf",(null==(m=n.newProductForm.get("imgUrl"))?null:m.errors)&&(null==(m=n.newProductForm.get("imgUrl"))?null:m.touched)),t.xp6(1),t.Q6J("disabled",n.newProductForm.invalid),t.xp6(13),t.Q6J("ngForOf",n.productsCat)}},directives:[a._Y,a.JL,a.sg,a.Fj,a.JJ,a.u,l.O5,a.EJ,a.YN,a.Kr,a.wV,l.sg],styles:["img[_ngcontent-%COMP%]{height:5rem}tr[_ngcontent-%COMP%]{vertical-align:middle}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid;padding:10px;text-align:center}"]}),r})();function Y(r,o){if(1&r&&(t.TgZ(0,"tr")(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._UZ(4,"img",4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.qZA(),t.TgZ(7,"td"),t._uU(8),t.ALo(9,"currency"),t.qZA(),t.TgZ(10,"td"),t._uU(11),t.qZA()()),2&r){const e=o.$implicit,n=o.index;t.xp6(2),t.Oqu(n+1),t.xp6(2),t.Q6J("src",e.imgUrl,t.LSH),t.xp6(2),t.Oqu(e.name),t.xp6(2),t.Oqu(t.lcZ(9,5,e.price)),t.xp6(3),t.Oqu(e.quantity)}}const S=[{path:"",redirectTo:"manage-products",pathMatch:"full"},{path:"my-orders",canActivate:[d.a],component:(()=>{class r{constructor(e){this._CartService=e,this.cartUser=[]}ngOnInit(){this._CartService.getCartUser().subscribe(e=>{this.cartUser=e.map(n=>n.payload.doc.data()),console.log(this.cartUser)})}}return r.\u0275fac=function(e){return new(e||r)(t.Y36(g.N))},r.\u0275cmp=t.Xpm({type:r,selectors:[["app-my-orders"]],decls:17,vars:1,consts:[[1,"py-5"],[1,"container","mt-5"],[1,"table","mt-2"],[4,"ngFor","ngForOf"],["alt","",3,"src"]],template:function(e,n){1&e&&(t.TgZ(0,"section",0)(1,"div",1)(2,"h2"),t._uU(3,"My Orders"),t.qZA(),t.TgZ(4,"table",2)(5,"thead"),t._UZ(6,"th"),t.TgZ(7,"th"),t._uU(8,"Product Image"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"Product Name"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Product Price"),t.qZA(),t.TgZ(13,"th"),t._uU(14,"Product Quantity"),t.qZA()(),t.TgZ(15,"tbody"),t.YNc(16,Y,12,7,"tr",3),t.qZA()()()()),2&e&&(t.xp6(16),t.Q6J("ngForOf",n.cartUser))},directives:[l.sg],pipes:[l.H9],styles:["img[_ngcontent-%COMP%]{height:5rem}tr[_ngcontent-%COMP%]{vertical-align:middle}td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid;padding:10px}"]}),r})()},{path:"manage-products",canActivate:[d.a],component:J},{path:"manage-orders",canActivate:[d.a],component:C},{path:"manage-orders/user-cart",canActivate:[d.a],component:Z}];let D=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[_.Bz.forChild(S)],_.Bz]}),r})();var E=i(2084);let L=(()=>{class r{}return r.\u0275fac=function(e){return new(e||r)},r.\u0275mod=t.oAB({type:r}),r.\u0275inj=t.cJS({imports:[[l.ez,D,a.UX,a.u5,E.TE]]}),r})()}}]);